const n=s;!function(){const n=s,e=r();for(;;)try{if(798427===parseInt(n(558))/1+-parseInt(n(612))/2*(-parseInt(n(735))/3)+-parseInt(n(588))/4*(parseInt(n(679))/5)+-parseInt(n(618))/6+-parseInt(n(793))/7*(-parseInt(n(860))/8)+parseInt(n(797))/9+parseInt(n(435))/10)break;e.push(e.shift())}catch(n){e.push(e.shift())}}();const e={apiUrl:n(495),wsUrl:n(518)},t='<div id="game-container" class="{{STACK_MODE_CLASS}}">\n  {{VIDEO_HTML}} {{IMAGE_HTML}}\n  <button id="prev-btn" class="nav-btn swiper-button-prev"></button>\n  <div class="swiper{{SWIPER_STACK_MODE}}" id="games-swiper">\n    <div class="swiper-wrapper" id="slider"></div>\n  </div>\n  <button id="next-btn" class="nav-btn swiper-button-next"></button>\n</div>\n',a=n(525);class GamblioRecommendationWidget{static HTML="";static CSS="";static[n(896)]=[];static[n(857)]=0;static[n(488)]=null;static[n(653)]=new Map;static[n(467)]=null;static[n(544)]=new IntersectionObserver(n=>{n.forEach(n=>{const e=s,t=n[e(415)],a=t[e(683)](".swiper-slide"),o=Gamblio[e(839)]===e(810),i=a?.[e(517)].contains(e(834))??!1,r=t[e(719)]("data-game-id"),c=GamblioRecommendationWidget.allGames[e(820)](n=>String(n[e(731)])===r),d=String(r),l=!0===GamblioRecommendationWidget.visibilityState[e(700)](d),p=n[e(686)]>=1,g=!n[e(813)];!o||i?c?p&&!l?GamblioRecommendationWidget[e(905)](c,{reason:e(543)}):g&&l&&GamblioRecommendationWidget[e(653)][e(634)](d,!1):l&&g&&GamblioRecommendationWidget[e(653)][e(634)](d,!1):l&&GamblioRecommendationWidget[e(653)][e(634)](d,!1)})},{threshold:[0,1]});static[n(905)](e,{reason:t="Impression triggered",force:a=!1}={}){const o=n;if(!e)return;const i=String(e[o(731)]),s=!0===GamblioRecommendationWidget.visibilityState[o(700)](i);!a&&s||(GamblioRecommendationWidget[o(653)].set(i,!0),console[o(894)](o(675)+t,{gameId:String(e[o(731)]),name:e.displayName}),GamblioRecommendationWidget[o(553)](e[o(731)]))}static[n(549)](e){const t=n,a=e.slides?.[e[t(557)]];if(!a)return;const o=a.querySelector(t(430));if(!o)return;const i=o[t(719)]("data-game-id"),s=GamblioRecommendationWidget.allGames[t(820)](n=>String(n.normalizedId)===i);GamblioRecommendationWidget.lastActiveGameId&&GamblioRecommendationWidget.lastActiveGameId!==i&&GamblioRecommendationWidget[t(653)][t(634)](GamblioRecommendationWidget.lastActiveGameId,!1),GamblioRecommendationWidget.triggerImpression(s,{reason:t(639)}),GamblioRecommendationWidget.lastActiveGameId=i}static[n(432)](){const e=n,t=Gamblio.backgroundType;return t===e(464)?e(559):("video"===t||e(647),e(673))}static[n(903)](){const e=n;if("video"!==Gamblio.backgroundType)return"";const t=Gamblio[e(863)]||1,a=["video"+t+e(453)],o=a[t-1]||a[0];return e(592)+o+e(485)}static getImageHTML(){const e=n;if(Gamblio[e(617)]!==e(647))return"";return'<img class="background-image" src="./images/'+("image"+(Gamblio[e(680)]||1)+".jpg")+e(727)}static[n(771)](){const e=n,t=Gamblio.recommendationWidgetTargetContainerId;if(!t)return;const a=document[e(734)](t);if(!a)return;const o=a.style[e(681)];if(o&&""!==o[e(693)]()&&o!==e(844))return;const i=window.getComputedStyle(a)[e(681)];if(i&&"auto"!==i&&i!==e(587)&&"0"!==i)return;const s=(Gamblio[e(839)]||e(547))===e(810)?e(885):e(901);a[e(642)].height=s}static[n(551)](){const e=n,o=Gamblio[e(839)]===e(810),i=t,s=a,r=GamblioRecommendationWidget[e(903)](),c=GamblioRecommendationWidget.getImageHTML(),d=o?"stack-mode":"",l=o?" stack-mode":"";GamblioRecommendationWidget[e(593)]=i[e(487)](e(689),d)[e(487)]("{{VIDEO_HTML}}",r).replace("{{IMAGE_HTML}}",c)[e(487)](e(502),l);const p=GamblioRecommendationWidget[e(432)]();return GamblioRecommendationWidget[e(472)]=s[e(487)](e(744),Gamblio[e(831)]).replace("{{GRADIENT_COLOR_1}}",Gamblio[e(545)][0])[e(487)](e(694),Gamblio[e(545)][1])[e(487)](e(604),Gamblio[e(522)])[e(487)](e(646),Gamblio[e(822)])[e(487)](e(790),Gamblio[e(440)])[e(487)](e(456),p),!0}static async[n(583)](){const e=n;GamblioRecommendationWidget[e(771)]();if(!GamblioRecommendationWidget[e(551)]())return;const t=await GamblioRecommendationWidget.getRecommendedGames();if(!t)return;const a=document[e(712)](e(907));a[e(501)]="stylesheet",a.href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css",document[e(524)].appendChild(a);const o=document.createElement(e(412));o[e(779)]="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js",o[e(649)]=()=>{const n=e;document[n(524)][n(751)](n(708),n(572)+GamblioRecommendationWidget.CSS+"</style>"),document[n(734)](Gamblio[n(597)])[n(448)]=GamblioRecommendationWidget[n(593)],setTimeout(()=>{const e=n;GamblioRecommendationWidget[e(896)]=t[e(466)](n=>{const t=e,a=n.id??n[t(862)],o=n.gameName||n[t(670)]||"Game "+a;return{...n,normalizedId:a,displayName:o}}),GamblioRecommendationWidget.visibilityState.clear(),GamblioRecommendationWidget[e(896)][e(710)](n=>{const t=e;GamblioRecommendationWidget[t(653)][t(634)](String(n[t(731)]),!1)}),GamblioRecommendationWidget[e(467)]=null,GamblioRecommendationWidget[e(568)](),GamblioRecommendationWidget.initSwiper()},300)},document[e(524)][e(769)](o)}static buildGameUrl(e,t){const a=n;return Gamblio.gamePlayUrl[a(487)](a(516),e)[a(487)]("{gameId}",t)}static async[n(486)](){const t=n;try{const n=await fetch(e[t(843)]+t(469),{method:t(512),headers:{Accept:t(809),"Content-Type":t(809)},body:JSON.stringify({clientId:btoa(String(Gamblio[t(682)])),playerToken:Gamblio[t(555)]})});if(!n.ok)throw new Error("Failed to load games");const a=await n[t(480)]();return a[t(477)]||a}catch(n){return console[t(410)]("Error fetching games:",n),[]}}static[n(568)](){const e=n,t=document[e(734)]("slider");t[e(448)]="",GamblioRecommendationWidget[e(896)][e(710)](n=>{const a=e,o=n[a(731)],i=n[a(900)],s=n[a(825)]||n[a(733)];GamblioRecommendationWidget[a(653)][a(634)](String(o),!0===GamblioRecommendationWidget[a(653)][a(700)](String(o)));const r=document[a(712)]("div");r[a(517)][a(678)](a(459)),r[a(448)]='\n        <div class="game">\n          <img src="'+s+a(837)+i+'" data-game-id="'+o+'">\n          <div class="game-hover-buttons">\n            <button class="game-hover-btn demo-btn" data-action="demo">Demo</button>\n            <button class="game-hover-btn play-btn" data-action="play">Play</button>\n          </div>\n        </div>\n      ';const c=r[a(799)](a(513)),d=r[a(799)](a(685));c.addEventListener(a(490),n=>{const e=a;n[e(674)](),console[e(894)]("[Gamblio][Recommendation] Demo button clicked",{gameId:o,name:i});const t=GamblioRecommendationWidget[e(741)](e(434),o);window[e(534)][e(800)]=t}),d.addEventListener(a(490),e=>{const t=a;e[t(674)](),console[t(894)]("[Gamblio][Recommendation] Play button clicked",{gameId:n[t(731)],name:i}),GamblioRecommendationWidget[t(441)](n.normalizedId);const s=GamblioRecommendationWidget[t(741)](t(656),o);window.location[t(800)]=s}),t[a(769)](r),GamblioRecommendationWidget.observer.observe(r[a(799)](a(585)))})}static[n(556)](){const e=n,t=document[e(734)](e(870)),a=document[e(734)](e(854)),o=Gamblio[e(839)]||e(547),i=GamblioRecommendationWidget[e(896)][e(533)],s=e("stack"===o&&i>=3?810:547);s===e(810)&&(t[e(517)][e(678)](e(729)),a?.classList[e(678)](e(729))),s!==e(810)&&(t.classList[e(786)](e(729)),a?.[e(517)][e(786)]("stack-mode"));const r={slidesPerView:e(844),spaceBetween:16,navigation:{nextEl:"#next-btn",prevEl:e(468)},keyboard:{enabled:!0},mousewheel:{forceToAxis:!0}};s===e(547)&&(r.breakpoints={320:{spaceBetween:12},768:{spaceBetween:16},1024:{spaceBetween:20}}),"stack"===s&&(r[e(847)]=e(844),r[e(538)]=i>3,r[e(846)]="coverflow",r[e(442)]=!0,r[e(798)]=!0,r.spaceBetween=0,r.mousewheel=!1,r[e(582)]={rotate:0,stretch:0,depth:360,modifier:1.15,slideShadows:!1});const c=new Swiper("#games-swiper",r);GamblioRecommendationWidget[e(488)]=c,"stack"===s?(GamblioRecommendationWidget[e(549)](c),c.on(e(454),()=>{GamblioRecommendationWidget[e(549)](c)})):GamblioRecommendationWidget[e(488)]=null}static async addImpression(t){const a=n;console[a(894)](a(579),{gameId:t});try{const n=await fetch(e[a(843)]+a(705),{method:a(512),headers:{Accept:a(809),"Content-Type":a(809)},body:JSON[a(695)]({clientId:btoa(String(Gamblio[a(682)])),playerToken:Gamblio[a(555)],gameId:t})});if(!n.ok)throw new Error(a(590)+n[a(660)]);console[a(894)](a(629),{gameId:t})}catch(n){console[a(722)]("[Gamblio][Recommendation] Impression failed",{gameId:t,error:n[a(444)]})}}static async addClick(t){const a=n;try{const n=await fetch(e[a(843)]+a(630),{method:a(512),headers:{Accept:"application/json","Content-Type":a(809)},body:JSON.stringify({clientId:btoa(String(Gamblio[a(682)])),playerToken:Gamblio.token,gameId:t})});if(!n.ok)throw new Error(a(590)+n[a(660)])}catch(n){throw console[a(722)](a(460),{gameId:t,error:n[a(444)]}),n}}}const o=n(484),i=n(607);class GamblioChatWidget{static[n(637)](){const e=n,t=e(690),a=e(655);return Gamblio[e(754)]===t&&Gamblio[e(598)]===a}static get[n(593)](){const e=n,t=GamblioChatWidget[e(637)]()?e(723):"";return o[e(487)](e(801),Gamblio[e(598)]).replace(e(633),t)}static get[n(472)](){const e=n;return i[e(487)](e(766),Gamblio[e(754)]||e(690))[e(487)](e(458),Gamblio.hoverColor||e(690))}static[n(606)]=!1;static token="";static[n(682)]=null;static[n(785)]="";static playerId=null;static[n(507)]=[];static[n(552)]=!1;static shouldAutoScroll=!0;static[n(764)]=null;static[n(554)]=null;static[n(427)]=null;static[n(491)]={};static[n(562)]=null;static visibilityObserver=null;static[n(437)]=new Set;static[n(861)]=new Set;static visibilityTimeout=null;static[n(830)]=0;static hasSubmittedRating=!1;static markdownConverter=null;static init(){const e=n;GamblioChatWidget[e(606)]||(GamblioChatWidget[e(606)]=!0,GamblioChatWidget[e(555)]=Gamblio.token||"",GamblioChatWidget[e(682)]=Gamblio[e(682)]??null,GamblioChatWidget[e(785)]=GamblioChatWidget[e(445)](),GamblioChatWidget[e(668)](),GamblioChatWidget[e(461)](),GamblioChatWidget[e(426)](),GamblioChatWidget[e(496)](),GamblioChatWidget.ensureEmojiPicker(),GamblioChatWidget.ensureMarkdownConverter(),window.addEventListener(e(707),GamblioChatWidget[e(872)]))}static[n(668)](){const e=n;if(!document[e(734)](e(664))){const n=document[e(712)](e(642));n.id=e(664),n[e(657)]=GamblioChatWidget[e(472)],document.head[e(769)](n)}if(!document[e(734)](e(462))){const n=document.createElement(e(706));for(n[e(448)]=GamblioChatWidget[e(593)][e(693)]();n[e(717)];)document.body[e(769)](n[e(717)])}}static cacheElements(){const e=n;GamblioChatWidget[e(491)]={chatToggle:document.getElementById(e(893)),chatContainer:document.getElementById(e(462)),chatClose:document.getElementById(e(677)),chatInput:document.getElementById("chatInput"),sendButton:document[e(734)](e(828)),chatFooter:document[e(734)](e(651)),preChatContainer:document[e(734)]("preChatContainer"),preChatInput:document[e(734)](e(711)),preChatPlayerId:document[e(734)](e(740)),startChatButton:document[e(734)](e(807)),endChatButton:document[e(734)](e(738)),reopenChatButton:document[e(734)](e(421)),chatClosedMessage:document.getElementById(e(523)),messagesContainer:document.getElementById(e(781)),typingBubble:document[e(734)](e(471)),emojiButton:document[e(734)](e(726)),emojiPicker:document.getElementById(e(574)),fileInput:document.getElementById(e(586)),filePreview:document[e(734)](e(909)),previewImage:document[e(734)](e(910)),removeFile:document[e(734)]("removeFile"),messageForm:document[e(734)]("messageForm"),chatBody:document[e(799)](".nx-chat-body"),ratingContainer:document[e(734)](e(836)),ratingSubmitButton:document[e(734)](e(631)),ratingSkipButton:document.getElementById(e(450)),ratingThanksMessage:document.getElementById(e(620))}}static[n(426)](){const e=n;GamblioChatWidget.destroySocket(),GamblioChatWidget[e(507)]=[],GamblioChatWidget[e(519)]=null,GamblioChatWidget[e(508)]=!0,GamblioChatWidget[e(552)]=!1,GamblioChatWidget[e(764)]=null,GamblioChatWidget.clearTypingIndicator();const t=GamblioChatWidget[e(491)];if(t.messagesContainer&&(t[e(781)].innerHTML=""),t.chatClosedMessage&&(t[e(523)][e(642)][e(455)]=e(684)),t[e(908)]&&(t[e(908)][e(642)][e(455)]="flex"),t[e(761)]&&(t[e(761)][e(642)].display=e(684)),t.startChatButton&&(t[e(807)].disabled=!1),t[e(665)]&&(t[e(665)][e(642)][e(455)]="none"),t.chatInput&&(t[e(716)][e(492)]="",t.chatInput.disabled=!0,t[e(716)].placeholder=GamblioChatWidget[e(865)]()?e(791):e(884)),t[e(828)]&&(t[e(828)][e(416)]=!0),GamblioChatWidget[e(780)](null),t[e(601)]){t[e(601)][e(642)][e(455)]=e(563);const n=t[e(601)][e(799)](e(463));GamblioChatWidget[e(865)]()?(n&&(n.textContent=e(791)),t[e(711)]&&(t.preChatInput[e(492)]="",t[e(711)][e(642)].display=e(684)),t[e(740)]&&(t[e(740)].value="",t[e(740)][e(642)][e(455)]="none")):(n&&(n[e(657)]=e(736)),t.preChatInput&&(t.preChatInput[e(492)]="",t[e(711)][e(642)][e(455)]=""),t[e(740)]&&(t[e(740)][e(492)]="",t[e(740)].style[e(455)]=""))}GamblioChatWidget.elements[e(574)]&&(GamblioChatWidget[e(491)][e(574)][e(642)][e(455)]="none"),GamblioChatWidget[e(814)]=null,GamblioChatWidget[e(725)](),GamblioChatWidget[e(898)]&&(GamblioChatWidget[e(898)][e(581)](),GamblioChatWidget[e(898)]=null),GamblioChatWidget.visibilityTimeout&&(clearTimeout(GamblioChatWidget.visibilityTimeout),GamblioChatWidget[e(609)]=null),GamblioChatWidget[e(437)].clear(),GamblioChatWidget.seenIdsSet[e(627)](),GamblioChatWidget[e(877)](!1),t[e(893)]?.[e(517)][e(786)](e(413)),t[e(462)]?.classList.remove(e(713))}static[n(496)](){const e=n,t=GamblioChatWidget[e(491)];t.chatToggle?.[e(724)]("click",()=>GamblioChatWidget.toggleChat()),t[e(677)]?.[e(724)](e(490),()=>GamblioChatWidget.closeChat()),t[e(462)]?.[e(724)]("click",n=>n[e(674)]()),t[e(807)]?.[e(724)](e(490),()=>GamblioChatWidget.startChat()),t[e(711)]?.[e(724)]("keypress",n=>{const t=e;n.key===t(855)&&(n.preventDefault(),GamblioChatWidget.startChat())}),t.preChatPlayerId?.[e(724)](e(526),n=>{const t=e;n[t(892)]===t(855)&&(n[t(835)](),GamblioChatWidget[t(515)]())}),t[e(761)]?.[e(724)](e(490),()=>GamblioChatWidget[e(767)]()),t[e(421)]?.[e(724)](e(490),()=>GamblioChatWidget[e(426)]()),t[e(828)]?.addEventListener("click",()=>GamblioChatWidget[e(776)]()),t.chatInput?.[e(724)]("keydown",n=>{const t=e;"Enter"===n[t(892)]&&(n[t(835)](),GamblioChatWidget[t(776)]())}),t[e(716)]?.[e(724)](e(851),()=>GamblioChatWidget[e(622)]()),t.fileInput?.addEventListener(e(669),n=>GamblioChatWidget[e(409)](n)),t[e(532)]?.[e(724)](e(490),()=>GamblioChatWidget[e(428)]()),t[e(726)]?.[e(724)](e(490),n=>{const t=e;n[t(674)](),GamblioChatWidget[t(833)]()}),t[e(574)]&&t[e(574)].addEventListener(e(662),n=>{const t=e;GamblioChatWidget[t(491)][t(716)]&&(GamblioChatWidget.elements[t(716)][t(492)]+=n[t(635)][t(873)],GamblioChatWidget[t(491)][t(716)][t(625)](),GamblioChatWidget[t(491)][t(574)][t(642)].display="none")}),!GamblioChatWidget.documentClickHandler&&(GamblioChatWidget.documentClickHandler=n=>{const t=e,a=GamblioChatWidget.elements[t(574)],o=GamblioChatWidget[t(491)][t(726)];a&&"none"!==a[t(642)][t(455)]&&(o&&o[t(749)](n[t(415)])||a[t(749)](n[t(415)])||(a[t(642)][t(455)]="none"))},document[e(724)]("click",GamblioChatWidget[e(562)]));const a=t[e(658)];if(a){Array[e(577)](a[e(628)](e(575)))[e(710)](n=>{const t=e;n[t(724)](t(490),()=>GamblioChatWidget.handleRatingSelection(Number(n[t(803)][t(548)]))),n[t(724)]("mouseenter",()=>{const e=t;!GamblioChatWidget[e(827)]&&GamblioChatWidget[e(529)](Number(n[e(803)].rating))}),n.addEventListener(t(808),()=>{!GamblioChatWidget[t(827)]&&GamblioChatWidget.updateRatingStars()}),n[t(724)](t(887),e=>{const a=t;(e[a(892)]===a(855)||" "===e.key)&&(e[a(835)](),GamblioChatWidget.handleRatingSelection(Number(n[a(803)].rating))),(e[a(892)]===a(721)||e[a(892)]===a(422))&&(e.preventDefault(),GamblioChatWidget.focusAdjacentRatingButton(n,1)),(e.key===a(626)||e.key===a(643))&&(e[a(835)](),GamblioChatWidget.focusAdjacentRatingButton(n,-1))})}),a[e(724)](e(808),()=>{const n=e;!GamblioChatWidget.hasSubmittedRating&&GamblioChatWidget[n(529)]()})}t[e(482)]?.[e(724)](e(490),()=>GamblioChatWidget[e(632)]()),t.ratingSkipButton?.[e(724)](e(490),()=>GamblioChatWidget[e(818)]())}static[n(688)](){const e=n;if(typeof customElements===e(795))return;if(customElements.get(e(576)))return;if(document.getElementById(e(750)))return;const t=document[e(712)](e(412));t.id="gamblio-emoji-picker-module",t[e(697)]=e(748),t[e(779)]="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js",document[e(524)][e(769)](t)}static[n(654)](){const e=n;if(!GamblioChatWidget[e(499)])if(typeof showdown===e(795)){if(document.getElementById("gamblio-showdown-script"))return;const n=document.createElement(e(412));n.id=e(608),n[e(779)]=e(539),n.onload=()=>{const n=e;GamblioChatWidget[n(499)]=new(showdown[n(497)])({openLinksInNewWindow:!0})},document[e(524)].appendChild(n)}else GamblioChatWidget.markdownConverter=new showdown.Converter({openLinksInNewWindow:!0})}static[n(865)](){return Boolean(GamblioChatWidget[n(555)])}static[n(521)](){const e=n,t=GamblioChatWidget.elements;t[e(462)]?.[e(517)].contains(e(713))?GamblioChatWidget[e(589)]():GamblioChatWidget[e(759)]()}static[n(759)](){const e=n,t=GamblioChatWidget[e(491)];t[e(462)]&&(t[e(462)][e(517)][e(678)]("open"),t[e(893)]?.[e(517)][e(678)](e(413)),GamblioChatWidget[e(877)](!0),GamblioChatWidget[e(688)](),GamblioChatWidget[e(865)]()&&!GamblioChatWidget[e(478)]&&GamblioChatWidget[e(515)](!0),setTimeout(()=>{const n=e;GamblioChatWidget[n(508)]=!0,GamblioChatWidget[n(616)](),GamblioChatWidget.setupMessageVisibilityObserver(),GamblioChatWidget[n(508)]=!1,t.chatInput?.[n(625)]()},250))}static closeChat(){const e=n,t=GamblioChatWidget.elements;t[e(462)]&&(t[e(462)][e(517)][e(786)]("open"),t[e(893)]?.[e(517)][e(786)](e(413)),GamblioChatWidget[e(877)](!1),GamblioChatWidget[e(898)]&&(GamblioChatWidget[e(898)][e(581)](),GamblioChatWidget[e(898)]=null))}static setChatAriaState(e){const t=n,a=GamblioChatWidget.elements;a[t(893)]?.[t(858)]("aria-expanded",t(e?709:605)),a[t(462)]?.[t(858)]("aria-hidden",e?"false":t(709))}static[n(515)](e=!1){const t=n;if(!GamblioChatWidget[t(478)]||GamblioChatWidget[t(478)][t(775)]!==WebSocket[t(667)]){if(!GamblioChatWidget[t(865)]()){const n=(GamblioChatWidget.elements[t(711)]?.[t(492)]||"")[t(693)]();if(!n&&e)return;GamblioChatWidget[t(785)]=n||GamblioChatWidget[t(445)]();const a=(GamblioChatWidget.elements[t(740)]?.[t(492)]||"")[t(693)]();GamblioChatWidget[t(814)]=a?parseInt(a,10):null}GamblioChatWidget[t(491)][t(807)]&&(GamblioChatWidget[t(491)][t(807)][t(416)]=!0),GamblioChatWidget[t(491)][t(601)]&&(GamblioChatWidget[t(491)][t(601)][t(642)][t(455)]="none"),GamblioChatWidget[t(491)][t(665)]&&(GamblioChatWidget.elements.chatFooter[t(642)][t(455)]="flex"),GamblioChatWidget[t(507)]=[],GamblioChatWidget.renderMessages(),GamblioChatWidget.setChatInputEnabled(!1,"Connecting..."),GamblioChatWidget[t(880)]()}}static createWebSocket(){const e=n,t=GamblioChatWidget.resolveWebSocketUrl();if(!t)return console.warn(e(895)),void GamblioChatWidget[e(787)](!1,e(510));GamblioChatWidget[e(718)]();try{const n=new WebSocket(t);GamblioChatWidget[e(478)]=n,n.addEventListener(e(713),()=>{const n=e,t={tag:"playerStartChatAndJoin",playerToken:GamblioChatWidget[n(555)]||null,clientId:GamblioChatWidget[n(682)]??null,playerName:GamblioChatWidget[n(785)]||""};GamblioChatWidget[n(814)]&&(t[n(537)]=GamblioChatWidget[n(814)]),GamblioChatWidget.sendSocketMessage(t)}),n[e(724)](e(444),n=>GamblioChatWidget.handleSocketMessage(n)),n[e(724)]("error",n=>{const t=e;console[t(722)](t(882),n)}),n[e(724)](e(876),()=>{GamblioChatWidget.socket=null,GamblioChatWidget.setChatInputEnabled(!1,"Connection lost")})}catch(n){console.error(e(619),n),GamblioChatWidget[e(787)](!1,e(541))}}static[n(506)](){const t=n;if(e.wsUrl){const n=e[t(859)][t(487)](/\/$/,"");return n[t(546)](t(494))?n:n+t(494)}if(e[t(843)])try{const n=new URL(e[t(843)]);return n[t(802)]=n.protocol===t(737)?t(560):t(758),n[t(584)]+"/ws/chat"}catch(n){console.warn("[Gamblio][Chat] Invalid CONFIG.apiUrl",n)}return null}static sendSocketMessage(e){const t=n;GamblioChatWidget.socket&&GamblioChatWidget[t(478)].readyState===WebSocket[t(667)]?GamblioChatWidget[t(478)].send(JSON[t(695)](e)):console.warn(t(550))}static handleSocketMessage(e){const t=n;let a;try{a=JSON.parse(e.data)}catch(n){return void console.warn(t(571),n)}a.tag!==t(806)?a[t(782)]!==t(850)?console[t(474)](t(838),a):GamblioChatWidget[t(770)](a):GamblioChatWidget[t(457)](a)}static handleBumpMessage(e){const t=n,a=e[t(520)]||{};switch(e[t(594)]){case"startChatSuccess":GamblioChatWidget.chatId=a.chat??a[t(519)]??null,GamblioChatWidget[t(879)]();break;case t(819):GamblioChatWidget[t(507)][t(710)](n=>{const e=t;n.id===a.messageId&&(n[e(500)]=a.delivered_at)}),GamblioChatWidget[t(616)]();break;case t(511):case t(826):const n=a[t(760)];GamblioChatWidget.messages[t(710)](e=>{const o=t;e.id===n&&(e[o(431)]=a[o(431)]||e[o(431)]||[])}),GamblioChatWidget[t(616)]();break;case t(531):const o=(a.messageIds||[]).map(n=>Number(n));GamblioChatWidget[t(507)].forEach(n=>{const e=t,a=Number(n.id);if(o[e(624)](a)){const t=Math[e(840)](Date[e(473)]()/1e3);if(n.seen_by&&Array.isArray(n[e(431)])&&0!==n[e(431)][e(533)]){!n[e(431)][e(692)](n=>n.seen_at===t)&&n.seen_by.push({seen_at:t})}else n[e(431)]=[{seen_at:t}]}}),GamblioChatWidget[t(616)]();break;case t(742):if(GamblioChatWidget.clearTypingIndicator(),!0===a[t(881)])break;GamblioChatWidget[t(671)]({id:a.id||a[t(760)],role:a.role,content:a[t(702)],attachment:a.attachment_url,unix:Number(a.timestamp)||Math[t(840)](Date[t(473)]()/1e3),delivered_at:void 0!==a[t(500)]?a[t(500)]:null,seen_by:a[t(431)]||null}),GamblioChatWidget.renderMessages(),GamblioChatWidget[t(774)]();break;case t(867):GamblioChatWidget[t(602)]();break;default:console.info(t(565),e)}}static[n(770)](e){const t=n,a=Array[t(447)](e[t(507)])?e[t(507)]:[];GamblioChatWidget.messages=a[t(753)](n=>n&&"system_event"!==n[t(645)]&&n[t(645)]!==t(869)&&!0!==n[t(881)]).map(n=>({id:n.id||n.messageId,role:n[t(645)],content:n[t(438)],attachment:n[t(911)],unix:Number(n.timestamp)||Math[t(840)](Date.now()/1e3),delivered_at:void 0!==n[t(500)]?n[t(500)]:null,seen_by:n[t(431)]||null})),e[t(823)]&&(GamblioChatWidget[t(519)]=e[t(823)],GamblioChatWidget[t(879)]()),GamblioChatWidget[t(616)](),GamblioChatWidget[t(774)]()}static[n(879)](){const e=n;GamblioChatWidget[e(787)](!0,e(580)),GamblioChatWidget[e(491)].endChatButton?.[e(642)][e(439)](e(455),e(796)),GamblioChatWidget[e(491)][e(807)]&&(GamblioChatWidget[e(491)][e(807)][e(416)]=!1),GamblioChatWidget[e(491)][e(716)]?.[e(625)]()}static[n(602)](){const e=n;GamblioChatWidget.clearTypingIndicator(),GamblioChatWidget[e(787)](!1,e(414)),GamblioChatWidget[e(491)].messageForm?.style[e(439)]("display",e(684)),GamblioChatWidget[e(491)].chatClosedMessage?.[e(642)].setProperty(e(455),"block"),GamblioChatWidget.elements[e(761)]?.[e(642)][e(439)](e(455),e(684)),GamblioChatWidget[e(491)][e(807)]&&(GamblioChatWidget[e(491)][e(807)].disabled=!1),GamblioChatWidget[e(428)](),GamblioChatWidget[e(519)]=null,GamblioChatWidget[e(718)](),!GamblioChatWidget[e(827)]&&GamblioChatWidget[e(573)]()}static[n(671)](e){const t=n;e&&(GamblioChatWidget[t(507)][t(772)]({id:e.id||null,role:e[t(645)]||t(436),content:e[t(438)]||"",attachment:e[t(489)]||null,unix:e[t(425)]||Math[t(840)](Date.now()/1e3),delivered_at:void 0!==e.delivered_at?e.delivered_at:null,seen_by:e[t(431)]||null}),GamblioChatWidget.renderMessages())}static[n(616)](){const e=n,t=GamblioChatWidget.elements;if(!t[e(781)])return;const a=t[e(890)]||t[e(781)],o=Math[e(720)](a[e(641)]-a[e(874)]-a.clientHeight)<=5;t[e(781)][e(448)]="";let i=null;GamblioChatWidget[e(507)].forEach(n=>{const a=e;!n[a(425)]&&(n.timestamp?n.unix=Number(n[a(648)]):n[a(425)]=Math[a(840)](Date[a(473)]()/1e3));const o=new Date(1e3*n[a(425)]),s=o[a(701)]()+"-"+(o[a(659)]()+1)+"-"+o[a(595)]();i!==s&&(i=s,t.messagesContainer[a(769)](GamblioChatWidget[a(762)](n[a(425)]))),t[a(781)].appendChild(GamblioChatWidget[a(621)](n))}),(GamblioChatWidget[e(508)]||o)&&(a[e(874)]=a[e(641)])}static[n(762)](e){const t=n,a=document[t(712)](t(706));a[t(567)]=t(777);const o=document[t(712)](t(706));o.className=t(611);const i=document[t(712)]("span");i[t(567)]=t(728),i[t(657)]=GamblioChatWidget[t(730)](e);const s=document[t(712)](t(706));return s[t(567)]="nx-separator-line",a[t(644)](o,i,s),a}static[n(621)](e){const t=n,a=document[t(712)](t(706));a[t(567)]=t(446)+("player"===e[t(645)]?"user":t(436)),GamblioChatWidget.isBotMessage(e[t(645)])&&e.id&&a[t(858)](t(788),e.id);const o=document[t(712)](t(706));o[t(567)]=t(704)+(e[t(645)]===t(603)?"user":"bot");let i=e[t(438)]||"",s="";if(e.role===t(603))s=GamblioChatWidget.escapeHtml(i)[t(487)](/\n/g,t(784));else{GamblioChatWidget[t(654)]();try{s=GamblioChatWidget.markdownConverter?GamblioChatWidget[t(499)].makeHtml(i):GamblioChatWidget[t(493)](i)[t(487)](/\n/g,t(784))}catch(n){s=GamblioChatWidget[t(493)](i)[t(487)](/\n/g,t(784))}}if(o.innerHTML=s,e[t(489)]){const n=document[t(712)](t(585));n.src=e[t(489)],n[t(912)]=t(527),n[t(642)].cssText=t(465),n[t(724)](t(490),()=>window[t(713)](e[t(489)],"_blank")),o[t(769)](n)}const r=document[t(712)]("span");r.className=t(648);const c=GamblioChatWidget.isTodayUnix(e[t(425)]);if(r[t(657)]=GamblioChatWidget[t(732)](e[t(425)]),r.title=GamblioChatWidget.formatMessageTimestampTitle(e.unix,c),e[t(645)]===t(603)){const n=document.createElement(t(706));n[t(517)][t(678)](t(610));const i=document.createElement("div");i[t(517)][t(678)](t(897));const s=document[t(712)]("span");s[t(517)].add(t(476));const c=GamblioChatWidget.isMessageSeen(e);if(GamblioChatWidget[t(475)](e))if(s[t(448)]="✓✓",c){s[t(517)][t(678)]("delivered"),s.classList[t(786)]("sent");const n=e[t(431)][0];n&&n[t(599)]?s[t(540)]=t(794)+GamblioChatWidget[t(805)](n[t(599)]):s[t(540)]="Seen"}else s.classList.add(t(672)),s.classList[t(786)](t(530)),s[t(540)]="Delivered at "+GamblioChatWidget[t(853)](e[t(500)]);else s[t(448)]="✓",s[t(517)].add(t(672)),s[t(517)][t(786)](t(530)),s[t(540)]="Sent";i[t(769)](s),n.appendChild(o),n[t(769)](i),a[t(769)](n),a.appendChild(r)}else a[t(769)](r),a[t(769)](o);return a}static[n(732)](e){const t=n;new Date,new Date(1e3*e);if(GamblioChatWidget[t(864)](e))return GamblioChatWidget[t(811)](e);{const n=GamblioChatWidget[t(542)](e);return 1===n?t(596):n+t(600)}}static[n(528)](e,t){const a=n,o=new Date(1e3*e);return t?o[a(821)](void 0,{year:a(417),month:a(698),day:a(698),hour:a(698),minute:a(698),second:a(698),hour12:!1}):GamblioChatWidget[a(811)](e)}static[n(811)](e){const t=n;return new Date(1e3*e).toLocaleTimeString("en-GB",{hour12:!1,hour:"2-digit",minute:t(698),second:t(698)})}static isTodayUnix(e){const t=n;if(!e)return!1;const a=new Date(1e3*e),o=new Date;return a.getFullYear()===o[t(701)]()&&a.getMonth()===o[t(659)]()&&a[t(595)]()===o[t(595)]()}static[n(542)](e){const t=n,a=new Date(1e3*e),o=new Date,i=new Date(o[t(701)](),o[t(659)](),o[t(595)]())[t(449)](),s=new Date(a[t(701)](),a[t(659)](),a[t(595)]())[t(449)]();return Math.floor((i-s)/864e5)}static separatorLabel(e){const t=n,a=GamblioChatWidget[t(542)](e);if(0===a)return t(816);if(1===a)return t(615);return new Date(1e3*e).toLocaleDateString(void 0,{month:"short",day:t(698),year:t(417)})}static[n(418)](e){const t=n;return e===t(783)||e===t(636)||e===t(789)}static[n(475)](e){const t=n;return null!==e[t(500)]&&void 0!==e[t(500)]}static[n(703)](e){const t=n;return e.seen_by&&Array.isArray(e[t(431)])&&e[t(431)][t(533)]>0}static[n(805)](e){const t=n,a="string"==typeof e?parseInt(e,10):e;return new Date(1e3*a).toLocaleString(void 0,{year:t(417),month:t(698),day:t(698),hour:t(698),minute:t(698),second:t(698),hour12:!1})}static formatDeliveredTime(e){const t=n,a="string"==typeof e?parseInt(e,10):e;return new Date(1e3*a).toLocaleString(void 0,{year:"numeric",month:t(698),day:t(698),hour:"2-digit",minute:t(698),second:t(698),hour12:!1})}static[n(493)](e){const t=n;return(e||"")[t(487)](/[&<>"']/g,n=>({"&":t(778),"<":t(849),">":t(817),'"':t(578),"'":t(878)}[n]))}static[n(776)](){const e=n;if(!GamblioChatWidget[e(478)]||GamblioChatWidget[e(478)].readyState!==WebSocket[e(667)])return void console[e(722)](e(514));if(!GamblioChatWidget[e(519)])return void console[e(722)]("[Gamblio][Chat] Cannot send message without chatId");const t=(GamblioChatWidget[e(491)][e(716)]?.[e(492)]||"")[e(693)]();if(!t&&!GamblioChatWidget.selectedFile)return;if(GamblioChatWidget.isSending)return;GamblioChatWidget[e(552)]=!0,GamblioChatWidget[e(787)](!1);const a=()=>{const n=e;GamblioChatWidget[n(650)](),GamblioChatWidget[n(663)]()};if(GamblioChatWidget[e(764)]){const n=new FileReader;n[e(649)]=()=>{const o=e;GamblioChatWidget[o(883)]({tag:o(832),chatId:GamblioChatWidget[o(519)],message:t||o(715),attachment:n[o(623)]}),GamblioChatWidget[o(491)][o(716)]&&(GamblioChatWidget[o(491)][o(716)].value=""),GamblioChatWidget[o(428)](),a()},n[e(891)]=()=>{const n=e;console.warn("[Gamblio][Chat] Failed to read attachment"),GamblioChatWidget[n(428)](),a()},n[e(479)](GamblioChatWidget[e(764)])}else GamblioChatWidget.sendSocketMessage({tag:"playerSendMessage",chatId:GamblioChatWidget[e(519)],message:t,attachment:null}),GamblioChatWidget[e(491)][e(716)]&&(GamblioChatWidget.elements[e(716)].value=""),a()}static finishSending(){const e=n;GamblioChatWidget[e(552)]=!1,GamblioChatWidget.chatId&&(GamblioChatWidget[e(787)](!0,e(580)),GamblioChatWidget[e(491)].chatInput?.[e(625)]())}static[n(409)](e){const t=n,a=e[t(415)].files&&e[t(415)][t(503)][0];if(a)return a.type[t(696)](t(804))?a[t(868)]>5242880?(window[t(745)]("File size must be less than 5MB"),void(e.target[t(492)]="")):(GamblioChatWidget[t(764)]=a,void GamblioChatWidget[t(780)](a)):(window.alert(t(886)),void(e[t(415)][t(492)]=""))}static[n(780)](e){const t=n,a=GamblioChatWidget.elements;if(!a.filePreview)return;if(GamblioChatWidget[t(554)]&&(URL[t(561)](GamblioChatWidget[t(554)]),GamblioChatWidget.previewObjectUrl=null),!e)return a.filePreview[t(642)].display=t(684),void(a[t(910)]&&(a[t(910)][t(779)]=""));const o=URL.createObjectURL(e);GamblioChatWidget[t(554)]=o,a[t(909)].style[t(455)]="flex",a[t(910)]&&(a.previewImage[t(779)]=o)}static[n(428)](){const e=n;GamblioChatWidget.selectedFile=null,GamblioChatWidget[e(491)].fileInput&&(GamblioChatWidget[e(491)][e(586)].value=""),GamblioChatWidget[e(780)](null)}static scheduleTypingIndicator(){const e=n;GamblioChatWidget[e(622)](),GamblioChatWidget[e(427)]=window[e(888)](()=>{GamblioChatWidget[e(452)](!0)},4e3+Math.floor(3e3*Math[e(451)]()))}static[n(622)](){const e=n;GamblioChatWidget[e(427)]&&(window[e(889)](GamblioChatWidget[e(427)]),GamblioChatWidget[e(427)]=null),GamblioChatWidget[e(452)](!1)}static setTypingIndicator(e){const t=n,a=GamblioChatWidget.elements[t(471)];a&&(a[t(642)][t(455)]=e?"flex":t(684))}static[n(787)](e,t){const a=n,o=GamblioChatWidget.elements;o[a(716)]&&(o[a(716)][a(416)]=!e,void 0!==t&&(o[a(716)][a(566)]=t)),o.sendButton&&(o.sendButton.disabled=!e)}static sendCloseMessage(){const e=n;if(!GamblioChatWidget[e(519)])return;const t={tag:"playerLeaveChatAndClose",playerToken:GamblioChatWidget.token||null,chatId:GamblioChatWidget.chatId,clientId:GamblioChatWidget[e(682)]??null,playerName:GamblioChatWidget[e(785)]||""};GamblioChatWidget[e(814)]&&(t[e(537)]=GamblioChatWidget[e(814)]),GamblioChatWidget[e(883)](t),GamblioChatWidget[e(519)]=null}static[n(767)](){const e=n;GamblioChatWidget[e(564)](),GamblioChatWidget[e(602)]()}static handleBeforeUnload(){GamblioChatWidget[n(564)](),GamblioChatWidget.destroySocket()}static[n(718)](){const e=n;if(GamblioChatWidget[e(478)]){try{GamblioChatWidget[e(478)][e(876)]()}catch(n){console.warn(e(747),n)}GamblioChatWidget.socket=null}}static[n(445)](){const e=n,t=e(739);let a="";for(let n=0;n<4;n++)a+=t[e(752)](Math[e(840)](Math[e(451)]()*t[e(533)]));return e(812)+a}static[n(481)](e){const t=n,a=new Date(1e3*e);return a[t(701)]()+"-"+(a[t(659)]()+1)+"-"+a[t(595)]()}static[n(833)](){const e=n,t=GamblioChatWidget[e(491)][e(574)];t&&(GamblioChatWidget[e(688)](),t[e(642)][e(455)]="none"===t.style.display?e(796):e(684))}static handleRatingSelection(e){const t=n;GamblioChatWidget[t(491)][t(658)]&&!GamblioChatWidget[t(827)]&&(GamblioChatWidget[t(830)]=e,GamblioChatWidget.updateRatingStars(),GamblioChatWidget.elements[t(482)]&&(GamblioChatWidget[t(491)][t(482)][t(416)]=0===GamblioChatWidget.selectedRatingValue))}static updateRatingStars(e=null){const t=n,a=GamblioChatWidget[t(491)][t(658)];if(!a)return;const o=Array[t(577)](a.querySelectorAll(t(575))),i=null!==e?e:GamblioChatWidget[t(830)];o[t(710)](n=>{const e=t,a=Number(n.dataset.rating)<=i;n.classList[e(899)](e(443),a),n[e(858)](e(423),String(a))})}static[n(614)](e,t){const a=n,o=GamblioChatWidget[a(491)][a(658)];if(!o)return;const i=Array[a(577)](o[a(628)](a(575))),s=i.indexOf(e);i[(s+t+i[a(533)])%i.length][a(625)]()}static[n(632)](){const e=n;if(!GamblioChatWidget[e(478)]||GamblioChatWidget[e(478)][e(775)]!==WebSocket[e(667)]||!GamblioChatWidget[e(519)])return void console[e(722)]("[Gamblio][Chat] Unable to submit rating; socket not open or chat missing.");if(0===GamblioChatWidget[e(830)])return;const t={tag:e(743),chatId:GamblioChatWidget.chatId,clientId:GamblioChatWidget[e(682)]??null,rating:GamblioChatWidget[e(830)]};GamblioChatWidget[e(555)]&&(t[e(433)]=GamblioChatWidget[e(555)]),GamblioChatWidget.playerId&&(t[e(537)]=GamblioChatWidget[e(814)]);try{GamblioChatWidget[e(883)](t),GamblioChatWidget[e(827)]=!0,GamblioChatWidget[e(491)][e(482)]&&(GamblioChatWidget[e(491)].ratingSubmitButton[e(416)]=!0);const n=GamblioChatWidget[e(491)][e(658)];if(n){Array[e(577)](n.querySelectorAll("[data-rating]"))[e(710)](n=>n[e(416)]=!0)}GamblioChatWidget[e(491)].ratingSkipButton&&GamblioChatWidget.elements[e(845)][e(517)][e(678)](e(509)),GamblioChatWidget[e(491)].ratingThanksMessage&&GamblioChatWidget.elements[e(483)].classList.remove("hidden"),setTimeout(()=>{const t=e;n&&n[t(517)][t(678)](t(509))},5e3)}catch(n){console[e(410)](e(852),n)}}static[n(818)](){const e=n;GamblioChatWidget[e(827)]=!1,GamblioChatWidget[e(848)]()}static[n(573)](){const e=n,t=GamblioChatWidget[e(491)][e(658)];if(!t)return;t[e(517)][e(786)]("hidden"),GamblioChatWidget[e(491)][e(483)]&&GamblioChatWidget[e(491)][e(483)][e(517)].add("hidden"),GamblioChatWidget[e(491)][e(845)]&&GamblioChatWidget[e(491)][e(845)][e(517)][e(786)](e(509));Array[e(577)](t[e(628)]("[data-rating]"))[e(710)](n=>n[e(416)]=!1)}static[n(848)](){const e=n,t=GamblioChatWidget.elements[e(658)];t&&t[e(517)].add(e(509))}static[n(725)](){const e=n;GamblioChatWidget[e(830)]=0,GamblioChatWidget.hasSubmittedRating=!1,GamblioChatWidget[e(848)](),GamblioChatWidget[e(529)](),GamblioChatWidget[e(491)].ratingSubmitButton&&(GamblioChatWidget[e(491)][e(482)][e(416)]=!0),GamblioChatWidget[e(491)][e(483)]&&GamblioChatWidget[e(491)][e(483)].classList[e(678)](e(509)),GamblioChatWidget[e(491)][e(845)]&&GamblioChatWidget[e(491)][e(845)][e(517)].remove(e(509));const t=GamblioChatWidget[e(491)][e(658)];if(t){Array[e(577)](t[e(628)]("[data-rating]"))[e(710)](n=>{const t=e;n.disabled=!1,n[t(858)]("aria-pressed",t(605))})}}static[n(829)](e){const t=n;if(GamblioChatWidget.seenIdsSet[t(676)](e))return!0;const a=GamblioChatWidget[t(507)][t(820)](n=>n.id===e);if(a&&a[t(431)]&&Array[t(447)](a[t(431)])&&a.seen_by[t(533)]>0){if(a[t(431)].some(n=>n.seen_by_type===t(603)||null===n[t(638)]))return!0}return!1}static[n(470)](e){const t=n;if(!GamblioChatWidget[t(519)])return void console[t(722)](t(640));if(!GamblioChatWidget[t(478)])return void console[t(722)](t(815));if(GamblioChatWidget[t(478)][t(775)]!==WebSocket.OPEN)return void console[t(722)]("[Visibility] ✗ SEND FAILED - Socket not OPEN, state:",GamblioChatWidget[t(478)].readyState);if(0===e[t(533)])return void console[t(722)]("[Visibility] ✗ SEND FAILED - Empty messageIds array");const a={tag:t(824),chatId:GamblioChatWidget[t(519)],messageIds:e};try{GamblioChatWidget[t(883)](a)}catch(n){console.error(t(429),n)}}static[n(774)](){const e=n;if(!GamblioChatWidget[e(519)]||!GamblioChatWidget[e(491)].chatContainer?.[e(517)][e(749)](e(713)))return;const t=document[e(799)](e(871));if(!t)return;GamblioChatWidget.visibilityObserver&&GamblioChatWidget[e(898)].disconnect(),GamblioChatWidget[e(609)]&&clearTimeout(GamblioChatWidget[e(609)]),GamblioChatWidget[e(898)]=new IntersectionObserver(n=>{const t=e;n[t(710)](n=>{const e=t,a=Number(n[e(415)][e(719)](e(788)));a&&(n.isIntersecting&&n[e(686)]>.01?GamblioChatWidget[e(437)][e(678)](a):GamblioChatWidget.visibleIdsSet[e(746)](a))}),GamblioChatWidget[t(609)]&&clearTimeout(GamblioChatWidget[t(609)]),GamblioChatWidget[t(609)]=setTimeout(()=>{const n=t;if(GamblioChatWidget.visibleIdsSet[n(868)]>0){const e=Array[n(577)](GamblioChatWidget.visibleIdsSet)[n(753)](e=>!GamblioChatWidget[n(829)](e));e[n(533)]>0&&(GamblioChatWidget[n(470)](e),e[n(710)](e=>GamblioChatWidget[n(861)].add(e))),GamblioChatWidget.visibleIdsSet[n(627)]()}},300)},{root:t,rootMargin:e(875),threshold:[0,.01,.5,1]});const a=document[e(628)]("[data-message-id]");a[e(710)](n=>{GamblioChatWidget[e(898)].observe(n)}),setTimeout(()=>{const n=e,o=Array[n(577)](a)[n(753)](e=>{const a=n,o=e[a(866)](),i=t.getBoundingClientRect();return o[a(420)]<i[a(792)]&&o[a(792)]>i.top&&o[a(755)]<i[a(536)]&&o[a(536)]>i[a(755)]});o[n(533)]>0&&(o[n(710)](e=>{const t=n,a=Number(e[t(719)]("data-message-id"));a&&!GamblioChatWidget[t(829)](a)&&GamblioChatWidget[t(437)].add(a)}),GamblioChatWidget.visibilityTimeout&&clearTimeout(GamblioChatWidget.visibilityTimeout),GamblioChatWidget[n(609)]=setTimeout(()=>{const e=n;if(GamblioChatWidget[e(437)][e(868)]>0){const n=Array[e(577)](GamblioChatWidget.visibleIdsSet).filter(n=>!GamblioChatWidget[e(829)](n));n.length>0&&(GamblioChatWidget[e(470)](n),n[e(710)](n=>GamblioChatWidget.seenIdsSet[e(678)](n))),GamblioChatWidget.visibleIdsSet[e(627)]()}},300))},100)}}class Gamblio{static[n(555)]=void 0;static[n(591)]="en";static isVip=!1;static[n(424)]={};static[n(570)]={};static async[n(583)](e){const t=n,a=e[t(699)],o=e[t(591)],i=e[t(570)]||{},s=e[t(424)]||{},r=e[t(757)];Gamblio[t(570)]={backgroundType:i[t(617)]||t(411),gradientDirection:i.gradientDirection||t(652),gradientColors:i[t(545)]||["rgba(3, 132, 145,1)","rgba(0, 0, 0, 1)"],videoIndex:i.videoIndex||1,imageIndex:i[t(680)]||1,imageExtension:i[t(842)]||t(569),shadowColor:i[t(831)]||t(902),navButtonColor:i.navButtonColor||t(841),navButtonHoverColor:i[t(440)]||t(906),displayMode:i.displayMode||t(547)},Gamblio.chatConfig={backgroundPrimary:s.backgroundPrimary||"#0292a0",hoverColor:s[t(756)]||t(690),logoUrl:s.logoUrl||"https://app.gamblio.ai/logo-dark.svg"},Gamblio[t(617)]=Gamblio[t(570)][t(617)],Gamblio[t(831)]=Gamblio[t(570)][t(831)],Gamblio.gradientColors=Gamblio[t(570)][t(545)],Gamblio[t(522)]=Gamblio.recommendationConfig.gradientDirection,Gamblio.videoIndex=Gamblio[t(570)][t(863)],Gamblio.imageIndex=Gamblio.recommendationConfig[t(680)],Gamblio.imageExtension=Gamblio[t(570)].imageExtension,Gamblio[t(822)]=Gamblio[t(570)][t(822)],Gamblio.navButtonHoverColor=Gamblio.recommendationConfig.navButtonHoverColor,Gamblio.displayMode=Gamblio[t(570)].displayMode,Gamblio.backgroundPrimary=Gamblio.chatConfig[t(754)],Gamblio.logoUrl=Gamblio[t(424)][t(598)],Gamblio.hoverColor=Gamblio[t(424)][t(756)],Gamblio[t(682)]=e[t(682)],Gamblio[t(757)]=r||"#",Gamblio[t(597)]=e[t(597)],console[t(894)](Gamblio.isVip,t(765)),o&&(Gamblio[t(591)]=o);const c=Gamblio[t(661)](a);if(c)return Gamblio[t(555)]=c,Gamblio.isVip=await Gamblio[t(763)](c),Gamblio[t(768)](),void Gamblio[t(419)]();Gamblio[t(768)]()}static[n(613)](e){const t=n,a=("; "+document.cookie).split("; "+e+"=");if(2===a.length)return a.pop().split(";")[t(691)]()}static getTokenFromLocalStorage(e){const t=n;if(e&&typeof window!==t(795))try{return window[t(498)]?.getItem(e)||void 0}catch(n){return void console[t(722)](t(666)+e+t(535),n)}}static[n(661)](e){const t=n;if(!e)return;const a="string"==typeof e?e.trim():void 0;let o;if(a){if(o=Gamblio[t(856)](a),o)return o;if(o=Gamblio[t(613)](a),o)return o}}static async[n(763)](t){const a=n;if(!t)return!1;try{const n=await fetch(e[a(843)]+a(505)+t);if(!n.ok)return console[a(722)](a(687)),!1;const o=await n.json();if(typeof o===a(504))return o;if(typeof o?.[a(714)]===a(504))return o[a(714)];if("boolean"==typeof o?.[a(904)])return o[a(904)]}catch(n){console[a(722)](a(773),n)}return!1}static[n(768)](){GamblioChatWidget[n(583)]()}static[n(419)](){GamblioRecommendationWidget[n(583)]()}}function s(n,e){const t=r();return(s=function(n,e){return t[n-=409]})(n,e)}function r(){const n=["{{HOVER_COLOR}}","swiper-slide","[Gamblio][Recommendation] Click failed","cacheElements","chatContainer","label","gradient","max-width: 200px; max-height: 200px; width: 100%; height: auto; border-radius: 8px; margin-top: 8px; cursor: pointer; object-fit: cover;","map","lastActiveGameId","#prev-btn","/recommendation/","sendMessagesAsRead","typingBubble","CSS","now","info","isMessageDelivered","checkmark-icon","data","socket","readAsDataURL","json","dayKey","ratingSubmitButton","ratingThanksMessage",'<button\n  class="chat-toggle"\n  id="chatToggle"\n  aria-label="Open chat with Admiral Bot"\n  aria-expanded="false"\n  aria-controls="chatContainer"\n>\n  <svg\n    viewBox="0 0 24 24"\n    xmlns="http://www.w3.org/2000/svg"\n    role="img"\n    aria-hidden="true"\n  >\n    <path\n      d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z"\n    ></path>\n    <circle cx="7" cy="10" r="1"></circle>\n    <circle cx="12" cy="10" r="1"></circle>\n    <circle cx="17" cy="10" r="1"></circle>\n  </svg>\n</button>\n<div\n  class="nx-chat-container"\n  id="chatContainer"\n  role="dialog"\n  aria-label="Admiral Bot Chat"\n  aria-hidden="true"\n>\n  <div class="nx-chat-header">\n    <div class="nx-chat-header-content">\n      <img src="{{LOGO_URL}}" alt="Logo" {{LOGO_STYLE}} />\n      <div id="typingBubble" class="typing-bubble" aria-hidden="true">\n        <div class="typing-dots">\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    </div>\n    <div class="chat-navigation">\n      <button id="endChat" type="button" class="end-chat" style="display: none">\n        End chat\n      </button>\n      <button\n        class="nx-chat-close"\n        id="chatClose"\n        type="button"\n        aria-label="Close chat"\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"\n          ></path>\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="nx-chat-body" role="log" aria-live="polite">\n    <div id="preChatContainer" class="pre-chat-container">\n      <label for="preChatInput">Enter your name, ID or email (optional)</label>\n      <input\n        id="preChatInput"\n        type="text"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter your name or email..."\n        oninput="this.value = this.value.replace(/[^a-zA-Z0-9@.\\s_-]/g, \'\')"\n      />\n      <input\n        id="preChatPlayerId"\n        type="number"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter player ID..."\n        oninput="this.value = this.value.replace(/[^0-9]/g, \'\')"\n        style="display: none"\n      />\n      <button id="startChatButton" type="submit" class="pre-chat-button">\n        Start Chat\n      </button>\n    </div>\n    <div class="messages" id="messagesContainer"></div>\n  </div>\n  <div id="nxChatFooter" class="nx-chat-footer">\n    <div\n      id="chatClosedMessage"\n      class="chat-closed-message"\n      style="text-align: center; display: none; width: 100%"\n    >\n      <p>This chat is closed</p>\n      <button\n        id="reopenChatButton"\n        style="\n          margin-top: 0px;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        "\n      >\n        Reopen chat\n      </button>\n      <div\n        id="chatRatingContainer"\n        class="chat-rating hidden"\n        role="group"\n        aria-labelledby="chatRatingTitle"\n      >\n        <p id="chatRatingTitle">Rate your chat experience</p>\n        <div\n          class="star-rating"\n          role="radiogroup"\n          aria-labelledby="chatRatingTitle"\n        >\n          <button\n            type="button"\n            class="star"\n            data-rating="1"\n            aria-label="1 star"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="2"\n            aria-label="2 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="3"\n            aria-label="3 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="4"\n            aria-label="4 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="5"\n            aria-label="5 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n        </div>\n        <div class="rating-actions">\n          <button\n            id="submitRatingButton"\n            class="submit-rating"\n            type="button"\n            disabled\n          >\n            Submit review\n          </button>\n          <button id="skipRatingButton" class="skip-rating" type="button">\n            Skip\n          </button>\n        </div>\n        <div id="ratingThanks" class="rating-thanks hidden">\n          Thanks for your feedback!\n        </div>\n      </div>\n    </div>\n    <div\n      id="filePreview"\n      class="file-preview"\n      style="\n        display: none;\n        padding: 8px;\n        background: #f5f5f5;\n        border-radius: 8px;\n        margin-bottom: 8px;\n      "\n    >\n      <div\n        class="file-preview-content"\n        style="display: flex; align-items: center; gap: 8px"\n      >\n        <img\n          id="previewImage"\n          src="/placeholder.svg"\n          alt="Preview"\n          style="\n            max-width: 60px;\n            max-height: 60px;\n            border-radius: 4px;\n            object-fit: cover;\n          "\n        />\n        <span style="flex: 1; font-size: 14px; color: #666"\n          >Image selected</span\n        >\n        <button\n          id="removeFile"\n          class="remove-file-btn"\n          style="\n            padding: 4px 8px;\n            background: #ff4444;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 12px;\n          "\n        >\n          Remove\n        </button>\n      </div>\n    </div>\n    <div\n      id="messageForm"\n      style="display: flex; width: 100%; align-items: center; gap: 4px"\n    >\n      <input\n        type="text"\n        autocomplete="off"\n        class="nx-chat-input"\n        placeholder="Connecting..."\n        id="chatInput"\n        aria-label="Message input"\n      />\n      <button id="emojiButton" class="emoji-button" title="Add emoji">\n        <svg\n          viewBox="0 0 24 24"\n          width="20"\n          height="20"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n          fill="white"\n        >\n          <path\n            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"\n          />\n          <circle cx="8.5" cy="10.5" r="1.5" />\n          <circle cx="15.5" cy="10.5" r="1.5" />\n          <path\n            d="M12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"\n          />\n        </svg>\n      </button>\n      <emoji-picker\n        id="emojiPicker"\n        style="\n          display: none;\n          position: absolute;\n          bottom: 100%;\n          right: 0;\n          z-index: 1000;\n          margin-bottom: 8px;\n        "\n      ></emoji-picker>\n      <label class="file-upload-btn" style="display: flex; align-items: center">\n        <input\n          type="file"\n          accept="image/*"\n          style="display: none"\n          id="fileInput"\n        />\n        <div class="file-upload-icon">\n          <svg\n            viewBox="0 0 24 24"\n            width="20"\n            height="20"\n            xmlns="http://www.w3.org/2000/svg"\n            role="img"\n            aria-hidden="true"\n            fill="currentColor"\n          >\n            <path\n              d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"\n            />\n          </svg>\n        </div>\n      </label>\n      <button\n        class="send-button"\n        id="sendButton"\n        aria-label="Send message"\n        disabled\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M3.3938 2.20468C3.70395 1.96828 4.12324 1.93374 4.4679 2.1162L21.4679 11.1162C21.7953 11.2895 22 11.6296 22 12C22 12.3704 21.7953 12.7105 21.4679 12.8838L4.4679 21.8838C4.12324 22.0662 3.70395 22.0317 3.3938 21.7953C3.08365 21.5589 2.93922 21.1637 3.02382 20.7831L4.97561 12L3.02382 3.21692C2.93922 2.83623 3.08365 2.44109 3.3938 2.20468ZM6.80218 13L5.44596 19.103L16.9739 13H6.80218ZM16.9739 11H6.80218L5.44596 4.89699L16.9739 11Z"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="powered-by">\n    <span>Powered by</span>\n    <img\n      src="https://app.gamblio.ai/logo-dark.svg"\n      alt="Gamblio logo"\n      style="width: 15px; height: 15px"\n    />\n    <a href="https://gamblio.ai" target="_blank">Gamblio</a>\n  </div>\n</div>\n','" type="video/mp4">\n    </video>',"getRecommendedGames","replace","swiperInstance","attachment","click","elements","value","escapeHtml","/ws/chat","https://dev-core.gamblio.ai","setupEventListeners","Converter","localStorage","markdownConverter","delivered_at","rel","{{SWIPER_STACK_MODE}}","files","boolean","/api/accounts/is_vip_player?token=","resolveWebSocketUrl","messages","shouldAutoScroll","hidden","Connection unavailable","messageSeen","POST",".demo-btn","[Gamblio][Chat] Cannot send message while socket is closed","startChat","{mode}","classList","wss://dev-core.gamblio.ai","chatId","bump_data","toggleChat","gradientDirection","chatClosedMessage","head",':root {\n  --card-shadow-color: {{SHADOW_COLOR}};\n  --gradient-color-1: {{GRADIENT_COLOR_1}};\n  --gradient-color-2: {{GRADIENT_COLOR_2}};\n  --gradient-direction: {{GRADIENT_DIRECTION}};\n  --nav-button-color: {{NAV_BUTTON_COLOR}};\n  --nav-button-hover-color: {{NAV_BUTTON_HOVER_COLOR}};\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  width: 100%;\n  height: 100%;\n  padding-inline: 1rem;\n  position: relative;\n  {{BACKGROUND_STYLE}}\n}\n\n#game-container.stack-mode {\n  perspective: 1200px;\n}\n\n#game-container video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n}\n\n#game-container .background-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n  pointer-events: none;\n}\n\n/* Swiper Container */\n.swiper {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper.stack-mode {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.swiper-slide {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto !important;\n  height: calc(100% - 2rem);\n}\n\n/* Game Cards */\n.game {\n  width: auto;\n  height: 100%;\n  max-height: 100%;\n  aspect-ratio: 1;\n  position: relative;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  box-shadow: 0 4px 16px var(--card-shadow-color);\n  transition: all 0.3s ease;\n}\n\n.game:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 24px var(--card-shadow-color);\n}\n\n.game img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.game::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 1;\n  border-radius: 12px;\n}\n\n.game:hover::before {\n  opacity: 1;\n}\n\n.game-hover-buttons {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 2;\n  pointer-events: none;\n  width: calc(100% - 16px);\n  height: 50%;\n  padding: 0 8px;\n}\n\n.game:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.game-hover-btn {\n  width: 100%;\n  flex: 1;\n  border: none;\n  border-radius: 6px;\n  font-size: clamp(16px, 2.5vw, 20px);\n  font-weight: 700;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 1px;\n  white-space: nowrap;\n}\n\n.game-hover-btn.demo-btn {\n  background: #808080 !important;\n  color: white !important;\n}\n\n.game-hover-btn.demo-btn:hover {\n  background: #6b6b6b !important;\n}\n\n.game-hover-btn.play-btn {\n  background: #e6c328 !important;\n  color: #002157 !important;\n}\n\n.game-hover-btn.play-btn:hover {\n  background: #f2c944 !important;\n}\n\n/* Navigation Buttons */\n.nav-btn {\n  position: relative;\n  z-index: 10;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n.swiper-button-prev::after,\n.swiper-button-next::after {\n  color: var(--nav-button-color);\n  font-size: 16px;\n  font-weight: bold;\n  transition: color 0.3s ease;\n}\n\n.swiper-button-prev:hover::after,\n.swiper-button-next:hover::after {\n  color: var(--nav-button-hover-color);\n}\n\n.nav-btn.swiper-button-disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n}\n\n.nav-btn.swiper-button-disabled:hover::after {\n  color: var(--nav-button-color);\n}\n\n/* Mobile Responsiveness */\n@media (max-width: 768px) {\n  #prev-btn,\n  #next-btn {\n    display: none !important;\n  }\n}\n\n/* Stack Mode - Half-Full-Half 3D Card Effect */\n.swiper.stack-mode .swiper-slide {\n  width: 100% !important;\n  max-width: 350px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: transform 0.4s ease, opacity 0.4s ease;\n}\n\n.swiper.stack-mode .swiper-slide .game {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\n}\n\n#game-container.stack-mode .game {\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n#game-container.stack-mode .game:hover {\n  transform: none;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n.swiper.stack-mode .swiper-slide-prev,\n.swiper.stack-mode .swiper-slide-next {\n  z-index: 1;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game,\n.swiper.stack-mode .swiper-slide-next .game {\n  transform: translateZ(-60px) scale(0.9);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n.swiper.stack-mode .swiper-slide-prev .game::after,\n.swiper.stack-mode .swiper-slide-next .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.60),\n    rgba(0, 0, 0, 0.7)\n  );\n  opacity: 0.85;\n  z-index: 3;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n}\n\n.swiper.stack-mode .swiper-slide:not(.swiper-slide-prev):not(.swiper-slide-active):not(.swiper-slide-next) {\n  opacity: 0;\n}\n\n.swiper.stack-mode .swiper-slide-active {\n  width: 100% !important;\n  max-width: 380px;\n  transform: translateZ(80px) scale(1.08);\n  z-index: 5;\n}\n\n.swiper.stack-mode .swiper-slide-active .game {\n  box-shadow: 0 20px 48px rgba(0, 0, 0, 0.55);\n}\n\n.swiper.stack-mode .swiper-slide-active .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.50);\n  z-index: 3;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game-hover-buttons,\n.swiper.stack-mode .swiper-slide-next .game-hover-buttons {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game::before {\n  opacity: 0.35;\n}\n\n',"keypress","Message attachment","formatMessageTimestampTitle","updateRatingStars","delivered","messagesMarkedAsRead","removeFile","length","location",'" from localStorage.',"right","customPlayerId","loop","https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js","title","Connection error","diffDaysFromToday","Fully visible in viewport; scheduling impression","observer","gradientColors","endsWith","carousel","rating","handleActiveStackSlide","[Gamblio][Chat] Tried to send message while socket not open","loadTemplate","isSending","addImpression","previewObjectUrl","token","initSwiper","activeIndex","283007CkKoRV","background: linear-gradient(var(--gradient-direction), var(--gradient-color-1), var(--gradient-color-2));","wss:","revokeObjectURL","documentClickHandler","flex","sendCloseMessage","[Gamblio][Chat] Unknown bump type","placeholder","className","renderCarousel","jpg","recommendationConfig","[Gamblio][Chat] Failed to parse message","<style>","showRatingPrompt","emojiPicker","[data-rating]","emoji-picker","from","&quot;","[Gamblio][Recommendation] Sending impression","Type your message...","disconnect","coverflowEffect","init","origin","img","fileInput","0px","3305972TpONIs","closeChat","HTTP ","language",'<video autoplay loop muted playsinline>\n      <source src="./videos/',"HTML","bump_type","getDate","1 day ago","recommendationWidgetTargetContainerId","logoUrl","seen_at"," days ago","preChatContainer","handleChatClosed","player","{{GRADIENT_DIRECTION}}","false","hasInitialized",':root {\n  --chat-toggle-bg: {{BACKGROUND_PRIMARY}};\n  --chat-toggle-hover: {{HOVER_COLOR}};\n}\n\n.chat-toggle,\n.nx-chat-container {\n  font-family: "Geist", sans-serif;\n}\n\n.chat-toggle {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  background: var(--chat-toggle-bg);\n  border-radius: 50%;\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(0, 33, 87, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1001;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.chat-toggle:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 26px rgba(0, 33, 87, 0.4);\n}\n\n.chat-toggle svg {\n  width: 28px;\n  height: 28px;\n  fill: currentColor;\n  transition: transform 0.3s ease;\n}\n\n.chat-toggle.active svg {\n  transform: rotate(45deg);\n}\n\n.nx-chat-container {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 380px;\n  height: 500px;\n  background: #ffffff;\n  border: 1px solid #e6e6e6;\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);\n  display: flex;\n  flex-direction: column;\n  transform: translateY(20px) scale(0.95);\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;\n  z-index: 1000;\n  overflow: hidden;\n}\n\n.nx-chat-container.open {\n  transform: translateY(0) scale(1);\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.nx-chat-container,\n.nx-chat-container * {\n  box-sizing: border-box;\n  font-family: "Geist", sans-serif;\n}\n\n.nx-chat-header {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  padding: 16px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px 12px 0 0;\n}\n\n.nx-chat-header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-header img {\n  width: 110px;\n  height: auto;\n}\n\n.chat-navigation {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-close,\n.end-chat {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 12px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.end-chat {\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  font-size: 0.8rem;\n}\n\n.nx-chat-close:hover,\n.end-chat:hover {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.nx-chat-close svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.nx-chat-body {\n  flex: 1;\n  background: #fafafa;\n  padding: 16px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n}\n\n.nx-chat-body::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n\n.pre-chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  box-shadow: 0 12px 28px rgba(0, 33, 87, 0.12);\n  text-align: center;\n}\n\n.pre-chat-container label {\n  font-size: 0.9rem;\n  color: #2b2b2b;\n}\n\n.pre-chat-input {\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.pre-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.15);\n}\n\n.pre-chat-button {\n  border: none;\n  border-radius: 20px;\n  padding: 12px 20px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.pre-chat-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.03);\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  flex: 1;\n  min-height: 0;\n}\n\n.message-wrapper {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 8px;\n}\n\n.message-wrapper.bot {\n  justify-content: flex-end;\n}\n\n.message-with-indicator {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.delivery-indicator {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 2px;\n  padding-right: 4px;\n  height: 14px;\n}\n\n.checkmark-icon {\n  font-size: 0.75rem;\n  line-height: 1;\n  color: #888;\n  user-select: none;\n  cursor: default;\n  transition: color 0.2s ease;\n  font-weight: 500;\n  letter-spacing: -0.5px;\n}\n\n.checkmark-icon.sent {\n  color: #888;\n}\n\n.checkmark-icon.delivered {\n  color: var(--chat-toggle-bg);\n}\n\n.checkmark-icon:hover {\n  opacity: 0.8;\n}\n\n.message {\n  padding: 10px 14px;\n  border-radius: 14px;\n  line-height: 1.45;\n  font-size: 0.95rem;\n  background: #ffffff;\n  color: #2c2c2c;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n.message.user {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  border-bottom-right-radius: 4px;\n}\n\n.message.bot {\n  border-bottom-left-radius: 4px;\n}\n\n.message img {\n  margin-top: 8px;\n  border-radius: 8px;\n  max-width: 220px;\n  width: 100%;\n  height: auto;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #888;\n  white-space: nowrap;\n}\n\n.nx-chat-footer {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px 6px;\n  border-top: 1px solid #e6e6e6;\n  background: #ffffff;\n  border-radius: 0 0 12px 12px;\n}\n\n.chat-closed-message {\n  text-align: center;\n}\n\n.chat-closed-message button {\n  margin-top: 8px;\n  border: none;\n  border-radius: 20px;\n  padding: 8px 16px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n\n.file-preview {\n  display: none;\n  border: 1px solid #e6e6e6;\n  border-radius: 8px;\n  background: #f5f5f5;\n  padding: 10px 14px;\n}\n\n.file-preview-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.file-preview img {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  object-fit: cover;\n  border: 1px solid #dcdcdc;\n}\n\n.remove-file-btn {\n  background: #c0392b;\n  color: #ffffff;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.remove-file-btn:hover {\n  background: #962d22;\n}\n\n.message-form {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  position: relative;\n}\n\n.nx-chat-input {\n  flex: 1;\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.nx-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.2);\n}\n\n.emoji-button,\n.file-upload-icon,\n.send-button {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: var(--chat-toggle-bg);\n  border: none;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.emoji-button:hover,\n.file-upload-icon:hover,\n.send-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.05);\n}\n\n.emoji-button svg,\n.file-upload-icon svg,\n.send-button svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.file-upload-btn input {\n  display: none;\n}\n\n.typing-bubble {\n  display: none;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.typing-dots {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-dots span {\n  width: 6px;\n  height: 6px;\n  background: #fecc00;\n  border-radius: 50%;\n  animation: typing-dot 1.2s infinite ease-in-out;\n}\n\n.typing-dots span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.typing-dots span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes typing-dot {\n  0%, 80%, 100% {\n    transform: scale(0.7);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.nx-date-separator {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n}\n\n.nx-separator-line {\n  height: 1px;\n  background: #e6e6e6;\n  flex: 1;\n}\n\n.nx-date-separator-label {\n  font-size: 12px;\n  color: #666;\n  white-space: nowrap;\n}\n\nemoji-picker {\n  position: absolute;\n  bottom: 48px;\n  right: 0;\n  z-index: 2000;\n  max-height: 260px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);\n}\n\n@media (max-width: 768px) {\n  .nx-chat-container {\n    width: calc(100% - 24px);\n    bottom: 80px;\n    right: 12px;\n    left: 12px;\n    height: 70vh;\n  }\n\n  .chat-toggle {\n    bottom: 16px;\n    right: 16px;\n  }\n\n  .message-wrapper {\n    max-width: 90%;\n  }\n\n  .message img {\n    max-width: 160px;\n  }\n}\n\n@media (max-width: 480px) {\n  .nx-chat-container {\n    width: calc(100% - 16px);\n    right: 8px;\n    left: 8px;\n    bottom: 70px;\n    height: 65vh;\n  }\n\n  .message img {\n    max-width: 120px;\n  }\n}\n\n.hidden {\n  display: none !important;\n}\n\n.chat-rating {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(15, 23, 42, 0.08);\n  border-radius: 12px;\n  color: #0f172a;\n  animation: fadeIn 0.25s ease-out;\n}\n\n.chat-rating p {\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.star-rating {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  margin: 12px 0;\n}\n\n.star-rating .star {\n  border: none;\n  background: none;\n  font-size: 28px;\n  color: #d1d5db;\n  cursor: pointer;\n  transition: transform 0.15s ease, color 0.15s ease;\n}\n\n.star-rating .star:hover,\n.star-rating .star:focus-visible {\n  transform: scale(1.15);\n  color: #facc15;\n  outline: none;\n}\n\n.star-rating .star.is-active {\n  color: #facc15;\n}\n\n.rating-actions {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 12px;\n  flex-wrap: wrap;\n}\n\n.submit-rating,\n.skip-rating {\n  padding: 8px 16px;\n  border-radius: 9999px;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n\n.submit-rating {\n  background: linear-gradient(135deg, #facc15, #f59e0b);\n  color: #1f2937;\n  box-shadow: 0 8px 20px rgba(250, 204, 21, 0.35);\n}\n\n.submit-rating:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.skip-rating {\n  background: transparent;\n  color: #1f2937;\n  border: 1px solid rgba(15, 23, 42, 0.25);\n}\n\n.submit-rating:hover:enabled,\n.skip-rating:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.15);\n}\n\n.rating-thanks {\n  margin-top: 16px;\n  font-weight: 600;\n  color: #16a34a;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.powered-by {\n  background: var(--chat-toggle-bg);\n  color: rgba(255, 255, 255, 0.75);\n  letter-spacing: 0.8px;\n  text-align: center;\n  font-size: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  text-transform: uppercase;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(8px);\n}\n\n.powered-by a {\n  color: rgba(255, 255, 255, 0.95);\n  font-weight: 600;\n  text-decoration: none;\n  transition: color 0.2s ease;\n}\n\n.powered-by a:hover {\n  color: #ffffff;\n}\n\n.powered-by img {\n  opacity: 0.9;\n  transition: opacity 0.2s ease;\n}\n\n.powered-by:hover img {\n  opacity: 1;\n}\n\n',"gamblio-showdown-script","visibilityTimeout","message-with-indicator","nx-separator-line","2816CjXcdz","getCookie","focusAdjacentRatingButton","Yesterday","renderMessages","backgroundType","9241626Yarjgq","[Gamblio][Chat] Unable to open WebSocket","ratingThanks","buildMessageElement","clearTypingIndicator","result","includes","focus","ArrowLeft","clear","querySelectorAll","[Gamblio][Recommendation] Impression recorded","/recommendation/click/","submitRatingButton","handleRatingSubmit","{{LOGO_STYLE}}","set","detail","system_ai_wasco","isUsingDefaults","user_id","Active stack slide; scheduling impression","[Visibility] ✗ SEND FAILED - No chatId","scrollHeight","style","ArrowDown","append","role","{{NAV_BUTTON_COLOR}}","image","timestamp","onload","finishSending","nxChatFooter","to right","visibilityState","ensureMarkdownConverter","https://app.gamblio.ai/logo-dark.svg","cash","textContent","ratingContainer","getMonth","status","resolveToken","emoji-click","scheduleTypingIndicator","gamblio-chat-widget-style","chatFooter",'[Gamblio] Unable to read token "',"OPEN","injectAssets","change","name","pushMessage","sent","background: transparent;","stopPropagation","[Gamblio][Recommendation] ","has","chatClose","add","5uXbAVQ","imageIndex","height","clientId","closest","none",".play-btn","intersectionRatio","[Gamblio] Failed to check VIP status. Falling back to non-VIP.","ensureEmojiPicker","{{STACK_MODE_CLASS}}","#0292a0","shift","some","trim","{{GRADIENT_COLOR_2}}","stringify","startsWith","type","2-digit","tokenName","get","getFullYear","text","isMessageSeen","message ","/recommendation/impression/","div","beforeunload","beforeend","true","forEach","preChatInput","createElement","open","isVip","Image attachment","chatInput","firstChild","destroySocket","getAttribute","abs","ArrowRight","warn",'style="mix-blend-mode: screen;"',"addEventListener","resetRatingState","emojiButton",'" alt="Recommendation background image">',"nx-date-separator-label","stack-mode","separatorLabel","normalizedId","formatMessageTimestamp","logo","getElementById","1380jIDxAF","Enter your name, ID or email (optional)","https:","endChat","ABCDEFGHIJKLMNOPQRSTUVWXYZ","preChatPlayerId","buildGameUrl","newMessage","playerNewChatRating","{{SHADOW_COLOR}}","alert","delete","[Gamblio][Chat] Failed to close socket","module","contains","gamblio-emoji-picker-module","insertAdjacentHTML","charAt","filter","backgroundPrimary","left","hoverColor","gamePlayUrl","ws:","openChat","messageId","endChatButton","buildDateSeparator","determineVipStatus","selectedFile","IS VIP IP IPIPIP","{{BACKGROUND_PRIMARY}}","handleEndChat","addChatWidget","appendChild","handleExistingMessages","applyDefaultHeight","push","[Gamblio] Error while checking VIP status.","setupMessageVisibilityObserver","readyState","sendMessage","nx-date-separator","&amp;","src","updateFilePreview","messagesContainer","tag","system_human","<br>","playerName","remove","setChatInputEnabled","data-message-id","system_ai_vector","{{NAV_BUTTON_HOVER_COLOR}}","Click to start conversation","bottom","112ewKJCx","Seen at ","undefined","block","11374983jAAbTD","centeredSlides","querySelector","href","{{LOGO_URL}}","protocol","dataset","image/","formatSeenTime","bump","startChatButton","mouseleave","application/json","stack","timeHHmmss","GUEST_","isIntersecting","playerId","[Visibility] ✗ SEND FAILED - No socket","Today","&gt;","handleRatingSkip","messageDelivered","find","toLocaleString","navButtonColor","chat_id","playerMarkMessagesAsRead","gameImage","messageRead","hasSubmittedRating","sendButton","isMessageAlreadySeen","selectedRatingValue","shadowColor","playerSendMessage","toggleEmojiPicker","swiper-slide-active","preventDefault","chatRatingContainer",'" alt="',"[Gamblio][Chat] Unhandled message","displayMode","floor","#f5f5f5","imageExtension","apiUrl","auto","ratingSkipButton","effect","slidesPerView","hideRatingPrompt","&lt;","existingMessages","input","[Gamblio][Chat] Failed to send rating:","formatDeliveredTime","game-container","Enter","getTokenFromLocalStorage","currentIndex","setAttribute","wsUrl","72112MhoZXl","seenIdsSet","gameId","videoIndex","isTodayUnix","hasToken","getBoundingClientRect","switchedStatusToClosed","size","system_chat_rating","games-swiper",".nx-chat-body","handleBeforeUnload","unicode","scrollTop","-50px","close","setChatAriaState","&#39;","handleChatReady","createWebSocket","is_sent_safely","[Gamblio][Chat] WebSocket error","sendSocketMessage","Enter your name to start","400px","Please select an image file","keydown","setTimeout","clearTimeout","chatBody","onerror","key","chatToggle","log","[Gamblio][Chat] Missing CONFIG.wsUrl for chat","allGames","delivery-indicator","visibilityObserver","toggle","displayName","300px","rgba(213, 208, 208)","getVideoHTML","is_vip","triggerImpression","#ffffff","link","messageForm","filePreview","previewImage","attachment_url","alt","handleFileSelect","error","transparent","script","active","Chat closed","target","disabled","numeric","isBotMessage","addRecommendationWidget","top","reopenChatButton","ArrowUp","aria-pressed","chatConfig","unix","resetUi","typingTimeoutId","removeSelectedFile","[Visibility] ✗ SEND FAILED - Exception:","img[data-game-id]","seen_by","getBackgroundStyle","playerToken","demo","8263930sLjpXb","bot","visibleIdsSet","content","setProperty","navButtonHoverColor","addClick","grabCursor","is-active","message","generateGuestName","message-wrapper ","isArray","innerHTML","getTime","skipRatingButton","random","setTypingIndicator",".mp4","slideChange","display","{{BACKGROUND_STYLE}}","handleBumpMessage"];return(r=function(){return n})()}

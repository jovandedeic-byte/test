const n=r;!function(){const n=r,e=c();for(;;)try{if(298448===parseInt(n(639))/1*(parseInt(n(536))/2)+-parseInt(n(484))/3+parseInt(n(855))/4+-parseInt(n(701))/5*(-parseInt(n(597))/6)+parseInt(n(528))/7+-parseInt(n(729))/8*(-parseInt(n(557))/9)+-parseInt(n(860))/10)break;e.push(e.shift())}catch(n){e.push(e.shift())}}();const e=(()=>{const n=r;try{if("undefined"!=typeof process&&process[n(490)]&&process[n(490)][n(427)]){const e=process[n(490)].NODE_ENV,t=e===n(532)||e===n(929);return console[n(414)](n(736)+e+n(624)+t+")"),t}}catch(e){n(553)}return!1})(),t={apiUrl:e?"https://dev-core.gamblio.ai":n(707),wsUrl:e?n(871):"wss://core.gamblio.ai"};console[n(414)](n(806)+t[n(586)]);const a=n(782),o=n(774);class GamblioRecommendationWidget{static[n(590)]="";static[n(717)]="";static[n(567)]=[];static[n(566)]=0;static[n(622)]=null;static[n(538)]=new Map;static[n(703)]=null;static[n(443)]=new IntersectionObserver(e=>{const t=n;e[t(685)](n=>{const e=t,a=n[e(922)],o=a.closest(e(429)),i=Gamblio[e(870)]===e(585),s=o?.[e(854)].contains(e(509))??!1,r=a[e(776)](e(732)),c=GamblioRecommendationWidget.allGames[e(547)](n=>String(n.normalizedId)===r),l=String(r),d=!0===GamblioRecommendationWidget[e(538)][e(489)](l),p=n.intersectionRatio>=1,g=!n[e(471)];!i||s?c?p&&!d?GamblioRecommendationWidget[e(433)](c,{reason:"Fully visible in viewport; scheduling impression"}):g&&d&&GamblioRecommendationWidget[e(538)][e(593)](l,!1):d&&g&&GamblioRecommendationWidget[e(538)].set(l,!1):d&&GamblioRecommendationWidget[e(538)][e(593)](l,!1)})},{threshold:[0,1]});static[n(433)](e,{reason:t=n(623),force:a=!1}={}){const o=n;if(!e)return;const i=String(e[o(466)]),s=!0===GamblioRecommendationWidget[o(538)][o(489)](i);!a&&s||(GamblioRecommendationWidget[o(538)][o(593)](i,!0),console[o(414)]("[Gamblio][Recommendation] "+t,{gameId:String(e.normalizedId),name:e[o(689)]}),GamblioRecommendationWidget[o(832)](e[o(466)]))}static[n(656)](e){const t=n,a=e[t(763)]?.[e[t(612)]];if(!a)return;const o=a[t(835)]("img[data-game-id]");if(!o)return;const i=o[t(776)](t(732)),s=GamblioRecommendationWidget[t(567)].find(n=>String(n[t(466)])===i);GamblioRecommendationWidget[t(703)]&&GamblioRecommendationWidget.lastActiveGameId!==i&&GamblioRecommendationWidget.visibilityState[t(593)](GamblioRecommendationWidget[t(703)],!1),GamblioRecommendationWidget[t(433)](s,{reason:t(797)}),GamblioRecommendationWidget[t(703)]=i}static getBackgroundStyle(){const e=n,t=Gamblio[e(733)];return"gradient"===t?"background: linear-gradient(var(--gradient-direction), var(--gradient-color-1), var(--gradient-color-2));":"video"===t||t===e(641)?"background: transparent;":e(752)}static[n(646)](){const e=n;if(Gamblio[e(733)]!==e(575))return"";const t=Gamblio.videoIndex||1,a="https://nbg1.your-objectstorage.com/gamblio-widget/videos/"+(e(575)+t+e(498));return e(423)+a+'" type="video/mp4">\n    </video>'}static[n(936)](){const e=n;if(Gamblio[e(733)]!==e(641))return"";const t=Gamblio[e(574)]||1,a="https://nbg1.your-objectstorage.com/gamblio-widget/images/"+(e(641)+t+".png");return e(795)+a+e(791)}static[n(653)](){const e=n,t=Gamblio[e(591)];if(!t)return;const a=document.getElementById(t);if(!a)return;const o=a[e(465)][e(781)];if(o&&""!==o.trim()&&o!==e(883))return;const i=window.getComputedStyle(a)[e(781)];if(i&&"auto"!==i&&i!==e(844)&&"0"!==i)return;const s=Gamblio[e(870)]||e(487),r=e("stack"===s?796:650);a[e(465)][e(781)]=r}static[n(417)](){const e=n,t=Gamblio[e(870)]===e(585),i=a,s=o,r=GamblioRecommendationWidget.getVideoHTML(),c=GamblioRecommendationWidget[e(936)](),l=t?e(808):"",d=t?" stack-mode":"";GamblioRecommendationWidget.HTML=i[e(915)]("{{STACK_MODE_CLASS}}",l)[e(915)](e(455),r).replace(e(849),c)[e(915)](e(817),d);const p=GamblioRecommendationWidget[e(661)]();return GamblioRecommendationWidget.CSS=s[e(915)](e(917),Gamblio[e(608)])[e(915)]("{{GRADIENT_COLOR_1}}",Gamblio.gradientColors[0])[e(915)](e(649),Gamblio[e(662)][1])[e(915)](e(834),Gamblio[e(805)])[e(915)]("{{NAV_BUTTON_COLOR}}",Gamblio[e(721)]).replace("{{NAV_BUTTON_HOVER_COLOR}}",Gamblio.navButtonHoverColor)[e(915)]("{{BACKGROUND_STYLE}}",p),!0}static async[n(881)](){const e=n;GamblioRecommendationWidget[e(653)]();if(!GamblioRecommendationWidget[e(417)]())return;const t=await GamblioRecommendationWidget[e(581)]();if(!t)return;const a=document[e(695)]("link");a.rel=e(439),a[e(825)]="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css",document[e(615)][e(699)](a);const o=document[e(695)]("script");o[e(726)]=e(578),o.onload=()=>{const n=e;document[n(615)].insertAdjacentHTML(n(751),n(589)+GamblioRecommendationWidget[n(717)]+n(839)),document.getElementById(Gamblio.recommendationWidgetTargetContainerId)[n(894)]=GamblioRecommendationWidget[n(590)],setTimeout(()=>{const e=n;GamblioRecommendationWidget.allGames=t.map(n=>{const e=r,t=n.id??n.gameId,a=n[e(829)]||n[e(859)]||e(558)+t;return{...n,normalizedId:t,displayName:a}}),GamblioRecommendationWidget[e(538)][e(638)](),GamblioRecommendationWidget[e(567)][e(685)](n=>{const t=e;GamblioRecommendationWidget[t(538)][t(593)](String(n[t(466)]),!1)}),GamblioRecommendationWidget[e(703)]=null,GamblioRecommendationWidget[e(872)](),GamblioRecommendationWidget[e(907)]()},300)},document.head[e(699)](o)}static[n(878)](e,t){const a=n;return Gamblio.gamePlayUrl.replace(a(681),e)[a(915)](a(636),t)}static async getRecommendedGames(){const e=n;try{const n=await fetch(t[e(586)]+e(930),{method:"POST",headers:{Accept:e(933),"Content-Type":"application/json"},body:JSON[e(784)]({clientId:btoa(String(Gamblio.clientId)),playerToken:Gamblio[e(869)]})});if(!n.ok)throw new Error("Failed to load games");const a=await n[e(694)]();return a[e(437)]||a}catch(n){return console.error(e(908),n),[]}}static renderCarousel(){const e=n,t=document[e(909)](e(737));t[e(894)]="",GamblioRecommendationWidget[e(567)][e(685)](n=>{const a=e,o=n.normalizedId,i=n.displayName,s=n[a(740)]||n[a(693)];GamblioRecommendationWidget.visibilityState[a(593)](String(o),!0===GamblioRecommendationWidget[a(538)][a(489)](String(o)));const r=document.createElement(a(659));r[a(854)][a(863)]("swiper-slide"),r.innerHTML=a(850)+s+a(510)+i+a(444)+o+a(503);const c=r[a(835)](a(827)),l=r[a(835)](a(461));c[a(789)](a(925),n=>{const e=a;n[e(604)](),console[e(414)]("[Gamblio][Recommendation] Demo button clicked",{gameId:o,name:i});const t=GamblioRecommendationWidget[e(878)](e(904),o);window[e(682)].href=t}),l[a(789)](a(925),e=>{const t=a;e[t(604)](),console[t(414)](t(679),{gameId:n.normalizedId,name:i}),GamblioRecommendationWidget[t(853)](n[t(466)]);const s=GamblioRecommendationWidget[t(878)](t(875),o);window[t(682)].href=s}),t[a(699)](r),GamblioRecommendationWidget[a(443)][a(713)](r[a(835)]("img"))})}static initSwiper(){const e=n,t=document[e(909)](e(485)),a=document[e(909)](e(903)),o=Gamblio.displayMode||e(487),i=GamblioRecommendationWidget.allGames[e(892)],s="stack"===o&&i>=3?e(585):"carousel";"stack"===s&&(t[e(854)][e(863)](e(808)),a?.classList[e(863)](e(808))),s!==e(585)&&(t[e(854)][e(700)](e(808)),a?.[e(854)][e(700)](e(808)));const r={slidesPerView:e(883),spaceBetween:16,navigation:{nextEl:"#next-btn",prevEl:e(841)},keyboard:{enabled:!0},mousewheel:{forceToAxis:!0}};s===e(487)&&(r[e(899)]={320:{spaceBetween:12},768:{spaceBetween:16},1024:{spaceBetween:20}}),s===e(585)&&(r[e(666)]="auto",r[e(671)]=i>3,r[e(746)]=e(708),r[e(788)]=!1,r.centeredSlides=!0,r[e(710)]=0,r[e(627)]=!1,r.simulateTouch=!1,r.allowTouchMove=!0,r.watchOverflow=!0,r[e(602)]=!0,r[e(570)]=.85,r[e(494)]=1,r[e(840)]=5,r[e(479)]=!1,r[e(879)]=!1,r.coverflowEffect={rotate:0,stretch:0,depth:360,modifier:1.15,slideShadows:!1});const c=new Swiper(e(845),r);GamblioRecommendationWidget[e(622)]=c,s===e(585)?(GamblioRecommendationWidget[e(656)](c),c.on("slideChange",()=>{GamblioRecommendationWidget[e(656)](c)})):GamblioRecommendationWidget[e(622)]=null}static async[n(832)](e){const a=n;console[a(414)](a(858),{gameId:e});try{const n=await fetch(t[a(586)]+"/recommendation/impression/",{method:a(459),headers:{Accept:a(933),"Content-Type":a(933)},body:JSON.stringify({clientId:btoa(String(Gamblio.clientId)),playerToken:Gamblio[a(869)],gameId:e})});if(!n.ok)throw new Error("HTTP "+n[a(556)]);console[a(414)](a(541),{gameId:e})}catch(n){console[a(760)](a(474),{gameId:e,error:n[a(435)]})}}static async[n(853)](e){const a=n;try{const n=await fetch(t[a(586)]+a(580),{method:"POST",headers:{Accept:a(933),"Content-Type":a(933)},body:JSON[a(784)]({clientId:btoa(String(Gamblio.clientId)),playerToken:Gamblio[a(869)],gameId:e})});if(!n.ok)throw new Error("HTTP "+n.status);a(920)}catch(n){throw console[a(760)]("[Gamblio][Recommendation] Click failed",{gameId:e,error:n.message}),n}}}const i=n(543),s=n(866);function r(n,e){const t=c();return(r=function(n,e){return t[n-=414]})(n,e)}function c(){const n=["startChatSuccess","Delivered at ","visibleIdsSet","backgroundPrimary"," days ago","messagesMarkedAsRead","4147584YoGWkM","protocol","preChatContainer","sendCloseMessage","development","removeSelectedFile","hasToken","aria-expanded","80lRwJoz","handleBumpMessage","visibilityState","playerId","placeholder","[Gamblio][Recommendation] Impression recorded","isMessageAlreadySeen",'<button\n  class="chat-toggle"\n  id="chatToggle"\n  aria-label="Open chat with Admiral Bot"\n  aria-expanded="false"\n  aria-controls="chatContainer"\n>\n  <svg\n    viewBox="0 0 24 24"\n    xmlns="http://www.w3.org/2000/svg"\n    role="img"\n    aria-hidden="true"\n  >\n    <path\n      d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z"\n    ></path>\n    <circle cx="7" cy="10" r="1"></circle>\n    <circle cx="12" cy="10" r="1"></circle>\n    <circle cx="17" cy="10" r="1"></circle>\n  </svg>\n</button>\n<div\n  class="nx-chat-container"\n  id="chatContainer"\n  role="dialog"\n  aria-label="Admiral Bot Chat"\n  aria-hidden="true"\n>\n  <div class="nx-chat-header">\n    <div class="nx-chat-header-content">\n      <img src="{{LOGO_URL}}" alt="Logo" {{LOGO_STYLE}} />\n      <div id="typingBubble" class="typing-bubble" aria-hidden="true">\n        <div class="typing-dots">\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    </div>\n    <div class="chat-navigation">\n      <button id="endChat" type="button" class="end-chat" style="display: none">\n        End chat\n      </button>\n      <button\n        class="nx-chat-close"\n        id="chatClose"\n        type="button"\n        aria-label="Close chat"\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"\n          ></path>\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="nx-chat-body" role="log" aria-live="polite">\n    <div id="preChatContainer" class="pre-chat-container">\n      <label for="preChatInput">Enter your name, ID or email (optional)</label>\n      <input\n        id="preChatInput"\n        type="text"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter your name or email..."\n        oninput="this.value = this.value.replace(/[^a-zA-Z0-9@.\\s_-]/g, \'\')"\n      />\n      <input\n        id="preChatPlayerId"\n        type="number"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter player ID..."\n        oninput="this.value = this.value.replace(/[^0-9]/g, \'\')"\n        style="display: none"\n      />\n      <button id="startChatButton" type="submit" class="pre-chat-button">\n        Start Chat\n      </button>\n    </div>\n    <div class="messages" id="messagesContainer"></div>\n  </div>\n  <div id="nxChatFooter" class="nx-chat-footer">\n    <div\n      id="chatClosedMessage"\n      class="chat-closed-message"\n      style="text-align: center; display: none; width: 100%"\n    >\n      <p>This chat is closed</p>\n      <button\n        id="reopenChatButton"\n        style="\n          margin-top: 0px;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        "\n      >\n        Reopen chat\n      </button>\n      <div\n        id="chatRatingContainer"\n        class="chat-rating hidden"\n        role="group"\n        aria-labelledby="chatRatingTitle"\n      >\n        <p id="chatRatingTitle">Rate your chat experience</p>\n        <div\n          class="star-rating"\n          role="radiogroup"\n          aria-labelledby="chatRatingTitle"\n        >\n          <button\n            type="button"\n            class="star"\n            data-rating="1"\n            aria-label="1 star"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="2"\n            aria-label="2 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="3"\n            aria-label="3 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="4"\n            aria-label="4 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="5"\n            aria-label="5 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n        </div>\n        <div class="rating-actions">\n          <button\n            id="submitRatingButton"\n            class="submit-rating"\n            type="button"\n            disabled\n          >\n            Submit review\n          </button>\n          <button id="skipRatingButton" class="skip-rating" type="button">\n            Skip\n          </button>\n        </div>\n        <div id="ratingThanks" class="rating-thanks hidden">\n          Thanks for your feedback!\n        </div>\n      </div>\n    </div>\n    <div\n      id="filePreview"\n      class="file-preview"\n      style="\n        display: none;\n        padding: 8px;\n        background: #f5f5f5;\n        border-radius: 8px;\n        margin-bottom: 8px;\n      "\n    >\n      <div\n        class="file-preview-content"\n        style="display: flex; align-items: center; gap: 8px"\n      >\n        <img\n          id="previewImage"\n          src="/placeholder.svg"\n          alt="Preview"\n          style="\n            max-width: 60px;\n            max-height: 60px;\n            border-radius: 4px;\n            object-fit: cover;\n          "\n        />\n        <span style="flex: 1; font-size: 14px; color: #666"\n          >Image selected</span\n        >\n        <button\n          id="removeFile"\n          class="remove-file-btn"\n          style="\n            padding: 4px 8px;\n            background: #ff4444;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 12px;\n          "\n        >\n          Remove\n        </button>\n      </div>\n    </div>\n    <div\n      id="messageForm"\n      style="display: flex; width: 100%; align-items: center; gap: 4px"\n    >\n      <input\n        type="text"\n        autocomplete="off"\n        class="nx-chat-input"\n        placeholder="Connecting..."\n        id="chatInput"\n        aria-label="Message input"\n      />\n      <button id="emojiButton" class="emoji-button" title="Add emoji">\n        <svg\n          viewBox="0 0 24 24"\n          width="20"\n          height="20"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n          fill="white"\n        >\n          <path\n            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"\n          />\n          <circle cx="8.5" cy="10.5" r="1.5" />\n          <circle cx="15.5" cy="10.5" r="1.5" />\n          <path\n            d="M12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"\n          />\n        </svg>\n      </button>\n      <emoji-picker\n        id="emojiPicker"\n        style="\n          display: none;\n          position: absolute;\n          bottom: 100%;\n          right: 0;\n          z-index: 1000;\n          margin-bottom: 8px;\n        "\n      ></emoji-picker>\n      <label class="file-upload-btn" style="display: flex; align-items: center">\n        <input\n          type="file"\n          accept="image/*"\n          style="display: none"\n          id="fileInput"\n        />\n        <div class="file-upload-icon">\n          <svg\n            viewBox="0 0 24 24"\n            width="20"\n            height="20"\n            xmlns="http://www.w3.org/2000/svg"\n            role="img"\n            aria-hidden="true"\n            fill="currentColor"\n          >\n            <path\n              d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"\n            />\n          </svg>\n        </div>\n      </label>\n      <button\n        class="send-button"\n        id="sendButton"\n        aria-label="Send message"\n        disabled\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M3.3938 2.20468C3.70395 1.96828 4.12324 1.93374 4.4679 2.1162L21.4679 11.1162C21.7953 11.2895 22 11.6296 22 12C22 12.3704 21.7953 12.7105 21.4679 12.8838L4.4679 21.8838C4.12324 22.0662 3.70395 22.0317 3.3938 21.7953C3.08365 21.5589 2.93922 21.1637 3.02382 20.7831L4.97561 12L3.02382 3.21692C2.93922 2.83623 3.08365 2.44109 3.3938 2.20468ZM6.80218 13L5.44596 19.103L16.9739 13H6.80218ZM16.9739 11H6.80218L5.44596 4.89699L16.9739 11Z"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="powered-by">\n    <span>Powered by</span>\n    <img\n      src="https://app.gamblio.ai/logo-dark.svg"\n      alt="Gamblio logo"\n      style="width: 15px; height: 15px"\n    />\n    <a href="https://gamblio.ai" target="_blank">Gamblio</a>\n  </div>\n</div>\n',"Message attachment","textContent","wss:","find","seen_by","wsUrl","handleBeforeUnload","delivered_at","handleChatClosed","[Gamblio] No bundler detected - defaulting to production API","playerStartChatAndJoin","getCookie","status","2529FYZKmO","Game ","imageExtension","[Gamblio] Init called with env: ","bot","short","Converter","display","type","currentIndex","allGames","playerName","chatConfig","resistanceRatio","[Gamblio][Chat] Cannot send message while socket is closed","ratingContainer","timestamp","imageIndex","video","[Gamblio][Chat] Unknown bump type","isArray","https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js","sendSocketMessage","/recommendation/click/","getRecommendedGames","hasSubmittedRating","image/","logoUrl","stack","apiUrl","getDate","alert","<style>","HTML","recommendationWidgetTargetContainerId","ensureEmojiPicker","set","className","finishSending","left","6phvDdi","key","documentClickHandler","escapeHtml","customPlayerId","resistance","text","stopPropagation","startChatButton","top","focus","shadowColor","active","{{HOVER_COLOR}}","role","activeIndex","Connecting...","nxChatFooter","head","handleChatReady","Seen at ","closeChat","floor","hoverColor","ratingThanks","swiperInstance","Impression triggered"," (isDev: ","diffDaysFromToday","typingTimeoutId","mousewheel","readAsDataURL","parse","getTime","attachment","isBotMessage","preventDefault","unix","toLocaleTimeString","{gameId}","cookie","clear","12583srpWnX","isUsingDefaults","image","attachment_url","Chat closed","ABCDEFGHIJKLMNOPQRSTUVWXYZ","handleExistingMessages","getVideoHTML","unicode","true","{{GRADIENT_COLOR_2}}","300px","user","buildDateSeparator","applyDefaultHeight","typingBubble","system_event","handleActiveStackSlide","false","nx-separator-line","div","messageRead","getBackgroundStyle","gradientColors","[Gamblio][Chat] Failed to parse message","shift","formatDeliveredTime","slidesPerView","getItem","getTokenFromLocalStorage","Today","setAttribute","loop","chatClose","now","setChatInputEnabled","resolveWebSocketUrl","onerror","undefined","selectedRatingValue","[Gamblio][Recommendation] Play button clicked","revokeObjectURL","{mode}","location","https:","getBoundingClientRect","forEach","is_vip","none","toggleEmojiPicker","displayName","isVip","chatInput","handleRatingSubmit","logo","json","createElement","mouseleave","ratingThanksMessage","[data-rating]","appendChild","remove","2604805oZhMkp","error","lastActiveGameId","user_id","#0292a0","OPEN","https://core.gamblio.ai","coverflow","Connection error","spaceBetween","player","Connection lost","observe","chatToggle","delivered","visibilityObserver","CSS","IS VIP IP IPIPIP","hidden","ratingSkipButton","navButtonColor","chatContainer","result","createObjectURL","filePreview","src","switchedStatusToClosed","bottom","2912LHdocx","string","size","data-game-id","backgroundType","body","input","[Gamblio] Environment detected: ","slider","checkmark-icon","numeric","gameImage","seen_at","messages","isMessageDelivered",".nx-chat-body","existingMessages","effect","messageIds","contains","updateFilePreview","messageSeen","beforeend","background: transparent;","boolean","[Gamblio][Chat] Failed to read attachment","getMonth","readyState","getFullYear","flex","nx-date-separator","warn","rgba(3, 132, 145,1)","[Gamblio] Using API URL: ","slides","message-wrapper ","is_sent_safely","skipRatingButton",'" from localStorage.',"value","isTodayUnix","<br>","emojiPicker","previewObjectUrl","ratingSubmitButton",':root {\n  --card-shadow-color: {{SHADOW_COLOR}};\n  --gradient-color-1: {{GRADIENT_COLOR_1}};\n  --gradient-color-2: {{GRADIENT_COLOR_2}};\n  --gradient-direction: {{GRADIENT_DIRECTION}};\n  --nav-button-color: {{NAV_BUTTON_COLOR}};\n  --nav-button-hover-color: {{NAV_BUTTON_HOVER_COLOR}};\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  width: 100%;\n  height: 100%;\n  padding-inline: 1rem;\n  position: relative;\n  {{BACKGROUND_STYLE}}\n}\n\n#game-container.stack-mode {\n  perspective: 1200px;\n}\n\n#game-container video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n}\n\n#game-container .background-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n  pointer-events: none;\n}\n\n/* Swiper Container */\n.swiper {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper.stack-mode {\n  width: 100%;\n  height: 100%;\n  padding: 15px 0px;\n}\n\n.swiper-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.swiper-slide {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto !important;\n  height: calc(100% - 2rem);\n}\n\n/* Game Cards */\n.game {\n  width: auto;\n  height: 100%;\n  max-height: 100%;\n  aspect-ratio: 1;\n  position: relative;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  box-shadow: 0 4px 16px var(--card-shadow-color);\n  transition: all 0.3s ease;\n}\n\n.game:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 24px var(--card-shadow-color);\n}\n\n.game img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.game::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 1;\n  border-radius: 12px;\n}\n\n.game:hover::before {\n  opacity: 1;\n}\n\n.game-hover-buttons {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 2;\n  pointer-events: none;\n  width: calc(100% - 16px);\n  height: 50%;\n  padding: 0 8px;\n}\n\n.game:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.game-hover-btn {\n  width: 100%;\n  flex: 1;\n  border: none;\n  border-radius: 6px;\n  font-size: clamp(16px, 2.5vw, 20px);\n  font-weight: 700;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 1px;\n  white-space: nowrap;\n}\n\n.game-hover-btn.demo-btn {\n  background: #808080 !important;\n  color: white !important;\n}\n\n.game-hover-btn.demo-btn:hover {\n  background: #6b6b6b !important;\n}\n\n.game-hover-btn.play-btn {\n  background: #e6c328 !important;\n  color: #002157 !important;\n}\n\n.game-hover-btn.play-btn:hover {\n  background: #f2c944 !important;\n}\n\n/* Navigation Buttons */\n.nav-btn {\n  position: relative;\n  z-index: 10;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n.swiper-button-prev::after,\n.swiper-button-next::after {\n  color: var(--nav-button-color);\n  font-size: 16px;\n  font-weight: bold;\n  transition: color 0.3s ease;\n}\n\n.swiper-button-prev:hover::after,\n.swiper-button-next:hover::after {\n  color: var(--nav-button-hover-color);\n}\n\n.nav-btn.swiper-button-disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n}\n\n.nav-btn.swiper-button-disabled:hover::after {\n  color: var(--nav-button-color);\n}\n\n/* Mobile Responsiveness */\n@media (max-width: 768px) {\n  #prev-btn,\n  #next-btn {\n    display: none !important;\n  }\n}\n\n/* Stack Mode - Half-Full-Half 3D Card Effect */\n.swiper.stack-mode .swiper-slide {\n  width: 100% !important;\n  max-width: 350px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: transform 0.4s ease, opacity 0.4s ease;\n}\n\n.swiper.stack-mode .swiper-slide .game {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\n}\n\n#game-container.stack-mode .game {\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n#game-container.stack-mode .game:hover {\n  transform: none;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n.swiper.stack-mode .swiper-slide-prev,\n.swiper.stack-mode .swiper-slide-next {\n  z-index: 1;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game,\n.swiper.stack-mode .swiper-slide-next .game {\n  transform: translateZ(-60px) scale(0.9);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n.swiper.stack-mode .swiper-slide-prev .game::after,\n.swiper.stack-mode .swiper-slide-next .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.60),\n    rgba(0, 0, 0, 0.7)\n  );\n  opacity: 0.85;\n  z-index: 3;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n}\n\n.swiper.stack-mode .swiper-slide:not(.swiper-slide-prev):not(.swiper-slide-active):not(.swiper-slide-next) {\n  opacity: 0;\n}\n\n.swiper.stack-mode .swiper-slide-active {\n  width: 100% !important;\n  max-width: 380px;\n  transform: translateZ(80px) scale(1.08);\n  z-index: 5;\n}\n\n.swiper.stack-mode .swiper-slide-active .game {\n  box-shadow: 0 20px 48px rgba(0, 0, 0, 0.55);\n}\n\n.swiper.stack-mode .swiper-slide-active .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.50);\n  z-index: 3;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game-hover-buttons,\n.swiper.stack-mode .swiper-slide-next .game-hover-buttons {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game::before {\n  opacity: 0.35;\n}\n\n',"abs","getAttribute","toLocaleString","scheduleTypingIndicator","sendButton","elements","height",'<div id="game-container" class="{{STACK_MODE_CLASS}}">\n  {{VIDEO_HTML}} {{IMAGE_HTML}}\n  <button id="prev-btn" class="nav-btn swiper-button-prev"></button>\n  <div class="swiper{{SWIPER_STACK_MODE}}" id="games-swiper">\n    <div class="swiper-wrapper" id="slider"></div>\n  </div>\n  <button id="next-btn" class="nav-btn swiper-button-next"></button>\n</div>\n',"bump","stringify","ensureMarkdownConverter","rating","beforeunload","grabCursor","addEventListener","&lt;",'" alt="Recommendation background image">',"keypress","seenIdsSet","messageId",'<img class="background-image" src="',"400px","Active stack slide; scheduling impression","module","[Gamblio][Chat] Tried to send message while socket not open","img","updateRatingStars","gamePlayUrl","injectAssets","[Visibility] ✗ SEND FAILED - No socket","gradientDirection","[Gamblio] Initial API URL: ","random","stack-mode","pop","shouldAutoScroll","handleRatingSelection","https://app.gamblio.ai/logo-dark.svg","from","system_chat_rating","chatRatingContainer","formatSeenTime","{{SWIPER_STACK_MODE}}","reopenChatButton","setupEventListeners","files","isSending","querySelectorAll","chatFooter","title","href","clientHeight",".demo-btn","selectedFile","gameName","formatMessageTimestamp","map","addImpression","[Gamblio][Chat] Failed to send rating:","{{GRADIENT_DIRECTION}}","querySelector","resetUi","clientId","dataset","</style>","threshold","#prev-btn","#ffffff","block","0px","#games-swiper","[Visibility] ✗ SEND FAILED - Empty messageIds array","createWebSocket","setTimeout","{{IMAGE_HTML}}",'\n        <div class="game">\n          <img src="',"Seen","startsWith","addClick","classList","60892AVVDfE","aria-pressed","https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js","[Gamblio][Recommendation] Sending impression","name","9555140AdwPWy","clearTypingIndicator","setProperty","add","data-message-id","pushMessage",':root {\n  --chat-toggle-bg: {{BACKGROUND_PRIMARY}};\n  --chat-toggle-hover: {{HOVER_COLOR}};\n}\n\n.chat-toggle,\n.nx-chat-container {\n  font-family: "Geist", sans-serif;\n}\n\n.chat-toggle {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  background: var(--chat-toggle-bg);\n  border-radius: 50%;\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(0, 33, 87, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1001;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.chat-toggle:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 26px rgba(0, 33, 87, 0.4);\n}\n\n.chat-toggle svg {\n  width: 28px;\n  height: 28px;\n  fill: currentColor;\n  transition: transform 0.3s ease;\n}\n\n.chat-toggle.active svg {\n  transform: rotate(45deg);\n}\n\n.nx-chat-container {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 380px;\n  height: 500px;\n  background: #ffffff;\n  border: 1px solid #e6e6e6;\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);\n  display: flex;\n  flex-direction: column;\n  transform: translateY(20px) scale(0.95);\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;\n  z-index: 1000;\n  overflow: hidden;\n}\n\n.nx-chat-container.open {\n  transform: translateY(0) scale(1);\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.nx-chat-container,\n.nx-chat-container * {\n  box-sizing: border-box;\n  font-family: "Geist", sans-serif;\n}\n\n.nx-chat-header {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  padding: 16px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px 12px 0 0;\n}\n\n.nx-chat-header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-header img {\n  width: 110px;\n  height: auto;\n}\n\n.chat-navigation {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-close,\n.end-chat {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 12px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.end-chat {\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  font-size: 0.8rem;\n}\n\n.nx-chat-close:hover,\n.end-chat:hover {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.nx-chat-close svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.nx-chat-body {\n  flex: 1;\n  background: #fafafa;\n  padding: 16px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n}\n\n.nx-chat-body::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n\n.pre-chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  box-shadow: 0 12px 28px rgba(0, 33, 87, 0.12);\n  text-align: center;\n}\n\n.pre-chat-container label {\n  font-size: 0.9rem;\n  color: #2b2b2b;\n}\n\n.pre-chat-input {\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.pre-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.15);\n}\n\n.pre-chat-button {\n  border: none;\n  border-radius: 20px;\n  padding: 12px 20px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.pre-chat-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.03);\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  flex: 1;\n  min-height: 0;\n}\n\n.message-wrapper {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 8px;\n}\n\n.message-wrapper.bot {\n  justify-content: flex-end;\n}\n\n.message-with-indicator {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.delivery-indicator {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 2px;\n  padding-right: 4px;\n  height: 14px;\n}\n\n.checkmark-icon {\n  font-size: 0.75rem;\n  line-height: 1;\n  color: #888;\n  user-select: none;\n  cursor: default;\n  transition: color 0.2s ease;\n  font-weight: 500;\n  letter-spacing: -0.5px;\n}\n\n.checkmark-icon.sent {\n  color: #888;\n}\n\n.checkmark-icon.delivered {\n  color: var(--chat-toggle-bg);\n}\n\n.checkmark-icon:hover {\n  opacity: 0.8;\n}\n\n.message {\n  padding: 10px 14px;\n  border-radius: 14px;\n  line-height: 1.45;\n  font-size: 0.95rem;\n  background: #ffffff;\n  color: #2c2c2c;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n.message.user {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  border-bottom-right-radius: 4px;\n}\n\n.message.bot {\n  border-bottom-left-radius: 4px;\n}\n\n.message img {\n  margin-top: 8px;\n  border-radius: 8px;\n  max-width: 220px;\n  width: 100%;\n  height: auto;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #888;\n  white-space: nowrap;\n}\n\n.nx-chat-footer {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px 6px;\n  border-top: 1px solid #e6e6e6;\n  background: #ffffff;\n  border-radius: 0 0 12px 12px;\n}\n\n.chat-closed-message {\n  text-align: center;\n}\n\n.chat-closed-message button {\n  margin-top: 8px;\n  border: none;\n  border-radius: 20px;\n  padding: 8px 16px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n\n.file-preview {\n  display: none;\n  border: 1px solid #e6e6e6;\n  border-radius: 8px;\n  background: #f5f5f5;\n  padding: 10px 14px;\n}\n\n.file-preview-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.file-preview img {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  object-fit: cover;\n  border: 1px solid #dcdcdc;\n}\n\n.remove-file-btn {\n  background: #c0392b;\n  color: #ffffff;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.remove-file-btn:hover {\n  background: #962d22;\n}\n\n.message-form {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  position: relative;\n}\n\n.nx-chat-input {\n  flex: 1;\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.nx-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.2);\n}\n\n.emoji-button,\n.file-upload-icon,\n.send-button {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: var(--chat-toggle-bg);\n  border: none;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.emoji-button:hover,\n.file-upload-icon:hover,\n.send-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.05);\n}\n\n.emoji-button svg,\n.file-upload-icon svg,\n.send-button svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.file-upload-btn input {\n  display: none;\n}\n\n.typing-bubble {\n  display: none;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.typing-dots {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-dots span {\n  width: 6px;\n  height: 6px;\n  background: #fecc00;\n  border-radius: 50%;\n  animation: typing-dot 1.2s infinite ease-in-out;\n}\n\n.typing-dots span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.typing-dots span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes typing-dot {\n  0%, 80%, 100% {\n    transform: scale(0.7);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.nx-date-separator {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n}\n\n.nx-separator-line {\n  height: 1px;\n  background: #e6e6e6;\n  flex: 1;\n}\n\n.nx-date-separator-label {\n  font-size: 12px;\n  color: #666;\n  white-space: nowrap;\n}\n\nemoji-picker {\n  position: absolute;\n  bottom: 48px;\n  right: 0;\n  z-index: 2000;\n  max-height: 260px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);\n}\n\n@media (max-width: 768px) {\n  .nx-chat-container {\n    width: calc(100% - 24px);\n    bottom: 80px;\n    right: 12px;\n    left: 12px;\n    height: 70vh;\n  }\n\n  .chat-toggle {\n    bottom: 16px;\n    right: 16px;\n  }\n\n  .message-wrapper {\n    max-width: 90%;\n  }\n\n  .message img {\n    max-width: 160px;\n  }\n}\n\n@media (max-width: 480px) {\n  .nx-chat-container {\n    width: calc(100% - 16px);\n    right: 8px;\n    left: 8px;\n    bottom: 70px;\n    height: 65vh;\n  }\n\n  .message img {\n    max-width: 120px;\n  }\n}\n\n.hidden {\n  display: none !important;\n}\n\n.chat-rating {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(15, 23, 42, 0.08);\n  border-radius: 12px;\n  color: #0f172a;\n  animation: fadeIn 0.25s ease-out;\n}\n\n.chat-rating p {\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.star-rating {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  margin: 12px 0;\n}\n\n.star-rating .star {\n  border: none;\n  background: none;\n  font-size: 28px;\n  color: #d1d5db;\n  cursor: pointer;\n  transition: transform 0.15s ease, color 0.15s ease;\n}\n\n.star-rating .star:hover,\n.star-rating .star:focus-visible {\n  transform: scale(1.15);\n  color: #facc15;\n  outline: none;\n}\n\n.star-rating .star.is-active {\n  color: #facc15;\n}\n\n.rating-actions {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 12px;\n  flex-wrap: wrap;\n}\n\n.submit-rating,\n.skip-rating {\n  padding: 8px 16px;\n  border-radius: 9999px;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n\n.submit-rating {\n  background: linear-gradient(135deg, #facc15, #f59e0b);\n  color: #1f2937;\n  box-shadow: 0 8px 20px rgba(250, 204, 21, 0.35);\n}\n\n.submit-rating:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.skip-rating {\n  background: transparent;\n  color: #1f2937;\n  border: 1px solid rgba(15, 23, 42, 0.25);\n}\n\n.submit-rating:hover:enabled,\n.skip-rating:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.15);\n}\n\n.rating-thanks {\n  margin-top: 16px;\n  font-weight: 600;\n  color: #16a34a;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.powered-by {\n  background: var(--chat-toggle-bg);\n  color: rgba(255, 255, 255, 0.75);\n  letter-spacing: 0.8px;\n  text-align: center;\n  font-size: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  text-transform: uppercase;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(8px);\n}\n\n.powered-by a {\n  color: rgba(255, 255, 255, 0.95);\n  font-weight: 600;\n  text-decoration: none;\n  transition: color 0.2s ease;\n}\n\n.powered-by a:hover {\n  color: #ffffff;\n}\n\n.powered-by img {\n  opacity: 0.9;\n  transition: opacity 0.2s ease;\n}\n\n.powered-by:hover img {\n  opacity: 1;\n}\n\n',"intersectionRatio","script","token","displayMode","wss://dev-core.gamblio.ai","renderCarousel","chat_id","emoji-click","cash","_blank","generateGuestName","buildGameUrl","slideToClickedSlide","sent","init","fileInput","auto","setChatAriaState","playerNewChatRating","filter","content","onload","rgba(0, 0, 0, 1)","handleRatingSkip","Enter","length","addRecommendationWidget","innerHTML","change","addChatWidget","endChatButton","isMessageSeen","breakpoints","[Gamblio][Chat] Failed to close socket","showRatingPrompt","2-digit","game-container","demo","startChat","messagesContainer","initSwiper","Error fetching games:","getElementById","hideRatingPrompt","scrollTop","resolveToken","info","preChatPlayerId","replace","{{LOGO_URL}}","{{SHADOW_COLOR}}","seen_by_type","gamblio-emoji-picker-module","[Gamblio][Recommendation] Click recorded","visibilityTimeout","target","span","jpg","click","[Gamblio][Chat] Unhandled message","close","socket","staging","/recommendation/","language","toggle","application/json","emoji-picker","send","getImageHTML","en-GB","log","buildMessageElement","setTypingIndicator","loadTemplate","tag","https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js","sendMessage","handleFileSelect","{{BACKGROUND_PRIMARY}}",'<video autoplay loop muted playsinline>\n      <source src="',"hasInitialized","setupMessageVisibilityObserver","right","NODE_ENV","recommendationConfig",".swiper-slide","cssText","ws:","gamblio-showdown-script","triggerImpression","formatMessageTimestampTitle","message","[Gamblio] Failed to check VIP status. Falling back to non-VIP.","data","split","stylesheet","{{LOGO_STYLE}}","focusAdjacentRatingButton","messageForm","observer",'" data-game-id="',"scrollHeight","navButtonHoverColor","videoIndex","origin","firstChild","system_human","previewImage","preChatInput","ArrowDown","destroySocket","{{VIDEO_HTML}}","[Visibility] ✗ SEND FAILED - No chatId","bump_data","File size must be less than 5MB","POST",'style="mix-blend-mode: screen;"',".play-btn","handleEndChat","&amp;","toggleChat","style","normalizedId","delivery-indicator","nx-date-separator-label","keydown","trim","isIntersecting","timeHHmmss","open","[Gamblio][Recommendation] Impression failed","some","handleSocketMessage","playerSendMessage","chatClosedMessage","touchStartPreventDefault","Type your message...","renderMessages","[Gamblio][Chat] Unable to submit rating; socket not open or chat missing.","sendMessagesAsRead","1441014HmWOHz","games-swiper","submitRatingButton","carousel","[Gamblio][Chat] Invalid CONFIG.apiUrl","get","env",'[Gamblio] Unable to read token "',"&quot;","message ","touchRatio","includes","detail","#f5f5f5",".mp4","newMessage","playerLeaveChatAndClose","markdownConverter","disabled",'">\n          <div class="game-hover-buttons">\n            <button class="game-hover-btn demo-btn" data-action="demo">Demo</button>\n            <button class="game-hover-btn play-btn" data-action="play">Play</button>\n          </div>\n        </div>\n      ',"separatorLabel","resetRatingState","tokenName","rgba(213, 208, 208)","chatId","swiper-slide-active",'" alt="',"emojiButton","removeFile","Click to start conversation","ArrowRight","Sent","gamblio-chat-widget-style","/ws/chat","disconnect","alt","openChat","cacheElements"];return(c=function(){return n})()}class GamblioChatWidget{static[n(640)](){const e=n,t=e(812);return"#0292a0"===Gamblio[e(525)]&&Gamblio.logoUrl===t}static get HTML(){const e=n,t=GamblioChatWidget[e(640)]()?e(460):"";return i.replace(e(916),Gamblio[e(584)])[e(915)](e(440),t)}static get[n(717)](){const e=n;return s.replace(e(422),Gamblio[e(525)]||"#0292a0").replace(e(610),Gamblio.hoverColor||e(705))}static hasInitialized=!1;static[n(869)]="";static clientId=null;static[n(568)]="";static playerId=null;static messages=[];static[n(821)]=!1;static shouldAutoScroll=!0;static[n(828)]=null;static previewObjectUrl=null;static[n(626)]=null;static elements={};static[n(599)]=null;static[n(716)]=null;static visibleIdsSet=new Set;static[n(793)]=new Set;static[n(921)]=null;static[n(678)]=0;static hasSubmittedRating=!1;static[n(501)]=null;static[n(881)](){const e=n;GamblioChatWidget.hasInitialized||(GamblioChatWidget[e(424)]=!0,GamblioChatWidget[e(869)]=Gamblio.token||"",GamblioChatWidget[e(837)]=Gamblio[e(837)]??null,GamblioChatWidget[e(568)]=GamblioChatWidget[e(877)](),GamblioChatWidget.injectAssets(),GamblioChatWidget[e(521)](),GamblioChatWidget[e(836)](),GamblioChatWidget[e(819)](),GamblioChatWidget.ensureEmojiPicker(),GamblioChatWidget[e(785)](),window.addEventListener(e(787),GamblioChatWidget[e(550)]))}static[n(803)](){const e=n;if(!document[e(909)](e(516))){const n=document[e(695)](e(465));n.id=e(516),n[e(545)]=GamblioChatWidget[e(717)],document[e(615)][e(699)](n)}if(!document[e(909)](e(722))){const n=document[e(695)](e(659));for(n[e(894)]=GamblioChatWidget[e(590)].trim();n[e(449)];)document[e(734)].appendChild(n[e(449)])}}static[n(521)](){const e=n;GamblioChatWidget[e(780)]={chatToggle:document[e(909)](e(714)),chatContainer:document[e(909)](e(722)),chatClose:document[e(909)](e(672)),chatInput:document[e(909)](e(691)),sendButton:document.getElementById("sendButton"),chatFooter:document[e(909)](e(614)),preChatContainer:document[e(909)](e(530)),preChatInput:document[e(909)]("preChatInput"),preChatPlayerId:document[e(909)](e(914)),startChatButton:document[e(909)](e(605)),endChatButton:document.getElementById("endChat"),reopenChatButton:document[e(909)](e(818)),chatClosedMessage:document.getElementById(e(478)),messagesContainer:document.getElementById(e(906)),typingBubble:document[e(909)]("typingBubble"),emojiButton:document.getElementById("emojiButton"),emojiPicker:document[e(909)]("emojiPicker"),fileInput:document[e(909)](e(882)),filePreview:document.getElementById("filePreview"),previewImage:document[e(909)](e(451)),removeFile:document.getElementById(e(512)),messageForm:document.getElementById(e(442)),chatBody:document[e(835)](e(744)),ratingContainer:document[e(909)](e(815)),ratingSubmitButton:document[e(909)](e(486)),ratingSkipButton:document.getElementById(e(766)),ratingThanksMessage:document[e(909)](e(621))}}static[n(836)](){const e=n;GamblioChatWidget[e(454)](),GamblioChatWidget[e(742)]=[],GamblioChatWidget[e(508)]=null,GamblioChatWidget[e(810)]=!0,GamblioChatWidget.isSending=!1,GamblioChatWidget[e(828)]=null,GamblioChatWidget[e(861)]();const t=GamblioChatWidget.elements;if(t[e(906)]&&(t[e(906)][e(894)]=""),t[e(478)]&&(t[e(478)][e(465)][e(564)]=e(687)),t.messageForm&&(t[e(442)].style[e(564)]="flex"),t.endChatButton&&(t[e(897)][e(465)][e(564)]=e(687)),t[e(605)]&&(t[e(605)].disabled=!1),t[e(823)]&&(t[e(823)].style[e(564)]=e(687)),t[e(691)]&&(t[e(691)][e(768)]="",t[e(691)][e(502)]=!0,t.chatInput[e(540)]=GamblioChatWidget[e(534)]()?"Click to start conversation":"Enter your name to start"),t[e(779)]&&(t[e(779)].disabled=!0),GamblioChatWidget[e(749)](null),t[e(530)]){t[e(530)][e(465)][e(564)]=e(758);const n=t[e(530)][e(835)]("label");GamblioChatWidget[e(534)]()?(n&&(n[e(545)]=e(513)),t.preChatInput&&(t[e(452)].value="",t[e(452)][e(465)][e(564)]=e(687)),t.preChatPlayerId&&(t.preChatPlayerId[e(768)]="",t[e(914)][e(465)][e(564)]=e(687))):(n&&(n[e(545)]="Enter your name, ID or email (optional)"),t[e(452)]&&(t[e(452)][e(768)]="",t[e(452)].style[e(564)]=""),t[e(914)]&&(t[e(914)][e(768)]="",t[e(914)][e(465)][e(564)]=""))}GamblioChatWidget[e(780)][e(771)]&&(GamblioChatWidget.elements[e(771)][e(465)][e(564)]="none"),GamblioChatWidget[e(539)]=null,GamblioChatWidget[e(505)](),GamblioChatWidget[e(716)]&&(GamblioChatWidget[e(716)][e(518)](),GamblioChatWidget[e(716)]=null),GamblioChatWidget.visibilityTimeout&&(clearTimeout(GamblioChatWidget[e(921)]),GamblioChatWidget[e(921)]=null),GamblioChatWidget[e(524)].clear(),GamblioChatWidget[e(793)][e(638)](),GamblioChatWidget[e(884)](!1),t.chatToggle?.[e(854)][e(700)](e(609)),t.chatContainer?.classList[e(700)]("open")}static[n(819)](){const e=n,t=GamblioChatWidget.elements;t[e(714)]?.[e(789)](e(925),()=>GamblioChatWidget[e(464)]()),t[e(672)]?.[e(789)](e(925),()=>GamblioChatWidget.closeChat()),t[e(722)]?.[e(789)](e(925),n=>n.stopPropagation()),t[e(605)]?.[e(789)]("click",()=>GamblioChatWidget[e(905)]()),t[e(452)]?.[e(789)](e(792),n=>{const t=e;"Enter"===n.key&&(n[t(633)](),GamblioChatWidget[t(905)]())}),t[e(914)]?.addEventListener(e(792),n=>{const t=e;n.key===t(891)&&(n.preventDefault(),GamblioChatWidget[t(905)]())}),t[e(897)]?.[e(789)](e(925),()=>GamblioChatWidget[e(462)]()),t[e(818)]?.addEventListener(e(925),()=>GamblioChatWidget[e(836)]()),t.sendButton?.[e(789)](e(925),()=>GamblioChatWidget.sendMessage()),t.chatInput?.addEventListener(e(469),n=>{const t=e;"Enter"===n[t(598)]&&(n.preventDefault(),GamblioChatWidget[t(420)]())}),t.chatInput?.[e(789)](e(735),()=>GamblioChatWidget.clearTypingIndicator()),t.fileInput?.[e(789)](e(895),n=>GamblioChatWidget[e(421)](n)),t.removeFile?.addEventListener("click",()=>GamblioChatWidget[e(533)]()),t.emojiButton?.[e(789)](e(925),n=>{n[e(604)](),GamblioChatWidget.toggleEmojiPicker()}),t[e(771)]&&t[e(771)][e(789)](e(874),n=>{const t=e;GamblioChatWidget.elements[t(691)]&&(GamblioChatWidget.elements[t(691)][t(768)]+=n[t(496)][t(647)],GamblioChatWidget[t(780)][t(691)].focus(),GamblioChatWidget.elements[t(771)][t(465)][t(564)]=t(687))}),!GamblioChatWidget.documentClickHandler&&(GamblioChatWidget.documentClickHandler=n=>{const t=e,a=GamblioChatWidget.elements.emojiPicker,o=GamblioChatWidget.elements[t(511)];a&&a[t(465)][t(564)]!==t(687)&&(o&&o.contains(n.target)||a[t(748)](n[t(922)])||(a[t(465)].display=t(687)))},document.addEventListener(e(925),GamblioChatWidget.documentClickHandler));const a=t[e(572)];if(a){Array[e(813)](a[e(822)](e(698)))[e(685)](n=>{const t=e;n[t(789)](t(925),()=>GamblioChatWidget[t(811)](Number(n[t(838)][t(786)]))),n[t(789)]("mouseenter",()=>{const e=t;!GamblioChatWidget.hasSubmittedRating&&GamblioChatWidget[e(801)](Number(n[e(838)][e(786)]))}),n[t(789)]("mouseleave",()=>{!GamblioChatWidget[t(582)]&&GamblioChatWidget.updateRatingStars()}),n[t(789)]("keydown",e=>{const a=t;(e[a(598)]===a(891)||" "===e.key)&&(e[a(633)](),GamblioChatWidget.handleRatingSelection(Number(n[a(838)][a(786)]))),(e[a(598)]===a(514)||"ArrowUp"===e.key)&&(e[a(633)](),GamblioChatWidget[a(441)](n,1)),("ArrowLeft"===e[a(598)]||e[a(598)]===a(453))&&(e.preventDefault(),GamblioChatWidget[a(441)](n,-1))})}),a[e(789)](e(696),()=>{const n=e;!GamblioChatWidget[n(582)]&&GamblioChatWidget[n(801)]()})}t[e(773)]?.addEventListener(e(925),()=>GamblioChatWidget[e(692)]()),t.ratingSkipButton?.[e(789)](e(925),()=>GamblioChatWidget.handleRatingSkip())}static[n(592)](){const e=n;if(typeof customElements===e(677))return;if(customElements[e(489)](e(934)))return;if(document[e(909)](e(919)))return;const t=document.createElement(e(868));t.id=e(919),t.type=e(798),t[e(726)]=e(857),document[e(615)].appendChild(t)}static[n(785)](){const e=n;if(!GamblioChatWidget.markdownConverter)if(typeof showdown===e(677)){if(document.getElementById(e(432)))return;const n=document[e(695)](e(868));n.id=e(432),n[e(726)]=e(419),n[e(888)]=()=>{const n=e;GamblioChatWidget[n(501)]=new(showdown[n(563)])({openLinksInNewWindow:!0})},document.head[e(699)](n)}else GamblioChatWidget[e(501)]=new(showdown[e(563)])({openLinksInNewWindow:!0})}static hasToken(){return Boolean(GamblioChatWidget.token)}static[n(464)](){const e=n,t=GamblioChatWidget[e(780)];t[e(722)]?.[e(854)][e(748)](e(473))?GamblioChatWidget.closeChat():GamblioChatWidget[e(520)]()}static[n(520)](){const e=n,t=GamblioChatWidget[e(780)];t[e(722)]&&(t[e(722)][e(854)][e(863)](e(473)),t[e(714)]?.[e(854)][e(863)](e(609)),GamblioChatWidget[e(884)](!0),GamblioChatWidget.ensureEmojiPicker(),GamblioChatWidget[e(534)]()&&!GamblioChatWidget[e(928)]&&GamblioChatWidget[e(905)](!0),setTimeout(()=>{const n=e;GamblioChatWidget[n(810)]=!0,GamblioChatWidget.renderMessages(),GamblioChatWidget[n(425)](),GamblioChatWidget[n(810)]=!1,t[n(691)]?.[n(607)]()},250))}static[n(618)](){const e=n,t=GamblioChatWidget[e(780)];t[e(722)]&&(t[e(722)][e(854)][e(700)](e(473)),t.chatToggle?.[e(854)][e(700)](e(609)),GamblioChatWidget[e(884)](!1),GamblioChatWidget[e(716)]&&(GamblioChatWidget[e(716)][e(518)](),GamblioChatWidget[e(716)]=null))}static[n(884)](e){const t=n,a=GamblioChatWidget[t(780)];a[t(714)]?.[t(670)](t(535),e?"true":t(657)),a.chatContainer?.[t(670)]("aria-hidden",t(e?657:648))}static[n(905)](e=!1){const t=n;if(!GamblioChatWidget[t(928)]||GamblioChatWidget[t(928)][t(756)]!==WebSocket.OPEN){if(!GamblioChatWidget.hasToken()){const n=(GamblioChatWidget[t(780)].preChatInput?.value||"")[t(470)]();if(!n&&e)return;GamblioChatWidget[t(568)]=n||GamblioChatWidget.generateGuestName();const a=(GamblioChatWidget[t(780)].preChatPlayerId?.[t(768)]||"")[t(470)]();GamblioChatWidget.playerId=a?parseInt(a,10):null}GamblioChatWidget[t(780)].startChatButton&&(GamblioChatWidget.elements.startChatButton[t(502)]=!0),GamblioChatWidget[t(780)][t(530)]&&(GamblioChatWidget.elements[t(530)][t(465)][t(564)]="none"),GamblioChatWidget[t(780)][t(823)]&&(GamblioChatWidget[t(780)][t(823)].style[t(564)]="flex"),GamblioChatWidget[t(742)]=[],GamblioChatWidget.renderMessages(),GamblioChatWidget.setChatInputEnabled(!1,t(613)),GamblioChatWidget[t(847)]()}}static[n(847)](){const e=n,t=GamblioChatWidget.resolveWebSocketUrl();if(!t)return console[e(760)]("[Gamblio][Chat] Missing CONFIG.wsUrl for chat"),void GamblioChatWidget[e(674)](!1,"Connection unavailable");GamblioChatWidget[e(454)]();try{const n=new WebSocket(t);GamblioChatWidget[e(928)]=n,n[e(789)](e(473),()=>{const n=e,t={tag:n(554),playerToken:GamblioChatWidget[n(869)]||null,clientId:GamblioChatWidget.clientId??null,playerName:GamblioChatWidget[n(568)]||""};GamblioChatWidget[n(539)]&&(t[n(601)]=GamblioChatWidget[n(539)]),GamblioChatWidget[n(579)](t)}),n[e(789)](e(435),n=>GamblioChatWidget[e(476)](n)),n[e(789)](e(702),n=>{console[e(760)]("[Gamblio][Chat] WebSocket error",n)}),n[e(789)]("close",()=>{const n=e;GamblioChatWidget[n(928)]=null,GamblioChatWidget[n(674)](!1,n(712))})}catch(n){console[e(702)]("[Gamblio][Chat] Unable to open WebSocket",n),GamblioChatWidget[e(674)](!1,e(709))}}static[n(675)](){const e=n;if(t.wsUrl){const n=t[e(549)].replace(/\/$/,"");return n.endsWith(e(517))?n:n+e(517)}if(t[e(586)])try{const n=new URL(t[e(586)]);return n[e(529)]=n.protocol===e(683)?e(546):e(431),n[e(448)]+e(517)}catch(n){console[e(760)](e(488),n)}return null}static[n(579)](e){const t=n;GamblioChatWidget.socket&&GamblioChatWidget[t(928)][t(756)]===WebSocket[t(706)]?GamblioChatWidget[t(928)][t(935)](JSON[t(784)](e)):console[t(760)](t(799))}static[n(476)](e){const t=n;let a;try{a=JSON[t(629)](e[t(437)])}catch(n){return void console.warn(t(663),n)}a[t(418)]!==t(783)?a[t(418)]!==t(745)?console[t(913)](t(926),a):GamblioChatWidget[t(645)](a):GamblioChatWidget[t(537)](a)}static[n(537)](e){const t=n,a=e[t(457)]||{};switch(e.bump_type){case t(522):GamblioChatWidget[t(508)]=a.chat??a[t(508)]??null,GamblioChatWidget[t(616)]();break;case"messageDelivered":GamblioChatWidget[t(742)][t(685)](n=>{const e=t;n.id===a.messageId&&(n[e(551)]=a[e(551)])}),GamblioChatWidget.renderMessages();break;case t(750):case t(660):const n=a[t(794)];GamblioChatWidget[t(742)][t(685)](e=>{const o=t;e.id===n&&(e[o(548)]=a.seen_by||e[o(548)]||[])}),GamblioChatWidget[t(481)]();break;case t(527):const o=(a[t(747)]||[]).map(n=>Number(n));GamblioChatWidget[t(742)][t(685)](n=>{const e=t,a=Number(n.id);if(o[e(495)](a)){const t=Math[e(619)](Date.now()/1e3);if(n.seen_by&&Array[e(577)](n[e(548)])&&0!==n[e(548)][e(892)]){!n[e(548)][e(475)](n=>n[e(741)]===t)&&n[e(548)].push({seen_at:t})}else n[e(548)]=[{seen_at:t}]}}),GamblioChatWidget[t(481)]();break;case t(499):if(GamblioChatWidget[t(861)](),!0===a.is_sent_safely)break;GamblioChatWidget[t(865)]({id:a.id||a.messageId,role:a[t(611)],content:a[t(603)],attachment:a[t(642)],unix:Number(a.timestamp)||Math[t(619)](Date.now()/1e3),delivered_at:void 0!==a[t(551)]?a[t(551)]:null,seen_by:a.seen_by||null}),GamblioChatWidget[t(481)](),GamblioChatWidget[t(425)]();break;case t(727):GamblioChatWidget[t(552)]();break;default:console[t(913)](t(576),e)}}static handleExistingMessages(e){const t=n,a=Array[t(577)](e.messages)?e.messages:[];GamblioChatWidget[t(742)]=a.filter(n=>n&&n[t(611)]!==t(655)&&n[t(611)]!==t(814)&&!0!==n[t(765)])[t(831)](n=>({id:n.id||n[t(794)],role:n[t(611)],content:n[t(887)],attachment:n[t(642)],unix:Number(n.timestamp)||Math[t(619)](Date[t(673)]()/1e3),delivered_at:void 0!==n.delivered_at?n[t(551)]:null,seen_by:n[t(548)]||null})),e.chat_id&&(GamblioChatWidget[t(508)]=e[t(873)],GamblioChatWidget.handleChatReady()),GamblioChatWidget[t(481)](),GamblioChatWidget[t(425)]()}static[n(616)](){const e=n;GamblioChatWidget.setChatInputEnabled(!0,e(480)),GamblioChatWidget[e(780)].endChatButton?.[e(465)][e(862)](e(564),e(843)),GamblioChatWidget[e(780)][e(605)]&&(GamblioChatWidget[e(780)][e(605)][e(502)]=!1),GamblioChatWidget[e(780)][e(691)]?.focus()}static[n(552)](){const e=n;GamblioChatWidget[e(861)](),GamblioChatWidget[e(674)](!1,e(643)),GamblioChatWidget.elements.messageForm?.style[e(862)](e(564),e(687)),GamblioChatWidget[e(780)][e(478)]?.style[e(862)](e(564),e(843)),GamblioChatWidget[e(780)][e(897)]?.[e(465)].setProperty(e(564),e(687)),GamblioChatWidget[e(780)][e(605)]&&(GamblioChatWidget[e(780)][e(605)][e(502)]=!1),GamblioChatWidget.removeSelectedFile(),GamblioChatWidget[e(508)]=null,GamblioChatWidget[e(454)](),!GamblioChatWidget[e(582)]&&GamblioChatWidget[e(901)]()}static[n(865)](e){const t=n;e&&(GamblioChatWidget.messages.push({id:e.id||null,role:e[t(611)]||t(561),content:e[t(887)]||"",attachment:e[t(631)]||null,unix:e[t(634)]||Math.floor(Date[t(673)]()/1e3),delivered_at:void 0!==e[t(551)]?e.delivered_at:null,seen_by:e.seen_by||null}),GamblioChatWidget.renderMessages())}static renderMessages(){const e=n,t=GamblioChatWidget[e(780)];if(!t[e(906)])return;const a=t.chatBody||t[e(906)],o=Math[e(775)](a[e(445)]-a[e(911)]-a[e(826)])<=5;t.messagesContainer.innerHTML="";let i=null;GamblioChatWidget.messages.forEach(n=>{const a=e;!n[a(634)]&&(n[a(573)]?n.unix=Number(n[a(573)]):n[a(634)]=Math[a(619)](Date.now()/1e3));const o=new Date(1e3*n[a(634)]),s=o[a(757)]()+"-"+(o[a(755)]()+1)+"-"+o[a(587)]();i!==s&&(i=s,t[a(906)][a(699)](GamblioChatWidget[a(652)](n[a(634)]))),t[a(906)][a(699)](GamblioChatWidget[a(415)](n))}),(GamblioChatWidget[e(810)]||o)&&(a[e(911)]=a.scrollHeight)}static buildDateSeparator(e){const t=n,a=document.createElement(t(659));a[t(594)]=t(759);const o=document[t(695)](t(659));o.className=t(658);const i=document[t(695)](t(923));i[t(594)]=t(468),i[t(545)]=GamblioChatWidget[t(504)](e);const s=document[t(695)](t(659));return s[t(594)]=t(658),a.append(o,i,s),a}static[n(415)](e){const t=n,a=document[t(695)](t(659));a.className=t(764)+(e[t(611)]===t(711)?t(651):t(561)),GamblioChatWidget[t(632)](e[t(611)])&&e.id&&a[t(670)](t(864),e.id);const o=document[t(695)]("div");o.className=t(493)+(e[t(611)]===t(711)?"user":t(561));let i=e[t(887)]||"",s="";if("player"===e[t(611)])s=GamblioChatWidget.escapeHtml(i).replace(/\n/g,"<br>");else{GamblioChatWidget[t(785)]();try{s=GamblioChatWidget[t(501)]?GamblioChatWidget[t(501)].makeHtml(i):GamblioChatWidget.escapeHtml(i)[t(915)](/\n/g,t(770))}catch(n){s=GamblioChatWidget.escapeHtml(i)[t(915)](/\n/g,"<br>")}}if(o[t(894)]=s,e.attachment){const n=document[t(695)](t(800));n.src=e.attachment,n[t(519)]=t(544),n[t(465)][t(430)]="max-width: 200px; max-height: 200px; width: 100%; height: auto; border-radius: 8px; margin-top: 8px; cursor: pointer; object-fit: cover;",n[t(789)](t(925),()=>window.open(e[t(631)],t(876))),o[t(699)](n)}const r=document[t(695)](t(923));r[t(594)]=t(573);const c=GamblioChatWidget[t(769)](e.unix);if(r[t(545)]=GamblioChatWidget[t(830)](e[t(634)]),r[t(824)]=GamblioChatWidget[t(434)](e[t(634)],c),e[t(611)]===t(711)){const n=document[t(695)](t(659));n[t(854)][t(863)]("message-with-indicator");const i=document.createElement(t(659));i[t(854)][t(863)](t(467));const s=document[t(695)](t(923));s[t(854)][t(863)](t(738));const c=GamblioChatWidget[t(898)](e);if(GamblioChatWidget[t(743)](e))if(s.innerHTML="✓✓",c){s[t(854)][t(863)](t(715)),s[t(854)][t(700)](t(880));const n=e[t(548)][0];n&&n.seen_at?s.title=t(617)+GamblioChatWidget.formatSeenTime(n[t(741)]):s[t(824)]=t(851)}else s.classList[t(863)](t(880)),s[t(854)][t(700)](t(715)),s[t(824)]=t(523)+GamblioChatWidget[t(665)](e[t(551)]);else s[t(894)]="✓",s[t(854)][t(863)](t(880)),s[t(854)][t(700)](t(715)),s[t(824)]=t(515);i.appendChild(s),n[t(699)](o),n[t(699)](i),a[t(699)](n),a[t(699)](r)}else a[t(699)](r),a.appendChild(o);return a}static[n(830)](e){const t=n;new Date,new Date(1e3*e);if(GamblioChatWidget.isTodayUnix(e))return GamblioChatWidget[t(472)](e);{const n=GamblioChatWidget[t(625)](e);return 1===n?"1 day ago":n+t(526)}}static[n(434)](e,t){const a=n,o=new Date(1e3*e);return t?o[a(777)](void 0,{year:a(739),month:a(902),day:a(902),hour:a(902),minute:a(902),second:"2-digit",hour12:!1}):GamblioChatWidget[a(472)](e)}static[n(472)](e){const t=n;return new Date(1e3*e)[t(635)](t(937),{hour12:!1,hour:"2-digit",minute:"2-digit",second:t(902)})}static[n(769)](e){const t=n;if(!e)return!1;const a=new Date(1e3*e),o=new Date;return a.getFullYear()===o.getFullYear()&&a[t(755)]()===o.getMonth()&&a[t(587)]()===o[t(587)]()}static[n(625)](e){const t=n,a=new Date(1e3*e),o=new Date,i=new Date(o[t(757)](),o[t(755)](),o.getDate())[t(630)](),s=new Date(a[t(757)](),a.getMonth(),a[t(587)]())[t(630)]();return Math.floor((i-s)/864e5)}static[n(504)](e){const t=n,a=GamblioChatWidget[t(625)](e);if(0===a)return t(669);if(1===a)return"Yesterday";return new Date(1e3*e).toLocaleDateString(void 0,{month:t(562),day:t(902),year:t(739)})}static[n(632)](e){return e===n(450)||"system_ai_wasco"===e||"system_ai_vector"===e}static[n(743)](e){const t=n;return null!==e[t(551)]&&void 0!==e[t(551)]}static[n(898)](e){const t=n;return e[t(548)]&&Array[t(577)](e[t(548)])&&e[t(548)][t(892)]>0}static[n(816)](e){const t=n,a="string"==typeof e?parseInt(e,10):e;return new Date(1e3*a)[t(777)](void 0,{year:t(739),month:"2-digit",day:"2-digit",hour:"2-digit",minute:t(902),second:t(902),hour12:!1})}static formatDeliveredTime(e){const t=n,a=typeof e===t(730)?parseInt(e,10):e;return new Date(1e3*a)[t(777)](void 0,{year:t(739),month:t(902),day:t(902),hour:t(902),minute:"2-digit",second:t(902),hour12:!1})}static[n(600)](e){const t=n;return(e||"")[t(915)](/[&<>"']/g,n=>({"&":t(463),"<":t(790),">":"&gt;",'"':t(492),"'":"&#39;"}[n]))}static[n(420)](){const e=n;if(!GamblioChatWidget[e(928)]||GamblioChatWidget[e(928)][e(756)]!==WebSocket[e(706)])return void console[e(760)](e(571));if(!GamblioChatWidget[e(508)])return void console.warn("[Gamblio][Chat] Cannot send message without chatId");const t=(GamblioChatWidget.elements.chatInput?.value||"")[e(470)]();if(!t&&!GamblioChatWidget[e(828)])return;if(GamblioChatWidget[e(821)])return;GamblioChatWidget[e(821)]=!0,GamblioChatWidget[e(674)](!1);const a=()=>{const n=e;GamblioChatWidget.finishSending(),GamblioChatWidget[n(778)]()};if(GamblioChatWidget[e(828)]){const n=new FileReader;n.onload=()=>{const o=e;GamblioChatWidget[o(579)]({tag:o(477),chatId:GamblioChatWidget[o(508)],message:t||"Image attachment",attachment:n[o(723)]}),GamblioChatWidget[o(780)][o(691)]&&(GamblioChatWidget[o(780)][o(691)][o(768)]=""),GamblioChatWidget[o(533)](),a()},n[e(676)]=()=>{const n=e;console.warn(n(754)),GamblioChatWidget[n(533)](),a()},n[e(628)](GamblioChatWidget[e(828)])}else GamblioChatWidget[e(579)]({tag:e(477),chatId:GamblioChatWidget[e(508)],message:t,attachment:null}),GamblioChatWidget.elements.chatInput&&(GamblioChatWidget[e(780)][e(691)][e(768)]=""),a()}static[n(595)](){const e=n;GamblioChatWidget.isSending=!1,GamblioChatWidget.chatId&&(GamblioChatWidget.setChatInputEnabled(!0,e(480)),GamblioChatWidget[e(780)][e(691)]?.[e(607)]())}static[n(421)](e){const t=n,a=e[t(922)][t(820)]&&e[t(922)].files[0];if(a)return a[t(565)][t(852)](t(583))?a.size>5242880?(window[t(588)](t(458)),void(e.target[t(768)]="")):(GamblioChatWidget.selectedFile=a,void GamblioChatWidget.updateFilePreview(a)):(window[t(588)]("Please select an image file"),void(e[t(922)][t(768)]=""))}static[n(749)](e){const t=n,a=GamblioChatWidget[t(780)];if(!a[t(725)])return;if(GamblioChatWidget[t(772)]&&(URL[t(680)](GamblioChatWidget[t(772)]),GamblioChatWidget.previewObjectUrl=null),!e)return a[t(725)][t(465)][t(564)]=t(687),void(a[t(451)]&&(a[t(451)][t(726)]=""));const o=URL[t(724)](e);GamblioChatWidget[t(772)]=o,a.filePreview.style[t(564)]="flex",a[t(451)]&&(a.previewImage[t(726)]=o)}static[n(533)](){const e=n;GamblioChatWidget[e(828)]=null,GamblioChatWidget[e(780)][e(882)]&&(GamblioChatWidget[e(780)].fileInput[e(768)]=""),GamblioChatWidget[e(749)](null)}static[n(778)](){const e=n;GamblioChatWidget[e(861)](),GamblioChatWidget[e(626)]=window[e(848)](()=>{GamblioChatWidget[e(416)](!0)},4e3+Math[e(619)](3e3*Math[e(807)]()))}static[n(861)](){const e=n;GamblioChatWidget.typingTimeoutId&&(window.clearTimeout(GamblioChatWidget[e(626)]),GamblioChatWidget[e(626)]=null),GamblioChatWidget[e(416)](!1)}static setTypingIndicator(e){const t=n,a=GamblioChatWidget.elements[t(654)];a&&(a[t(465)][t(564)]=t(e?758:687))}static[n(674)](e,t){const a=n,o=GamblioChatWidget[a(780)];o[a(691)]&&(o.chatInput[a(502)]=!e,void 0!==t&&(o[a(691)][a(540)]=t)),o.sendButton&&(o[a(779)][a(502)]=!e)}static[n(531)](){const e=n;if(!GamblioChatWidget[e(508)])return;const t={tag:e(500),playerToken:GamblioChatWidget[e(869)]||null,chatId:GamblioChatWidget[e(508)],clientId:GamblioChatWidget.clientId??null,playerName:GamblioChatWidget[e(568)]||""};GamblioChatWidget[e(539)]&&(t.customPlayerId=GamblioChatWidget[e(539)]),GamblioChatWidget[e(579)](t),GamblioChatWidget[e(508)]=null}static[n(462)](){const e=n;GamblioChatWidget.sendCloseMessage(),GamblioChatWidget[e(552)]()}static[n(550)](){const e=n;GamblioChatWidget[e(531)](),GamblioChatWidget[e(454)]()}static destroySocket(){const e=n;if(GamblioChatWidget.socket){try{GamblioChatWidget[e(928)][e(927)]()}catch(n){console[e(760)](e(900),n)}GamblioChatWidget.socket=null}}static[n(877)](){const e=n,t=e(644);let a="";for(let n=0;n<4;n++)a+=t.charAt(Math[e(619)](Math[e(807)]()*t[e(892)]));return"GUEST_"+a}static dayKey(e){const t=n,a=new Date(1e3*e);return a.getFullYear()+"-"+(a[t(755)]()+1)+"-"+a.getDate()}static[n(688)](){const e=n,t=GamblioChatWidget.elements[e(771)];t&&(GamblioChatWidget[e(592)](),t[e(465)].display=t[e(465)].display===e(687)?e(843):"none")}static handleRatingSelection(e){const t=n;GamblioChatWidget.elements.ratingContainer&&!GamblioChatWidget.hasSubmittedRating&&(GamblioChatWidget.selectedRatingValue=e,GamblioChatWidget[t(801)](),GamblioChatWidget.elements[t(773)]&&(GamblioChatWidget[t(780)][t(773)][t(502)]=0===GamblioChatWidget[t(678)]))}static[n(801)](e=null){const t=n,a=GamblioChatWidget[t(780)][t(572)];if(!a)return;const o=Array.from(a.querySelectorAll(t(698))),i=null!==e?e:GamblioChatWidget[t(678)];o[t(685)](n=>{const e=t,a=Number(n[e(838)][e(786)])<=i;n.classList[e(932)]("is-active",a),n[e(670)](e(856),String(a))})}static[n(441)](e,t){const a=n,o=GamblioChatWidget[a(780)][a(572)];if(!o)return;const i=Array.from(o.querySelectorAll("[data-rating]")),s=i.indexOf(e);i[(s+t+i[a(892)])%i[a(892)]][a(607)]()}static[n(692)](){const e=n;if(!GamblioChatWidget[e(928)]||GamblioChatWidget[e(928)].readyState!==WebSocket[e(706)]||!GamblioChatWidget[e(508)])return void console[e(760)](e(482));if(0===GamblioChatWidget[e(678)])return;const t={tag:e(885),chatId:GamblioChatWidget[e(508)],clientId:GamblioChatWidget[e(837)]??null,rating:GamblioChatWidget[e(678)]};GamblioChatWidget[e(869)]&&(t.playerToken=GamblioChatWidget.token),GamblioChatWidget.playerId&&(t[e(601)]=GamblioChatWidget[e(539)]);try{GamblioChatWidget[e(579)](t),GamblioChatWidget[e(582)]=!0,GamblioChatWidget[e(780)][e(773)]&&(GamblioChatWidget[e(780)][e(773)][e(502)]=!0);const n=GamblioChatWidget.elements.ratingContainer;if(n){Array[e(813)](n.querySelectorAll(e(698)))[e(685)](n=>n[e(502)]=!0)}GamblioChatWidget.elements[e(720)]&&GamblioChatWidget.elements[e(720)][e(854)].add("hidden"),GamblioChatWidget[e(780)][e(697)]&&GamblioChatWidget.elements.ratingThanksMessage.classList[e(700)](e(719)),setTimeout(()=>{const t=e;n&&n.classList[t(863)]("hidden")},5e3)}catch(n){console[e(702)](e(833),n)}}static[n(890)](){const e=n;GamblioChatWidget.hasSubmittedRating=!1,GamblioChatWidget[e(910)]()}static[n(901)](){const e=n,t=GamblioChatWidget[e(780)][e(572)];if(!t)return;t[e(854)].remove("hidden"),GamblioChatWidget.elements[e(697)]&&GamblioChatWidget.elements[e(697)].classList[e(863)](e(719)),GamblioChatWidget[e(780)][e(720)]&&GamblioChatWidget.elements[e(720)][e(854)][e(700)](e(719));Array.from(t[e(822)](e(698))).forEach(n=>n[e(502)]=!1)}static[n(910)](){const e=n,t=GamblioChatWidget[e(780)][e(572)];t&&t[e(854)][e(863)](e(719))}static[n(505)](){const e=n;GamblioChatWidget[e(678)]=0,GamblioChatWidget[e(582)]=!1,GamblioChatWidget[e(910)](),GamblioChatWidget[e(801)](),GamblioChatWidget[e(780)].ratingSubmitButton&&(GamblioChatWidget[e(780)].ratingSubmitButton[e(502)]=!0),GamblioChatWidget[e(780)][e(697)]&&GamblioChatWidget[e(780)].ratingThanksMessage.classList[e(863)](e(719)),GamblioChatWidget.elements.ratingSkipButton&&GamblioChatWidget.elements[e(720)].classList[e(700)](e(719));const t=GamblioChatWidget.elements[e(572)];if(t){Array[e(813)](t[e(822)](e(698)))[e(685)](n=>{n.disabled=!1,n.setAttribute("aria-pressed","false")})}}static[n(542)](e){const t=n;if(GamblioChatWidget.seenIdsSet.has(e))return!0;const a=GamblioChatWidget[t(742)][t(547)](n=>n.id===e);if(a&&a[t(548)]&&Array[t(577)](a[t(548)])&&a.seen_by.length>0){if(a.seen_by[t(475)](n=>"player"===n[t(918)]||null===n[t(704)]))return!0}return!1}static sendMessagesAsRead(e){const t=n;if(!GamblioChatWidget[t(508)])return void console.warn(t(456));if(!GamblioChatWidget[t(928)])return void console.warn(t(804));if(GamblioChatWidget[t(928)][t(756)]!==WebSocket.OPEN)return void console[t(760)]("[Visibility] ✗ SEND FAILED - Socket not OPEN, state:",GamblioChatWidget[t(928)].readyState);if(0===e[t(892)])return void console.warn(t(846));const a={tag:"playerMarkMessagesAsRead",chatId:GamblioChatWidget[t(508)],messageIds:e};try{GamblioChatWidget[t(579)](a)}catch(n){console[t(702)]("[Visibility] ✗ SEND FAILED - Exception:",n)}}static[n(425)](){const e=n;if(!GamblioChatWidget[e(508)]||!GamblioChatWidget.elements[e(722)]?.classList[e(748)](e(473)))return;const t=document.querySelector(e(744));if(!t)return;GamblioChatWidget.visibilityObserver&&GamblioChatWidget[e(716)].disconnect(),GamblioChatWidget[e(921)]&&clearTimeout(GamblioChatWidget.visibilityTimeout),GamblioChatWidget[e(716)]=new IntersectionObserver(n=>{const t=e;n[t(685)](n=>{const e=t,a=Number(n.target[e(776)](e(864)));a&&(n.isIntersecting&&n[e(867)]>.01?GamblioChatWidget[e(524)][e(863)](a):GamblioChatWidget[e(524)].delete(a))}),GamblioChatWidget[t(921)]&&clearTimeout(GamblioChatWidget[t(921)]),GamblioChatWidget[t(921)]=setTimeout(()=>{const n=t;if(GamblioChatWidget[n(524)].size>0){const e=Array.from(GamblioChatWidget[n(524)])[n(886)](e=>!GamblioChatWidget[n(542)](e));e.length>0&&(GamblioChatWidget.sendMessagesAsRead(e),e.forEach(e=>GamblioChatWidget[n(793)][n(863)](e))),GamblioChatWidget.visibleIdsSet[n(638)]()}},300)},{root:t,rootMargin:"-50px",threshold:[0,.01,.5,1]});const a=document.querySelectorAll("[data-message-id]");a[e(685)](n=>{const t=e;GamblioChatWidget[t(716)][t(713)](n)}),setTimeout(()=>{const n=e,o=Array[n(813)](a)[n(886)](e=>{const a=n,o=e[a(684)](),i=t[a(684)]();return o[a(606)]<i[a(728)]&&o.bottom>i[a(606)]&&o.left<i[a(426)]&&o[a(426)]>i[a(596)]});o.length>0&&(o.forEach(e=>{const t=n,a=Number(e[t(776)](t(864)));a&&!GamblioChatWidget[t(542)](a)&&GamblioChatWidget[t(524)].add(a)}),GamblioChatWidget[n(921)]&&clearTimeout(GamblioChatWidget[n(921)]),GamblioChatWidget[n(921)]=setTimeout(()=>{const e=n;if(GamblioChatWidget[e(524)][e(731)]>0){const n=Array[e(813)](GamblioChatWidget[e(524)])[e(886)](n=>!GamblioChatWidget[e(542)](n));n.length>0&&(GamblioChatWidget[e(483)](n),n.forEach(n=>GamblioChatWidget.seenIdsSet[e(863)](n))),GamblioChatWidget[e(524)][e(638)]()}},300))},100)}}class Gamblio{static[n(869)]=void 0;static[n(931)]="en";static[n(690)]=!1;static[n(569)]={};static[n(428)]={};static async init(e){const a=n,o=e[a(506)],i=e[a(931)],s=e.recommendationConfig||{},r=e[a(569)]||{},c=e.gamePlayUrl,l=!0===e[a(490)];l&&(t[a(586)]="https://dev-core.gamblio.ai",t[a(549)]=a(871),console[a(414)]("[Gamblio] Env mode enabled - using development API")),console[a(414)](a(560)+l),a(762),t.apiUrl,Gamblio[a(428)]={backgroundType:s[a(733)]||"transparent",gradientDirection:s[a(805)]||"to right",gradientColors:s[a(662)]||[a(761),a(889)],videoIndex:s[a(447)]||1,imageIndex:s[a(574)]||1,imageExtension:s[a(559)]||a(924),shadowColor:s[a(608)]||a(507),navButtonColor:s.navButtonColor||a(497),navButtonHoverColor:s[a(446)]||a(842),displayMode:s[a(870)]||a(487)},Gamblio.chatConfig={backgroundPrimary:r[a(525)]||a(705),hoverColor:r[a(620)]||a(705),logoUrl:r[a(584)]||"https://app.gamblio.ai/logo-dark.svg"},Gamblio[a(733)]=Gamblio[a(428)][a(733)],Gamblio[a(608)]=Gamblio[a(428)][a(608)],Gamblio.gradientColors=Gamblio[a(428)][a(662)],Gamblio[a(805)]=Gamblio[a(428)][a(805)],Gamblio[a(447)]=Gamblio[a(428)].videoIndex,Gamblio[a(574)]=Gamblio.recommendationConfig[a(574)],Gamblio[a(559)]=Gamblio.recommendationConfig.imageExtension,Gamblio[a(721)]=Gamblio[a(428)][a(721)],Gamblio[a(446)]=Gamblio[a(428)][a(446)],Gamblio.displayMode=Gamblio.recommendationConfig[a(870)],Gamblio[a(525)]=Gamblio.chatConfig.backgroundPrimary,Gamblio.logoUrl=Gamblio[a(569)].logoUrl,Gamblio[a(620)]=Gamblio.chatConfig[a(620)],Gamblio.clientId=e[a(837)],Gamblio[a(802)]=c||"#",Gamblio[a(591)]=e[a(591)],console[a(414)](Gamblio[a(690)],a(718)),i&&(Gamblio[a(931)]=i);const d=Gamblio[a(912)](o);if(d)return Gamblio[a(869)]=d,Gamblio.isVip=await Gamblio.determineVipStatus(d),Gamblio[a(896)](),void Gamblio.addRecommendationWidget();Gamblio[a(896)]()}static[n(555)](e){const t=n,a=("; "+document[t(637)])[t(438)]("; "+e+"=");if(2===a[t(892)])return a[t(809)]()[t(438)](";")[t(664)]()}static[n(668)](e){const t=n;if(e&&"undefined"!=typeof window)try{return window.localStorage?.[t(667)](e)||void 0}catch(n){return void console[t(760)](t(491)+e+t(767),n)}}static[n(912)](e){const t=n;if(!e)return;const a=typeof e===t(730)?e[t(470)]():void 0;let o;if(a){if(o=Gamblio.getTokenFromLocalStorage(a),o)return o;if(o=Gamblio[t(555)](a),o)return o}}static async determineVipStatus(e){const a=n;if(!e)return!1;try{const n=await fetch(t[a(586)]+"/api/accounts/is_vip_player?token="+e);if(!n.ok)return console[a(760)](a(436)),!1;const o=await n.json();if("boolean"==typeof o)return o;if(typeof o?.[a(690)]===a(753))return o.isVip;if(typeof o?.is_vip===a(753))return o[a(686)]}catch(n){console[a(760)]("[Gamblio] Error while checking VIP status.",n)}return!1}static[n(896)](){GamblioChatWidget[n(881)]()}static[n(893)](){GamblioRecommendationWidget[n(881)]()}}

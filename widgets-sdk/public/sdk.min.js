const n=e;function e(n,t){const a=s();return(e=function(n,e){return a[n-=132]})(n,t)}!function(){const n=e,t=s();for(;;)try{if(900287===parseInt(n(606))/1+-parseInt(n(155))/2*(parseInt(n(408))/3)+parseInt(n(284))/4+-parseInt(n(172))/5*(-parseInt(n(143))/6)+-parseInt(n(556))/7+-parseInt(n(157))/8+parseInt(n(452))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const t=(()=>{const n=e;try{if(typeof process!==n(499)&&process[n(274)]&&process[n(274)][n(353)]){const e=process[n(274)][n(353)],t="development"===e||e===n(509);return n(492),t}}catch(e){console[n(238)](n(546))}return!1})(),a={apiUrl:t?n(213):"https://core.gamblio.ai",wsUrl:n(t?635:475)};console[n(238)]("[Gamblio] Initial API URL: "+a.apiUrl);const o=n(145),i=n(443);function s(){const n=["length","bot","getTokenFromLocalStorage",'" alt="Recommendation background image">',"files","seen_by","{{GRADIENT_COLOR_1}}","message-wrapper ","{gameId}","socket","Today","system_human","coverflow","emojiButton","300px","backgroundPrimary","setChatAriaState","bump_type","openChat","formatMessageTimestamp","{mode}","hasInitialized","to right","span","sendMessagesAsRead","isUsingDefaults","preChatInput","endsWith","Sent","escapeHtml","{{GRADIENT_DIRECTION}}","setTypingIndicator","&quot;","slideChange","recommendationWidgetTargetContainerId","</style>","[Gamblio][Chat] Tried to send message while socket not open","slides","handleActiveStackSlide","https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js","isTodayUnix","formatMessageTimestampTitle","fileInput","[Gamblio][Chat] Failed to send rating:","markdownConverter","filePreview","&#39;","toggle","chat_id","abs","mouseleave","chatBody","playerLeaveChatAndClose","messagesContainer","chatClosedMessage","addEventListener","[Gamblio][Recommendation] ","disconnect","img","setChatInputEnabled","ratingContainer","clearTypingIndicator","sendCloseMessage",'<button\n  class="chat-toggle"\n  id="chatToggle"\n  aria-label="Open chat with Admiral Bot"\n  aria-expanded="false"\n  aria-controls="chatContainer"\n>\n  <svg\n    viewBox="0 0 24 24"\n    xmlns="http://www.w3.org/2000/svg"\n    role="img"\n    aria-hidden="true"\n  >\n    <path\n      d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z"\n    ></path>\n    <circle cx="7" cy="10" r="1"></circle>\n    <circle cx="12" cy="10" r="1"></circle>\n    <circle cx="17" cy="10" r="1"></circle>\n  </svg>\n</button>\n<div\n  class="nx-chat-container"\n  id="chatContainer"\n  role="dialog"\n  aria-label="Admiral Bot Chat"\n  aria-hidden="true"\n>\n  <div class="nx-chat-header">\n    <div class="nx-chat-header-content">\n      <img src="{{LOGO_URL}}" alt="Logo" {{LOGO_STYLE}} />\n      <div id="typingBubble" class="typing-bubble" aria-hidden="true">\n        <div class="typing-dots">\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    </div>\n    <div class="chat-navigation">\n      <button id="endChat" type="button" class="end-chat" style="display: none">\n        End chat\n      </button>\n      <button\n        class="nx-chat-close"\n        id="chatClose"\n        type="button"\n        aria-label="Close chat"\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"\n          ></path>\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="nx-chat-body" role="log" aria-live="polite">\n    <div id="preChatContainer" class="pre-chat-container">\n      <label for="preChatInput">Enter your name, ID or email (optional)</label>\n      <input\n        id="preChatInput"\n        type="text"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter your name or email..."\n        oninput="this.value = this.value.replace(/[^a-zA-Z0-9@.\\s_-]/g, \'\')"\n      />\n      <input\n        id="preChatPlayerId"\n        type="number"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter player ID..."\n        oninput="this.value = this.value.replace(/[^0-9]/g, \'\')"\n        style="display: none"\n      />\n      <button id="startChatButton" type="submit" class="pre-chat-button">\n        Start Chat\n      </button>\n    </div>\n    <div class="messages" id="messagesContainer"></div>\n  </div>\n  <div id="nxChatFooter" class="nx-chat-footer">\n    <div\n      id="chatClosedMessage"\n      class="chat-closed-message"\n      style="text-align: center; display: none; width: 100%"\n    >\n      <p>This chat is closed</p>\n      <button\n        id="reopenChatButton"\n        style="\n          margin-top: 0px;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        "\n      >\n        Reopen chat\n      </button>\n      <div\n        id="chatRatingContainer"\n        class="chat-rating hidden"\n        role="group"\n        aria-labelledby="chatRatingTitle"\n      >\n        <p id="chatRatingTitle">Rate your chat experience</p>\n        <div\n          class="star-rating"\n          role="radiogroup"\n          aria-labelledby="chatRatingTitle"\n        >\n          <button\n            type="button"\n            class="star"\n            data-rating="1"\n            aria-label="1 star"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="2"\n            aria-label="2 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="3"\n            aria-label="3 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="4"\n            aria-label="4 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="5"\n            aria-label="5 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n        </div>\n        <div class="rating-actions">\n          <button\n            id="submitRatingButton"\n            class="submit-rating"\n            type="button"\n            disabled\n          >\n            Submit review\n          </button>\n          <button id="skipRatingButton" class="skip-rating" type="button">\n            Skip\n          </button>\n        </div>\n        <div id="ratingThanks" class="rating-thanks hidden">\n          Thanks for your feedback!\n        </div>\n      </div>\n    </div>\n    <div\n      id="filePreview"\n      class="file-preview"\n      style="\n        display: none;\n        padding: 8px;\n        background: #f5f5f5;\n        border-radius: 8px;\n        margin-bottom: 8px;\n      "\n    >\n      <div\n        class="file-preview-content"\n        style="display: flex; align-items: center; gap: 8px"\n      >\n        <img\n          id="previewImage"\n          src="/placeholder.svg"\n          alt="Preview"\n          style="\n            max-width: 60px;\n            max-height: 60px;\n            border-radius: 4px;\n            object-fit: cover;\n          "\n        />\n        <span style="flex: 1; font-size: 14px; color: #666"\n          >Image selected</span\n        >\n        <button\n          id="removeFile"\n          class="remove-file-btn"\n          style="\n            padding: 4px 8px;\n            background: #ff4444;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 12px;\n          "\n        >\n          Remove\n        </button>\n      </div>\n    </div>\n    <div\n      id="messageForm"\n      style="display: flex; width: 100%; align-items: center; gap: 4px"\n    >\n      <input\n        type="text"\n        autocomplete="off"\n        class="nx-chat-input"\n        placeholder="Connecting..."\n        id="chatInput"\n        aria-label="Message input"\n      />\n      <button id="emojiButton" class="emoji-button" title="Add emoji">\n        <svg\n          viewBox="0 0 24 24"\n          width="20"\n          height="20"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n          fill="white"\n        >\n          <path\n            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"\n          />\n          <circle cx="8.5" cy="10.5" r="1.5" />\n          <circle cx="15.5" cy="10.5" r="1.5" />\n          <path\n            d="M12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"\n          />\n        </svg>\n      </button>\n      <emoji-picker\n        id="emojiPicker"\n        style="\n          display: none;\n          position: absolute;\n          bottom: 100%;\n          right: 0;\n          z-index: 1000;\n          margin-bottom: 8px;\n        "\n      ></emoji-picker>\n      <label class="file-upload-btn" style="display: flex; align-items: center">\n        <input\n          type="file"\n          accept="image/*"\n          style="display: none"\n          id="fileInput"\n        />\n        <div class="file-upload-icon">\n          <svg\n            viewBox="0 0 24 24"\n            width="20"\n            height="20"\n            xmlns="http://www.w3.org/2000/svg"\n            role="img"\n            aria-hidden="true"\n            fill="currentColor"\n          >\n            <path\n              d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"\n            />\n          </svg>\n        </div>\n      </label>\n      <button\n        class="send-button"\n        id="sendButton"\n        aria-label="Send message"\n        disabled\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M3.3938 2.20468C3.70395 1.96828 4.12324 1.93374 4.4679 2.1162L21.4679 11.1162C21.7953 11.2895 22 11.6296 22 12C22 12.3704 21.7953 12.7105 21.4679 12.8838L4.4679 21.8838C4.12324 22.0662 3.70395 22.0317 3.3938 21.7953C3.08365 21.5589 2.93922 21.1637 3.02382 20.7831L4.97561 12L3.02382 3.21692C2.93922 2.83623 3.08365 2.44109 3.3938 2.20468ZM6.80218 13L5.44596 19.103L16.9739 13H6.80218ZM16.9739 11H6.80218L5.44596 4.89699L16.9739 11Z"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="powered-by">\n    <span>Powered by</span>\n    <img\n      src="https://app.gamblio.ai/logo-dark.svg"\n      alt="Gamblio logo"\n      style="width: 15px; height: 15px"\n    />\n    <a href="https://gamblio.ai" target="_blank">Gamblio</a>\n  </div>\n</div>\n',"setupEventListeners","NODE_ENV","json","demo","className","flex","gamePlayUrl","sendButton","none","handleRatingSelection","value","videoIndex","warn","[Gamblio][Chat] Missing CONFIG.wsUrl for chat","addImpression","https://nbg1.your-objectstorage.com/gamblio-widget/images/","carousel","system_event","[Visibility] ✗ SEND FAILED - No chatId","elements","makeHtml","[Gamblio][Recommendation] Demo button clicked","bump_data",'" alt="',"[Visibility] ✗ SEND FAILED - Socket not OPEN, state:","remove","title","rating","content","indexOf","text","origin","[Gamblio][Chat] Failed to parse message","preventDefault","unix","gradientDirection","includes","{{NAV_BUTTON_HOVER_COLOR}}","stack-mode","buildGameUrl","Connection error","short","selectedRatingValue","gameId","top","navButtonColor","delete","chatRatingContainer","imageIndex","{{IMAGE_HTML}}","messageForm","finishSending","cash","readAsDataURL","Enter your name, ID or email (optional)","change","21bsKynK","send","startChatButton","chatId","Image attachment","clear","role","firstChild","spaceBetween","messageId","/recommendation/click/",'\n        <div class="game">\n          <img src="',"size","backgroundType","File size must be less than 5MB","dataset","info","innerHTML","OPEN","playerId","disabled","gradient","createObjectURL","input","games-swiper","Click to start conversation","playerMarkMessagesAsRead","jpg","filter","type","[Gamblio][Chat] Failed to read attachment","hoverColor","label","{{LOGO_STYLE}}","applyDefaultHeight",':root {\n  --card-shadow-color: {{SHADOW_COLOR}};\n  --gradient-color-1: {{GRADIENT_COLOR_1}};\n  --gradient-color-2: {{GRADIENT_COLOR_2}};\n  --gradient-direction: {{GRADIENT_DIRECTION}};\n  --nav-button-color: {{NAV_BUTTON_COLOR}};\n  --nav-button-hover-color: {{NAV_BUTTON_HOVER_COLOR}};\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  width: 100%;\n  height: 100%;\n  padding-inline: 1rem;\n  position: relative;\n  {{BACKGROUND_STYLE}}\n}\n\n#game-container.stack-mode {\n  perspective: 1200px;\n}\n\n#game-container video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n}\n\n#game-container .background-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n  pointer-events: none;\n}\n\n/* Swiper Container */\n.swiper {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper.stack-mode {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.swiper-slide {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto !important;\n  height: calc(100% - 2rem);\n}\n\n/* Game Cards */\n.game {\n  width: auto;\n  height: 100%;\n  max-height: 100%;\n  aspect-ratio: 1;\n  position: relative;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  box-shadow: 0 4px 16px var(--card-shadow-color);\n  transition: all 0.3s ease;\n}\n\n.game:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 24px var(--card-shadow-color);\n}\n\n.game img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.game::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 1;\n  border-radius: 12px;\n}\n\n.game:hover::before {\n  opacity: 1;\n}\n\n.game-hover-buttons {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 2;\n  pointer-events: none;\n  width: calc(100% - 16px);\n  height: 50%;\n  padding: 0 8px;\n}\n\n.game:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.game-hover-btn {\n  width: 100%;\n  flex: 1;\n  border: none;\n  border-radius: 6px;\n  font-size: clamp(16px, 2.5vw, 20px);\n  font-weight: 700;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 1px;\n  white-space: nowrap;\n}\n\n.game-hover-btn.demo-btn {\n  background: #808080 !important;\n  color: white !important;\n}\n\n.game-hover-btn.demo-btn:hover {\n  background: #6b6b6b !important;\n}\n\n.game-hover-btn.play-btn {\n  background: #e6c328 !important;\n  color: #002157 !important;\n}\n\n.game-hover-btn.play-btn:hover {\n  background: #f2c944 !important;\n}\n\n/* Navigation Buttons */\n.nav-btn {\n  position: relative;\n  z-index: 10;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n.swiper-button-prev::after,\n.swiper-button-next::after {\n  color: var(--nav-button-color);\n  font-size: 16px;\n  font-weight: bold;\n  transition: color 0.3s ease;\n}\n\n.swiper-button-prev:hover::after,\n.swiper-button-next:hover::after {\n  color: var(--nav-button-hover-color);\n}\n\n.nav-btn.swiper-button-disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n}\n\n.nav-btn.swiper-button-disabled:hover::after {\n  color: var(--nav-button-color);\n}\n\n/* Mobile Responsiveness */\n@media (max-width: 768px) {\n  #prev-btn,\n  #next-btn {\n    display: none !important;\n  }\n}\n\n/* Stack Mode - Half-Full-Half 3D Card Effect */\n.swiper.stack-mode .swiper-slide {\n  width: 100% !important;\n  max-width: 350px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: transform 0.4s ease, opacity 0.4s ease;\n}\n\n.swiper.stack-mode .swiper-slide .game {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\n}\n\n#game-container.stack-mode .game {\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n#game-container.stack-mode .game:hover {\n  transform: none;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n.swiper.stack-mode .swiper-slide-prev,\n.swiper.stack-mode .swiper-slide-next {\n  z-index: 1;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game,\n.swiper.stack-mode .swiper-slide-next .game {\n  transform: translateZ(-60px) scale(0.9);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n.swiper.stack-mode .swiper-slide-prev .game::after,\n.swiper.stack-mode .swiper-slide-next .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.60),\n    rgba(0, 0, 0, 0.7)\n  );\n  opacity: 0.85;\n  z-index: 3;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n}\n\n.swiper.stack-mode .swiper-slide:not(.swiper-slide-prev):not(.swiper-slide-active):not(.swiper-slide-next) {\n  opacity: 0;\n}\n\n.swiper.stack-mode .swiper-slide-active {\n  width: 100% !important;\n  max-width: 380px;\n  transform: translateZ(80px) scale(1.08);\n  z-index: 5;\n}\n\n.swiper.stack-mode .swiper-slide-active .game {\n  box-shadow: 0 20px 48px rgba(0, 0, 0, 0.55);\n}\n\n.swiper.stack-mode .swiper-slide-active .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.50);\n  z-index: 3;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game-hover-buttons,\n.swiper.stack-mode .swiper-slide-next .game-hover-buttons {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game::before {\n  opacity: 0.35;\n}\n\n',"onerror","imageExtension","rgba(3, 132, 145,1)","message","focus","recommendationConfig","formatSeenTime","#ffffff","26639973rUPDDh","updateRatingStars","customPlayerId","IS VIP IP IPIPIP","swiperInstance","readyState","renderMessages","https://app.gamblio.ai/logo-dark.svg","/recommendation/","resetUi","[Gamblio][Chat] WebSocket error","getAttribute","isMessageSeen","random","textContent","{{GRADIENT_COLOR_2}}","selectedFile","ratingThanksMessage","keypress","hasToken","isBotMessage","handleChatClosed","isVip","wss://core.gamblio.ai",".mp4","_blank","gameName","target","<br>","ratingThanks","Enter","documentClickHandler","getCookie","shadowColor","protocol","newMessage","delivered_at","endChatButton","ArrowUp","data","[Gamblio] Environment detected: ","ensureEmojiPicker",'<img class="background-image" src="',"result","[data-message-id]","clientId","add","undefined","getVideoHTML","[Gamblio][Chat] Invalid CONFIG.apiUrl","delivered","{{STACK_MODE_CLASS}}","existingMessages","status","message ","POST","logo","staging","is_vip","handleRatingSkip","numeric","/recommendation/impression/","isSending","[Gamblio][Chat] Unable to open WebSocket","from","addChatWidget","attachment","system_chat_rating","right","apiUrl","querySelector","timestamp","https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css","getElementById","rgba(0, 0, 0, 1)","reopenChatButton","boolean","Seen","emoji-picker","navButtonHoverColor","mouseenter","createElement","some","Active stack slide; scheduling impression","nx-date-separator","startsWith","getTime","ratingSkipButton","messagesMarkedAsRead","getRecommendedGames","attachment_url","[Gamblio][Chat] Cannot send message without chatId","max-width: 200px; max-height: 200px; width: 100%; height: auto; border-radius: 8px; margin-top: 8px; cursor: pointer; object-fit: cover;","previewObjectUrl","[Gamblio] No bundler detected - defaulting to production API","slider","startChatSuccess","mousewheel","[Gamblio][Recommendation] Play button clicked","revokeObjectURL","forEach"," stack-mode","chatConfig","visibleIdsSet","9469775QxEuiZ","split","injectAssets","push","false","auto","Seen at ","resolveWebSocketUrl","nx-date-separator-label","{{HOVER_COLOR}}","en-GB","Delivered at ","{{NAV_BUTTON_COLOR}}","Yesterday","data-message-id","chatFooter","Game ","https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js","seen_at","generateGuestName","playerName","chatContainer","setAttribute","lastActiveGameId","display","div","keydown","string","Type your message...","error","ws:","https:","language","hidden","seenIdsSet","gradientColors","isMessageAlreadySeen","user","handleFileSelect","centeredSlides","open","stopPropagation","true","removeSelectedFile","application/json","{{BACKGROUND_PRIMARY}}","Please select an image file","{{VIDEO_HTML}}","game-container","#0292a0","2544FBZUcg","data-game-id","src","closest","sendMessage",':root {\n  --chat-toggle-bg: {{BACKGROUND_PRIMARY}};\n  --chat-toggle-hover: {{HOVER_COLOR}};\n}\n\n.chat-toggle,\n.nx-chat-container {\n  font-family: "Geist", sans-serif;\n}\n\n.chat-toggle {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  background: var(--chat-toggle-bg);\n  border-radius: 50%;\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(0, 33, 87, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1001;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.chat-toggle:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 26px rgba(0, 33, 87, 0.4);\n}\n\n.chat-toggle svg {\n  width: 28px;\n  height: 28px;\n  fill: currentColor;\n  transition: transform 0.3s ease;\n}\n\n.chat-toggle.active svg {\n  transform: rotate(45deg);\n}\n\n.nx-chat-container {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 380px;\n  height: 500px;\n  background: #ffffff;\n  border: 1px solid #e6e6e6;\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);\n  display: flex;\n  flex-direction: column;\n  transform: translateY(20px) scale(0.95);\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;\n  z-index: 1000;\n  overflow: hidden;\n}\n\n.nx-chat-container.open {\n  transform: translateY(0) scale(1);\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.nx-chat-container,\n.nx-chat-container * {\n  box-sizing: border-box;\n  font-family: "Geist", sans-serif;\n}\n\n.nx-chat-header {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  padding: 16px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px 12px 0 0;\n}\n\n.nx-chat-header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-header img {\n  width: 110px;\n  height: auto;\n}\n\n.chat-navigation {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-close,\n.end-chat {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 12px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.end-chat {\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  font-size: 0.8rem;\n}\n\n.nx-chat-close:hover,\n.end-chat:hover {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.nx-chat-close svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.nx-chat-body {\n  flex: 1;\n  background: #fafafa;\n  padding: 16px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n}\n\n.nx-chat-body::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n\n.pre-chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  box-shadow: 0 12px 28px rgba(0, 33, 87, 0.12);\n  text-align: center;\n}\n\n.pre-chat-container label {\n  font-size: 0.9rem;\n  color: #2b2b2b;\n}\n\n.pre-chat-input {\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.pre-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.15);\n}\n\n.pre-chat-button {\n  border: none;\n  border-radius: 20px;\n  padding: 12px 20px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.pre-chat-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.03);\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  flex: 1;\n  min-height: 0;\n}\n\n.message-wrapper {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 8px;\n}\n\n.message-wrapper.bot {\n  justify-content: flex-end;\n}\n\n.message-with-indicator {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.delivery-indicator {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 2px;\n  padding-right: 4px;\n  height: 14px;\n}\n\n.checkmark-icon {\n  font-size: 0.75rem;\n  line-height: 1;\n  color: #888;\n  user-select: none;\n  cursor: default;\n  transition: color 0.2s ease;\n  font-weight: 500;\n  letter-spacing: -0.5px;\n}\n\n.checkmark-icon.sent {\n  color: #888;\n}\n\n.checkmark-icon.delivered {\n  color: var(--chat-toggle-bg);\n}\n\n.checkmark-icon:hover {\n  opacity: 0.8;\n}\n\n.message {\n  padding: 10px 14px;\n  border-radius: 14px;\n  line-height: 1.45;\n  font-size: 0.95rem;\n  background: #ffffff;\n  color: #2c2c2c;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n.message.user {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  border-bottom-right-radius: 4px;\n}\n\n.message.bot {\n  border-bottom-left-radius: 4px;\n}\n\n.message img {\n  margin-top: 8px;\n  border-radius: 8px;\n  max-width: 220px;\n  width: 100%;\n  height: auto;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #888;\n  white-space: nowrap;\n}\n\n.nx-chat-footer {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px 6px;\n  border-top: 1px solid #e6e6e6;\n  background: #ffffff;\n  border-radius: 0 0 12px 12px;\n}\n\n.chat-closed-message {\n  text-align: center;\n}\n\n.chat-closed-message button {\n  margin-top: 8px;\n  border: none;\n  border-radius: 20px;\n  padding: 8px 16px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n\n.file-preview {\n  display: none;\n  border: 1px solid #e6e6e6;\n  border-radius: 8px;\n  background: #f5f5f5;\n  padding: 10px 14px;\n}\n\n.file-preview-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.file-preview img {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  object-fit: cover;\n  border: 1px solid #dcdcdc;\n}\n\n.remove-file-btn {\n  background: #c0392b;\n  color: #ffffff;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.remove-file-btn:hover {\n  background: #962d22;\n}\n\n.message-form {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  position: relative;\n}\n\n.nx-chat-input {\n  flex: 1;\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.nx-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.2);\n}\n\n.emoji-button,\n.file-upload-icon,\n.send-button {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: var(--chat-toggle-bg);\n  border: none;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.emoji-button:hover,\n.file-upload-icon:hover,\n.send-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.05);\n}\n\n.emoji-button svg,\n.file-upload-icon svg,\n.send-button svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.file-upload-btn input {\n  display: none;\n}\n\n.typing-bubble {\n  display: none;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.typing-dots {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-dots span {\n  width: 6px;\n  height: 6px;\n  background: #fecc00;\n  border-radius: 50%;\n  animation: typing-dot 1.2s infinite ease-in-out;\n}\n\n.typing-dots span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.typing-dots span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes typing-dot {\n  0%, 80%, 100% {\n    transform: scale(0.7);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.nx-date-separator {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n}\n\n.nx-separator-line {\n  height: 1px;\n  background: #e6e6e6;\n  flex: 1;\n}\n\n.nx-date-separator-label {\n  font-size: 12px;\n  color: #666;\n  white-space: nowrap;\n}\n\nemoji-picker {\n  position: absolute;\n  bottom: 48px;\n  right: 0;\n  z-index: 2000;\n  max-height: 260px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);\n}\n\n@media (max-width: 768px) {\n  .nx-chat-container {\n    width: calc(100% - 24px);\n    bottom: 80px;\n    right: 12px;\n    left: 12px;\n    height: 70vh;\n  }\n\n  .chat-toggle {\n    bottom: 16px;\n    right: 16px;\n  }\n\n  .message-wrapper {\n    max-width: 90%;\n  }\n\n  .message img {\n    max-width: 160px;\n  }\n}\n\n@media (max-width: 480px) {\n  .nx-chat-container {\n    width: calc(100% - 16px);\n    right: 8px;\n    left: 8px;\n    bottom: 70px;\n    height: 65vh;\n  }\n\n  .message img {\n    max-width: 120px;\n  }\n}\n\n.hidden {\n  display: none !important;\n}\n\n.chat-rating {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(15, 23, 42, 0.08);\n  border-radius: 12px;\n  color: #0f172a;\n  animation: fadeIn 0.25s ease-out;\n}\n\n.chat-rating p {\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.star-rating {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  margin: 12px 0;\n}\n\n.star-rating .star {\n  border: none;\n  background: none;\n  font-size: 28px;\n  color: #d1d5db;\n  cursor: pointer;\n  transition: transform 0.15s ease, color 0.15s ease;\n}\n\n.star-rating .star:hover,\n.star-rating .star:focus-visible {\n  transform: scale(1.15);\n  color: #facc15;\n  outline: none;\n}\n\n.star-rating .star.is-active {\n  color: #facc15;\n}\n\n.rating-actions {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 12px;\n  flex-wrap: wrap;\n}\n\n.submit-rating,\n.skip-rating {\n  padding: 8px 16px;\n  border-radius: 9999px;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n\n.submit-rating {\n  background: linear-gradient(135deg, #facc15, #f59e0b);\n  color: #1f2937;\n  box-shadow: 0 8px 20px rgba(250, 204, 21, 0.35);\n}\n\n.submit-rating:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.skip-rating {\n  background: transparent;\n  color: #1f2937;\n  border: 1px solid rgba(15, 23, 42, 0.25);\n}\n\n.submit-rating:hover:enabled,\n.skip-rating:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.15);\n}\n\n.rating-thanks {\n  margin-top: 16px;\n  font-weight: 600;\n  color: #16a34a;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.powered-by {\n  background: var(--chat-toggle-bg);\n  color: rgba(255, 255, 255, 0.75);\n  letter-spacing: 0.8px;\n  text-align: center;\n  font-size: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  text-transform: uppercase;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(8px);\n}\n\n.powered-by a {\n  color: rgba(255, 255, 255, 0.95);\n  font-weight: 600;\n  text-decoration: none;\n  transition: color 0.2s ease;\n}\n\n.powered-by a:hover {\n  color: #ffffff;\n}\n\n.powered-by img {\n  opacity: 0.9;\n  transition: opacity 0.2s ease;\n}\n\n.powered-by:hover img {\n  opacity: 1;\n}\n\n',"submitRatingButton","getMonth","currentIndex","{{SWIPER_STACK_MODE}}","left","Connection unavailable","skipRatingButton","init","handleRatingSubmit","ABCDEFGHIJKLMNOPQRSTUVWXYZ","Impression triggered","alert","rel","triggerImpression","img[data-game-id]","emojiPicker","playerNewChatRating",".nx-chat-body","resolveToken","Fully visible in viewport; scheduling impression","gamblio-emoji-picker-module","visibilityTimeout","endChat","wss://dev-core.gamblio.ai","chatToggle","messages","0px",".swiper-slide","unicode","shouldAutoScroll","getBoundingClientRect","closeChat","switchedStatusToClosed","chatInput","classList","resetRatingState",'[Gamblio] Unable to read token "',"video","appendChild","isIntersecting","setTimeout","getImageHTML","addRecommendationWidget","#prev-btn","getDate","getBackgroundStyle","[Gamblio] Debug mode enabled - using development API","trim","renderCarousel","startChat","scheduleTypingIndicator","script","aria-expanded","chatClose","dayKey","localStorage","bottom","[Gamblio][Chat] Unknown bump type","ArrowRight","separatorLabel","displayMode","preChatPlayerId",'" data-game-id="',"delivery-indicator","handleExistingMessages","parse","diffDaysFromToday","visibilityState","head","2521284hFsdAC","handleEndChat",'<div id="game-container" class="{{STACK_MODE_CLASS}}">\n  {{VIDEO_HTML}} {{IMAGE_HTML}}\n  <button id="prev-btn" class="nav-btn swiper-button-prev"></button>\n  <div class="swiper{{SWIPER_STACK_MODE}}" id="games-swiper">\n    <div class="swiper-wrapper" id="slider"></div>\n  </div>\n  <button id="next-btn" class="nav-btn swiper-button-next"></button>\n</div>\n',"Connecting...","&lt;","key",'">\n          <div class="game-hover-buttons">\n            <button class="game-hover-btn demo-btn" data-action="demo">Demo</button>\n            <button class="game-hover-btn play-btn" data-action="play">Play</button>\n          </div>\n        </div>\n      ',"stack","handleChatReady","destroySocket","nx-separator-line","system_ai_wasco","242378MmLheh","gameImage","6411112JiMqHd","&amp;","now","isArray","[Gamblio][Recommendation] Sending impression","effect","beforeunload","clearTimeout","close","pushMessage","token","[Gamblio] Using API URL: ","2-digit","timeHHmmss","preChatContainer","5uDvIVx","height","detail","#next-btn","sendSocketMessage","scrollTop","contains","gamblio-showdown-script","400px","getItem","loadTemplate","chat","[Gamblio][Recommendation] Impression recorded","href","intersectionRatio","toLocaleTimeString","background: transparent;","cacheElements","get","user_id","&gt;","displayName","toLocaleDateString","insertAdjacentHTML",".play-btn","handleBeforeUnload","Error fetching games:","messageSeen","stylesheet","style","[Gamblio][Recommendation] Click failed","allGames","/ws/chat","visibilityObserver","activeIndex","message-with-indicator","emoji-click","https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js","determineVipStatus","Message attachment","ensureMarkdownConverter","https://dev-core.gamblio.ai","normalizedId","typingBubble","querySelectorAll","Converter","[data-rating]","checkmark-icon","typingTimeoutId","floor","Connection lost","getComputedStyle","setupMessageVisibilityObserver","isMessageDelivered","HTTP ","https://nbg1.your-objectstorage.com/gamblio-widget/videos/",'" from localStorage.',"find","body","onload","handleSocketMessage","buildDateSeparator","gamblio-chat-widget-style","handleBumpMessage","placeholder","active","log","hasSubmittedRating","system_ai_vector","toLocaleString","image/","breakpoints","loop","block","/api/accounts/is_vip_player?token=","logoUrl","formatDeliveredTime","addClick",'<video autoplay loop muted playsinline>\n      <source src="',"ArrowDown","shift","messageIds","{{SHADOW_COLOR}}","Enter your name to start","ratingSubmitButton","getFullYear","initSwiper","replace","sent","stringify","CSS","player","set","playerStartChatAndJoin","playerSendMessage","showRatingPrompt","toggleEmojiPicker","hideRatingPrompt","click","observe","name","is_sent_safely","env","[Gamblio][Recommendation] Impression failed","updateFilePreview","removeFile","map","aria-pressed","toggleChat","setProperty","HTML","swiper-slide-active","2080276wjuehk","previewImage","wsUrl","tag"];return(s=function(){return n})()}class GamblioRecommendationWidget{static[n(282)]="";static[n(262)]="";static allGames=[];static[n(614)]=0;static[n(456)]=null;static[n(141)]=new Map;static[n(579)]=null;static observer=new IntersectionObserver(e=>{const t=n;e[t(552)](n=>{const e=t,a=n[e(479)],o=a[e(609)](e(639)),i=Gamblio.displayMode===e(150),s=o?.[e(646)][e(178)](e(283))??!1,r=a[e(463)](e(607)),c=GamblioRecommendationWidget.allGames.find(n=>String(n.normalizedId)===r),l=String(r),d=!0===GamblioRecommendationWidget[e(141)][e(190)](l),p=n[e(186)]>=1,g=!n.isIntersecting;!i||s?c?p&&!d?GamblioRecommendationWidget[e(625)](c,{reason:e(631)}):g&&d&&GamblioRecommendationWidget[e(141)][e(264)](l,!1):d&&g&&GamblioRecommendationWidget[e(141)][e(264)](l,!1):d&&GamblioRecommendationWidget[e(141)].set(l,!1)})},{threshold:[0,1]});static[n(625)](e,{reason:t=n(622),force:a=!1}={}){const o=n;if(!e)return;const i=String(e[o(214)]),s=!0===GamblioRecommendationWidget[o(141)].get(i);!a&&s||(GamblioRecommendationWidget[o(141)][o(264)](i,!0),o(344),String(e[o(214)]),e[o(193)],GamblioRecommendationWidget[o(366)](e[o(214)]))}static[n(326)](e){const t=n,a=e[t(325)]?.[e[t(206)]];if(!a)return;const o=a[t(522)](t(626));if(!o)return;const i=o.getAttribute(t(607)),s=GamblioRecommendationWidget.allGames[t(229)](n=>String(n[t(214)])===i);GamblioRecommendationWidget[t(579)]&&GamblioRecommendationWidget.lastActiveGameId!==i&&GamblioRecommendationWidget[t(141)][t(264)](GamblioRecommendationWidget[t(579)],!1),GamblioRecommendationWidget[t(625)](s,{reason:t(535)}),GamblioRecommendationWidget[t(579)]=i}static getBackgroundStyle(){const e=n,t=Gamblio.backgroundType;return t===e(429)?"background: linear-gradient(var(--gradient-direction), var(--gradient-color-1), var(--gradient-color-2));":e(188)}static[n(500)](){const e=n;if(Gamblio[e(421)]!==e(649))return"";const t=Gamblio[e(363)]||1,a=e(649)+t+e(476),o=""+e(227)+a;return e(250)+o+'" type="video/mp4">\n    </video>'}static getImageHTML(){const e=n;if("image"!==Gamblio[e(421)])return"";const t="image"+(Gamblio[e(400)]||1)+".png",a=""+e(367)+t;return e(494)+a+e(291)}static[n(442)](){const e=n,t=Gamblio[e(322)];if(!t)return;const a=document[e(525)](t);if(!a)return;const o=a[e(201)][e(173)];if(o&&""!==o[e(659)]()&&o!==e(561))return;const i=window[e(223)](a)[e(173)];if(i&&"auto"!==i&&i!==e(638)&&"0"!==i)return;const s=(Gamblio[e(134)]||e(368))===e(150)?e(180):e(302);a.style[e(173)]=s}static loadTemplate(){const e=n,t="stack"===Gamblio[e(134)],a=o,s=i,r=GamblioRecommendationWidget[e(500)](),c=GamblioRecommendationWidget[e(653)](),l=t?e(390):"",d=t?e(553):"";GamblioRecommendationWidget[e(282)]=a[e(259)](e(503),l).replace(e(603),r)[e(259)](e(401),c)[e(259)](e(615),d);const p=GamblioRecommendationWidget[e(657)]();return GamblioRecommendationWidget[e(262)]=s[e(259)](e(254),Gamblio[e(485)])[e(259)](e(294),Gamblio[e(591)][0])[e(259)](e(467),Gamblio[e(591)][1])[e(259)](e(318),Gamblio[e(387)])[e(259)](e(568),Gamblio[e(397)])[e(259)](e(389),Gamblio[e(531)])[e(259)]("{{BACKGROUND_STYLE}}",p),!0}static async[n(619)](){const e=n;GamblioRecommendationWidget[e(442)]();if(!GamblioRecommendationWidget[e(182)]())return;const t=await GamblioRecommendationWidget[e(541)]();if(!t)return;const a=document[e(533)]("link");a[e(624)]=e(200),a.href=e(524),document[e(142)][e(650)](a);const o=document.createElement(e(663));o[e(608)]=e(327),o[e(231)]=()=>{const n=e;document[n(142)][n(195)]("beforeend","<style>"+GamblioRecommendationWidget.CSS+n(323)),document[n(525)](Gamblio.recommendationWidgetTargetContainerId)[n(425)]=GamblioRecommendationWidget[n(282)],setTimeout(()=>{const e=n;GamblioRecommendationWidget[e(203)]=t.map(n=>{const t=e,a=n.id??n[t(395)],o=n[t(478)]||n[t(272)]||t(572)+a;return{...n,normalizedId:a,displayName:o}}),GamblioRecommendationWidget[e(141)].clear(),GamblioRecommendationWidget[e(203)][e(552)](n=>{const t=e;GamblioRecommendationWidget[t(141)][t(264)](String(n[t(214)]),!1)}),GamblioRecommendationWidget[e(579)]=null,GamblioRecommendationWidget[e(660)](),GamblioRecommendationWidget[e(258)]()},300)},document[e(142)][e(650)](o)}static[n(391)](e,t){const a=n;return Gamblio.gamePlayUrl[a(259)](a(308),e)[a(259)](a(296),t)}static async getRecommendedGames(){const e=n;try{const n=await fetch(a.apiUrl+e(460),{method:e(507),headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({clientId:btoa(String(Gamblio[e(497)])),playerToken:Gamblio[e(167)]})});if(!n.ok)throw new Error("Failed to load games");const t=await n[e(354)]();return t[e(491)]||t}catch(n){return console[e(585)](e(198),n),[]}}static[n(660)](){const e=n,t=document[e(525)](e(547));t[e(425)]="",GamblioRecommendationWidget[e(203)][e(552)](n=>{const a=e,o=n[a(214)],i=n[a(193)],s=n[a(156)]||n[a(508)];GamblioRecommendationWidget[a(141)][a(264)](String(o),!0===GamblioRecommendationWidget[a(141)][a(190)](String(o)));const r=document[a(533)](a(581));r[a(646)][a(498)]("swiper-slide"),r[a(425)]=a(419)+s+a(375)+i+a(136)+o+a(149);const c=r[a(522)](".demo-btn"),l=r[a(522)](a(196));c[a(343)](a(270),n=>{const e=a;n[e(597)](),console[e(238)](e(373),{gameId:o,name:i});const t=GamblioRecommendationWidget.buildGameUrl(e(355),o);window.location[e(185)]=t}),l.addEventListener(a(270),e=>{const t=a;e.stopPropagation(),t(550),n[t(214)],GamblioRecommendationWidget.addClick(n[t(214)]);const i=GamblioRecommendationWidget.buildGameUrl(t(404),o);window.location[t(185)]=i}),t[a(650)](r),GamblioRecommendationWidget.observer.observe(r.querySelector(a(346)))})}static[n(258)](){const e=n,t=document[e(525)](e(432)),a=document.getElementById(e(604)),o=Gamblio[e(134)]||"carousel",i=GamblioRecommendationWidget[e(203)][e(288)],s=e("stack"===o&&i>=3?150:368);s===e(150)&&(t[e(646)][e(498)](e(390)),a?.classList.add(e(390))),s!==e(150)&&(t.classList[e(377)]("stack-mode"),a?.[e(646)][e(377)](e(390)));const r={slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:e(175),prevEl:e(655)},keyboard:{enabled:!0},mousewheel:{forceToAxis:!0}};"carousel"===s&&(r[e(243)]={320:{spaceBetween:12},768:{spaceBetween:16},1024:{spaceBetween:20}}),s===e(150)&&(r.slidesPerView="auto",r[e(244)]=i>3,r[e(162)]=e(300),r.grabCursor=!0,r[e(595)]=!0,r[e(416)]=0,r[e(549)]=!1,r.coverflowEffect={rotate:0,stretch:0,depth:360,modifier:1.15,slideShadows:!1});const c=new Swiper("#games-swiper",r);GamblioRecommendationWidget[e(456)]=c,s===e(150)?(GamblioRecommendationWidget[e(326)](c),c.on(e(321),()=>{GamblioRecommendationWidget[e(326)](c)})):GamblioRecommendationWidget.swiperInstance=null}static async addImpression(e){const t=n;t(161);try{const n=await fetch(a[t(521)]+t(513),{method:"POST",headers:{Accept:t(600),"Content-Type":"application/json"},body:JSON[t(261)]({clientId:btoa(String(Gamblio[t(497)])),playerToken:Gamblio.token,gameId:e})});if(!n.ok)throw new Error(t(226)+n[t(505)]);console[t(238)](t(184),{gameId:e})}catch(n){console.warn(t(275),{gameId:e,error:n[t(447)]})}}static async[n(249)](e){const t=n;try{const n=await fetch(a[t(521)]+t(418),{method:"POST",headers:{Accept:t(600),"Content-Type":t(600)},body:JSON[t(261)]({clientId:btoa(String(Gamblio[t(497)])),playerToken:Gamblio.token,gameId:e})});if(!n.ok)throw new Error(t(226)+n[t(505)]);console[t(238)]("[Gamblio][Recommendation] Click recorded",{gameId:e})}catch(n){throw console[t(364)](t(202),{gameId:e,error:n[t(447)]}),n}}}const r=n(351),c=n(611);class GamblioChatWidget{static[n(313)](){const e=n,t=e(605),a=e(459);return Gamblio.backgroundPrimary===t&&Gamblio.logoUrl===a}static get HTML(){const e=n,t=GamblioChatWidget[e(313)]()?'style="mix-blend-mode: screen;"':"";return r.replace("{{LOGO_URL}}",Gamblio[e(247)]).replace(e(441),t)}static get[n(262)](){const e=n;return c[e(259)](e(601),Gamblio[e(303)]||e(605)).replace(e(565),Gamblio[e(439)]||e(605))}static hasInitialized=!1;static[n(167)]="";static[n(497)]=null;static[n(576)]="";static[n(427)]=null;static messages=[];static[n(514)]=!1;static[n(641)]=!0;static[n(468)]=null;static[n(545)]=null;static[n(220)]=null;static[n(371)]={};static[n(483)]=null;static visibilityObserver=null;static[n(555)]=new Set;static seenIdsSet=new Set;static[n(633)]=null;static selectedRatingValue=0;static[n(239)]=!1;static[n(332)]=null;static[n(619)](){const e=n;GamblioChatWidget.hasInitialized||(GamblioChatWidget[e(309)]=!0,GamblioChatWidget[e(167)]=Gamblio[e(167)]||"",GamblioChatWidget[e(497)]=Gamblio.clientId??null,GamblioChatWidget[e(576)]=GamblioChatWidget[e(575)](),GamblioChatWidget[e(558)](),GamblioChatWidget.cacheElements(),GamblioChatWidget.resetUi(),GamblioChatWidget[e(352)](),GamblioChatWidget[e(493)](),GamblioChatWidget[e(212)](),window[e(343)](e(163),GamblioChatWidget[e(197)]))}static injectAssets(){const e=n;if(!document.getElementById(e(234))){const n=document[e(533)](e(201));n.id=e(234),n[e(466)]=GamblioChatWidget[e(262)],document.head.appendChild(n)}if(!document[e(525)](e(577))){const n=document.createElement("div");for(n.innerHTML=GamblioChatWidget.HTML[e(659)]();n[e(415)];)document[e(230)].appendChild(n[e(415)])}}static[n(189)](){const e=n;GamblioChatWidget[e(371)]={chatToggle:document.getElementById(e(636)),chatContainer:document[e(525)](e(577)),chatClose:document[e(525)](e(665)),chatInput:document[e(525)](e(645)),sendButton:document[e(525)](e(359)),chatFooter:document[e(525)]("nxChatFooter"),preChatContainer:document[e(525)](e(171)),preChatInput:document[e(525)](e(314)),preChatPlayerId:document[e(525)](e(135)),startChatButton:document[e(525)](e(410)),endChatButton:document[e(525)](e(634)),reopenChatButton:document.getElementById(e(527)),chatClosedMessage:document[e(525)](e(342)),messagesContainer:document[e(525)](e(341)),typingBubble:document.getElementById("typingBubble"),emojiButton:document[e(525)](e(301)),emojiPicker:document[e(525)](e(627)),fileInput:document[e(525)](e(330)),filePreview:document[e(525)]("filePreview"),previewImage:document[e(525)](e(285)),removeFile:document.getElementById(e(277)),messageForm:document[e(525)]("messageForm"),chatBody:document.querySelector(e(629)),ratingContainer:document.getElementById(e(399)),ratingSubmitButton:document[e(525)](e(612)),ratingSkipButton:document[e(525)](e(618)),ratingThanksMessage:document[e(525)](e(481))}}static resetUi(){const e=n;GamblioChatWidget.destroySocket(),GamblioChatWidget[e(637)]=[],GamblioChatWidget.chatId=null,GamblioChatWidget[e(641)]=!0,GamblioChatWidget[e(514)]=!1,GamblioChatWidget[e(468)]=null,GamblioChatWidget[e(349)]();const t=GamblioChatWidget[e(371)];if(t[e(341)]&&(t.messagesContainer[e(425)]=""),t.chatClosedMessage&&(t[e(342)][e(201)][e(580)]=e(360)),t.messageForm&&(t[e(402)][e(201)][e(580)]=e(357)),t[e(489)]&&(t.endChatButton.style[e(580)]=e(360)),t[e(410)]&&(t.startChatButton[e(428)]=!1),t[e(571)]&&(t.chatFooter.style[e(580)]=e(360)),t.chatInput&&(t[e(645)].value="",t.chatInput[e(428)]=!0,t.chatInput[e(236)]=GamblioChatWidget[e(471)]()?e(433):e(255)),t.sendButton&&(t.sendButton[e(428)]=!0),GamblioChatWidget[e(276)](null),t[e(171)]){t[e(171)][e(201)][e(580)]=e(357);const n=t[e(171)][e(522)](e(440));GamblioChatWidget[e(471)]()?(n&&(n.textContent=e(433)),t[e(314)]&&(t[e(314)].value="",t.preChatInput[e(201)][e(580)]="none"),t[e(135)]&&(t[e(135)][e(362)]="",t[e(135)][e(201)][e(580)]="none")):(n&&(n[e(466)]=e(406)),t[e(314)]&&(t[e(314)][e(362)]="",t.preChatInput.style.display=""),t[e(135)]&&(t[e(135)][e(362)]="",t[e(135)].style[e(580)]=""))}GamblioChatWidget[e(371)].emojiPicker&&(GamblioChatWidget[e(371)].emojiPicker[e(201)][e(580)]=e(360)),GamblioChatWidget.playerId=null,GamblioChatWidget[e(647)](),GamblioChatWidget.visibilityObserver&&(GamblioChatWidget[e(205)][e(345)](),GamblioChatWidget.visibilityObserver=null),GamblioChatWidget.visibilityTimeout&&(clearTimeout(GamblioChatWidget[e(633)]),GamblioChatWidget[e(633)]=null),GamblioChatWidget.visibleIdsSet[e(413)](),GamblioChatWidget.seenIdsSet[e(413)](),GamblioChatWidget[e(304)](!1),t[e(636)]?.[e(646)][e(377)]("active"),t[e(577)]?.[e(646)][e(377)](e(596))}static[n(352)](){const e=n,t=GamblioChatWidget[e(371)];t[e(636)]?.addEventListener("click",()=>GamblioChatWidget.toggleChat()),t.chatClose?.[e(343)]("click",()=>GamblioChatWidget[e(643)]()),t[e(577)]?.[e(343)]("click",n=>n[e(597)]()),t.startChatButton?.[e(343)](e(270),()=>GamblioChatWidget[e(661)]()),t.preChatInput?.[e(343)]("keypress",n=>{const t=e;n[t(148)]===t(482)&&(n.preventDefault(),GamblioChatWidget.startChat())}),t[e(135)]?.[e(343)](e(470),n=>{const t=e;n[t(148)]===t(482)&&(n.preventDefault(),GamblioChatWidget.startChat())}),t[e(489)]?.addEventListener("click",()=>GamblioChatWidget[e(144)]()),t.reopenChatButton?.[e(343)](e(270),()=>GamblioChatWidget[e(461)]()),t[e(359)]?.[e(343)](e(270),()=>GamblioChatWidget[e(610)]()),t[e(645)]?.addEventListener("keydown",n=>{const t=e;n[t(148)]===t(482)&&(n[t(385)](),GamblioChatWidget.sendMessage())}),t.chatInput?.[e(343)](e(431),()=>GamblioChatWidget[e(349)]()),t[e(330)]?.[e(343)](e(407),n=>GamblioChatWidget[e(594)](n)),t[e(277)]?.[e(343)](e(270),()=>GamblioChatWidget.removeSelectedFile()),t[e(301)]?.[e(343)]("click",n=>{const t=e;n[t(597)](),GamblioChatWidget[t(268)]()}),t[e(627)]&&t[e(627)][e(343)](e(208),n=>{const t=e;GamblioChatWidget[t(371)][t(645)]&&(GamblioChatWidget[t(371)].chatInput[t(362)]+=n[t(174)][t(640)],GamblioChatWidget[t(371)][t(645)][t(448)](),GamblioChatWidget[t(371)].emojiPicker.style[t(580)]=t(360))}),!GamblioChatWidget.documentClickHandler&&(GamblioChatWidget[e(483)]=n=>{const t=e,a=GamblioChatWidget.elements[t(627)],o=GamblioChatWidget.elements[t(301)];a&&a[t(201)][t(580)]!==t(360)&&(o&&o.contains(n.target)||a[t(178)](n.target)||(a[t(201)][t(580)]=t(360)))},document[e(343)]("click",GamblioChatWidget[e(483)]));const a=t.ratingContainer;if(a){Array[e(516)](a[e(216)](e(218)))[e(552)](n=>{const t=e;n[t(343)]("click",()=>GamblioChatWidget[t(361)](Number(n[t(423)][t(379)]))),n[t(343)](t(532),()=>{const e=t;!GamblioChatWidget[e(239)]&&GamblioChatWidget[e(453)](Number(n.dataset[e(379)]))}),n[t(343)](t(338),()=>{const n=t;!GamblioChatWidget[n(239)]&&GamblioChatWidget[n(453)]()}),n.addEventListener(t(582),e=>{const a=t;(e[a(148)]===a(482)||" "===e.key)&&(e[a(385)](),GamblioChatWidget[a(361)](Number(n[a(423)][a(379)]))),(e[a(148)]===a(132)||e.key===a(490))&&(e[a(385)](),GamblioChatWidget.focusAdjacentRatingButton(n,1)),("ArrowLeft"===e[a(148)]||e[a(148)]===a(251))&&(e.preventDefault(),GamblioChatWidget.focusAdjacentRatingButton(n,-1))})}),a[e(343)](e(338),()=>{!GamblioChatWidget.hasSubmittedRating&&GamblioChatWidget.updateRatingStars()})}t[e(256)]?.addEventListener(e(270),()=>GamblioChatWidget[e(620)]()),t[e(539)]?.[e(343)](e(270),()=>GamblioChatWidget[e(511)]())}static[n(493)](){const e=n;if("undefined"==typeof customElements)return;if(customElements[e(190)](e(530)))return;if(document[e(525)](e(632)))return;const t=document[e(533)](e(663));t.id="gamblio-emoji-picker-module",t[e(437)]="module",t[e(608)]=e(209),document[e(142)][e(650)](t)}static[n(212)](){const e=n;if(!GamblioChatWidget[e(332)])if("undefined"==typeof showdown){if(document[e(525)](e(179)))return;const n=document[e(533)]("script");n.id=e(179),n[e(608)]=e(573),n[e(231)]=()=>{const n=e;GamblioChatWidget.markdownConverter=new(showdown[n(217)])({openLinksInNewWindow:!0})},document[e(142)][e(650)](n)}else GamblioChatWidget[e(332)]=new showdown.Converter({openLinksInNewWindow:!0})}static hasToken(){return Boolean(GamblioChatWidget[n(167)])}static[n(280)](){const e=n,t=GamblioChatWidget[e(371)];t[e(577)]?.classList[e(178)](e(596))?GamblioChatWidget[e(643)]():GamblioChatWidget[e(306)]()}static openChat(){const e=n,t=GamblioChatWidget[e(371)];t[e(577)]&&(t[e(577)].classList.add("open"),t.chatToggle?.[e(646)][e(498)](e(237)),GamblioChatWidget[e(304)](!0),GamblioChatWidget[e(493)](),GamblioChatWidget[e(471)]()&&!GamblioChatWidget[e(297)]&&GamblioChatWidget[e(661)](!0),setTimeout(()=>{const n=e;GamblioChatWidget[n(641)]=!0,GamblioChatWidget.renderMessages(),GamblioChatWidget[n(224)](),GamblioChatWidget.shouldAutoScroll=!1,t[n(645)]?.[n(448)]()},250))}static[n(643)](){const e=n,t=GamblioChatWidget.elements;t.chatContainer&&(t[e(577)][e(646)][e(377)](e(596)),t[e(636)]?.[e(646)][e(377)](e(237)),GamblioChatWidget.setChatAriaState(!1),GamblioChatWidget[e(205)]&&(GamblioChatWidget[e(205)][e(345)](),GamblioChatWidget.visibilityObserver=null))}static[n(304)](e){const t=n,a=GamblioChatWidget[t(371)];a[t(636)]?.setAttribute(t(664),e?t(598):"false"),a[t(577)]?.[t(578)]("aria-hidden",t(e?560:598))}static[n(661)](e=!1){const t=n;if(!GamblioChatWidget[t(297)]||GamblioChatWidget[t(297)][t(457)]!==WebSocket[t(426)]){if(!GamblioChatWidget[t(471)]()){const n=(GamblioChatWidget[t(371)].preChatInput?.value||"")[t(659)]();if(!n&&e)return;GamblioChatWidget.playerName=n||GamblioChatWidget[t(575)]();const a=(GamblioChatWidget[t(371)][t(135)]?.[t(362)]||"")[t(659)]();GamblioChatWidget[t(427)]=a?parseInt(a,10):null}GamblioChatWidget[t(371)][t(410)]&&(GamblioChatWidget.elements.startChatButton[t(428)]=!0),GamblioChatWidget.elements[t(171)]&&(GamblioChatWidget[t(371)].preChatContainer[t(201)].display=t(360)),GamblioChatWidget.elements.chatFooter&&(GamblioChatWidget[t(371)][t(571)][t(201)][t(580)]=t(357)),GamblioChatWidget[t(637)]=[],GamblioChatWidget.renderMessages(),GamblioChatWidget[t(347)](!1,t(146)),GamblioChatWidget.createWebSocket()}}static createWebSocket(){const e=n,t=GamblioChatWidget.resolveWebSocketUrl();if(!t)return console[e(364)](e(365)),void GamblioChatWidget[e(347)](!1,e(617));GamblioChatWidget[e(152)]();try{const n=new WebSocket(t);GamblioChatWidget[e(297)]=n,n.addEventListener(e(596),()=>{const n=e,t={tag:n(265),playerToken:GamblioChatWidget[n(167)]||null,clientId:GamblioChatWidget[n(497)]??null,playerName:GamblioChatWidget[n(576)]||""};GamblioChatWidget[n(427)]&&(t.customPlayerId=GamblioChatWidget[n(427)]),GamblioChatWidget[n(176)](t)}),n[e(343)](e(447),n=>GamblioChatWidget[e(232)](n)),n.addEventListener("error",n=>{const t=e;console[t(364)](t(462),n)}),n[e(343)](e(165),()=>{const n=e;GamblioChatWidget.socket=null,GamblioChatWidget[n(347)](!1,n(222))})}catch(n){console[e(585)](e(515),n),GamblioChatWidget.setChatInputEnabled(!1,e(392))}}static[n(563)](){const e=n;if(a.wsUrl){const n=a[e(286)][e(259)](/\/$/,"");return n[e(315)](e(204))?n:n+e(204)}if(a[e(521)])try{const n=new URL(a.apiUrl);return n[e(486)]=n[e(486)]===e(587)?"wss:":e(586),n[e(383)]+"/ws/chat"}catch(n){console.warn(e(501),n)}return null}static[n(176)](e){const t=n;GamblioChatWidget.socket&&GamblioChatWidget[t(297)][t(457)]===WebSocket[t(426)]?GamblioChatWidget[t(297)][t(409)](JSON[t(261)](e)):console[t(364)](t(324))}static[n(232)](e){const t=n;let a;try{a=JSON[t(139)](e[t(491)])}catch(n){return void console[t(364)](t(384),n)}"bump"!==a[t(287)]?a[t(287)]!==t(504)?console[t(424)]("[Gamblio][Chat] Unhandled message",a):GamblioChatWidget[t(138)](a):GamblioChatWidget[t(235)](a)}static[n(235)](e){const t=n,a=e[t(374)]||{};switch(e[t(305)]){case t(548):GamblioChatWidget[t(411)]=a[t(183)]??a[t(411)]??null,GamblioChatWidget[t(151)]();break;case"messageDelivered":GamblioChatWidget.messages.forEach(n=>{const e=t;n.id===a[e(417)]&&(n[e(488)]=a.delivered_at)}),GamblioChatWidget[t(458)]();break;case t(199):case"messageRead":const n=a[t(417)];GamblioChatWidget.messages[t(552)](e=>{const o=t;e.id===n&&(e[o(293)]=a[o(293)]||e[o(293)]||[])}),GamblioChatWidget.renderMessages();break;case t(540):const o=(a[t(253)]||[])[t(278)](n=>Number(n));GamblioChatWidget.messages[t(552)](n=>{const e=t,a=Number(n.id);if(o[e(388)](a)){const t=Math.floor(Date[e(159)]()/1e3);if(n[e(293)]&&Array.isArray(n.seen_by)&&0!==n.seen_by[e(288)]){!n[e(293)].some(n=>n[e(574)]===t)&&n[e(293)][e(559)]({seen_at:t})}else n[e(293)]=[{seen_at:t}]}}),GamblioChatWidget[t(458)]();break;case t(487):if(GamblioChatWidget[t(349)](),!0===a[t(273)])break;GamblioChatWidget[t(166)]({id:a.id||a.messageId,role:a[t(414)],content:a[t(382)],attachment:a.attachment_url,unix:Number(a[t(523)])||Math[t(221)](Date[t(159)]()/1e3),delivered_at:void 0!==a[t(488)]?a[t(488)]:null,seen_by:a[t(293)]||null}),GamblioChatWidget[t(458)](),GamblioChatWidget[t(224)]();break;case t(644):GamblioChatWidget.handleChatClosed();break;default:console[t(424)](t(669),e)}}static[n(138)](e){const t=n,a=Array.isArray(e[t(637)])?e.messages:[];GamblioChatWidget[t(637)]=a.filter(n=>n&&n[t(414)]!==t(369)&&n[t(414)]!==t(519)&&!0!==n[t(273)]).map(n=>({id:n.id||n.messageId,role:n.role,content:n[t(380)],attachment:n[t(542)],unix:Number(n[t(523)])||Math[t(221)](Date[t(159)]()/1e3),delivered_at:void 0!==n.delivered_at?n.delivered_at:null,seen_by:n[t(293)]||null})),e[t(336)]&&(GamblioChatWidget[t(411)]=e[t(336)],GamblioChatWidget.handleChatReady()),GamblioChatWidget.renderMessages(),GamblioChatWidget[t(224)]()}static[n(151)](){const e=n;GamblioChatWidget[e(347)](!0,e(584)),GamblioChatWidget.elements[e(489)]?.[e(201)].setProperty(e(580),e(245)),GamblioChatWidget[e(371)][e(410)]&&(GamblioChatWidget.elements.startChatButton[e(428)]=!1),GamblioChatWidget[e(371)][e(645)]?.focus()}static[n(473)](){const e=n;GamblioChatWidget[e(349)](),GamblioChatWidget[e(347)](!1,"Chat closed"),GamblioChatWidget[e(371)][e(402)]?.[e(201)].setProperty(e(580),e(360)),GamblioChatWidget.elements[e(342)]?.[e(201)][e(281)](e(580),"block"),GamblioChatWidget.elements[e(489)]?.[e(201)][e(281)]("display",e(360)),GamblioChatWidget[e(371)][e(410)]&&(GamblioChatWidget[e(371)][e(410)][e(428)]=!1),GamblioChatWidget.removeSelectedFile(),GamblioChatWidget[e(411)]=null,GamblioChatWidget[e(152)](),!GamblioChatWidget[e(239)]&&GamblioChatWidget[e(267)]()}static[n(166)](e){const t=n;e&&(GamblioChatWidget[t(637)][t(559)]({id:e.id||null,role:e[t(414)]||"bot",content:e[t(380)]||"",attachment:e[t(518)]||null,unix:e[t(386)]||Math.floor(Date[t(159)]()/1e3),delivered_at:void 0!==e[t(488)]?e[t(488)]:null,seen_by:e[t(293)]||null}),GamblioChatWidget.renderMessages())}static[n(458)](){const e=n,t=GamblioChatWidget[e(371)];if(!t[e(341)])return;const a=t[e(339)]||t[e(341)],o=Math[e(337)](a.scrollHeight-a[e(177)]-a.clientHeight)<=5;t[e(341)].innerHTML="";let i=null;GamblioChatWidget[e(637)][e(552)](n=>{const a=e;!n[a(386)]&&(n[a(523)]?n[a(386)]=Number(n[a(523)]):n[a(386)]=Math.floor(Date.now()/1e3));const o=new Date(1e3*n.unix),s=o[a(257)]()+"-"+(o[a(613)]()+1)+"-"+o[a(656)]();i!==s&&(i=s,t[a(341)][a(650)](GamblioChatWidget.buildDateSeparator(n[a(386)]))),t[a(341)][a(650)](GamblioChatWidget.buildMessageElement(n))}),(GamblioChatWidget[e(641)]||o)&&(a[e(177)]=a.scrollHeight)}static[n(233)](e){const t=n,a=document[t(533)](t(581));a.className=t(536);const o=document.createElement("div");o[t(356)]=t(153);const i=document[t(533)](t(311));i[t(356)]=t(564),i.textContent=GamblioChatWidget[t(133)](e);const s=document[t(533)](t(581));return s[t(356)]=t(153),a.append(o,i,s),a}static buildMessageElement(e){const t=n,a=document[t(533)](t(581));a[t(356)]=t(295)+(e[t(414)]===t(263)?t(593):"bot"),GamblioChatWidget[t(472)](e[t(414)])&&e.id&&a[t(578)]("data-message-id",e.id);const o=document[t(533)](t(581));o.className=t(506)+(e.role===t(263)?t(593):t(289));let i=e[t(380)]||"",s="";if(e[t(414)]===t(263))s=GamblioChatWidget[t(317)](i)[t(259)](/\n/g,t(480));else{GamblioChatWidget[t(212)]();try{s=GamblioChatWidget[t(332)]?GamblioChatWidget.markdownConverter[t(372)](i):GamblioChatWidget[t(317)](i)[t(259)](/\n/g,"<br>")}catch(n){s=GamblioChatWidget.escapeHtml(i).replace(/\n/g,"<br>")}}if(o[t(425)]=s,e[t(518)]){const n=document[t(533)](t(346));n[t(608)]=e[t(518)],n.alt=t(211),n[t(201)].cssText=t(544),n[t(343)](t(270),()=>window.open(e.attachment,t(477))),o[t(650)](n)}const r=document[t(533)](t(311));r.className=t(523);const c=GamblioChatWidget[t(328)](e[t(386)]);if(r[t(466)]=GamblioChatWidget[t(307)](e[t(386)]),r[t(378)]=GamblioChatWidget[t(329)](e.unix,c),e.role===t(263)){const n=document[t(533)](t(581));n[t(646)][t(498)](t(207));const i=document[t(533)](t(581));i[t(646)].add(t(137));const s=document[t(533)](t(311));s[t(646)].add(t(219));const c=GamblioChatWidget.isMessageSeen(e);if(GamblioChatWidget[t(225)](e))if(s[t(425)]="✓✓",c){s[t(646)][t(498)]("delivered"),s.classList[t(377)](t(260));const n=e[t(293)][0];n&&n[t(574)]?s.title=t(562)+GamblioChatWidget[t(450)](n.seen_at):s[t(378)]=t(529)}else s[t(646)][t(498)]("sent"),s.classList[t(377)](t(502)),s[t(378)]=t(567)+GamblioChatWidget[t(248)](e[t(488)]);else s[t(425)]="✓",s[t(646)][t(498)](t(260)),s.classList[t(377)]("delivered"),s[t(378)]=t(316);i[t(650)](s),n[t(650)](o),n[t(650)](i),a[t(650)](n),a[t(650)](r)}else a[t(650)](r),a[t(650)](o);return a}static[n(307)](e){const t=n;new Date,new Date(1e3*e);if(GamblioChatWidget[t(328)](e))return GamblioChatWidget[t(170)](e);{const n=GamblioChatWidget[t(140)](e);return 1===n?"1 day ago":n+" days ago"}}static[n(329)](e,t){const a=n,o=new Date(1e3*e);return t?o.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:a(169),second:a(169),hour12:!1}):GamblioChatWidget[a(170)](e)}static[n(170)](e){const t=n;return new Date(1e3*e)[t(187)](t(566),{hour12:!1,hour:t(169),minute:t(169),second:t(169)})}static[n(328)](e){const t=n;if(!e)return!1;const a=new Date(1e3*e),o=new Date;return a.getFullYear()===o[t(257)]()&&a[t(613)]()===o[t(613)]()&&a[t(656)]()===o[t(656)]()}static[n(140)](e){const t=n,a=new Date(1e3*e),o=new Date,i=new Date(o[t(257)](),o[t(613)](),o[t(656)]())[t(538)](),s=new Date(a.getFullYear(),a[t(613)](),a[t(656)]())[t(538)]();return Math[t(221)]((i-s)/864e5)}static[n(133)](e){const t=n,a=GamblioChatWidget[t(140)](e);if(0===a)return t(298);if(1===a)return t(569);return new Date(1e3*e)[t(194)](void 0,{month:t(393),day:"2-digit",year:t(512)})}static[n(472)](e){const t=n;return e===t(299)||e===t(154)||e===t(240)}static isMessageDelivered(e){const t=n;return null!==e.delivered_at&&void 0!==e[t(488)]}static[n(464)](e){const t=n;return e[t(293)]&&Array[t(160)](e[t(293)])&&e[t(293)][t(288)]>0}static[n(450)](e){const t=n,a=typeof e===t(583)?parseInt(e,10):e;return new Date(1e3*a)[t(241)](void 0,{year:t(512),month:t(169),day:"2-digit",hour:t(169),minute:t(169),second:t(169),hour12:!1})}static[n(248)](e){const t=n,a=typeof e===t(583)?parseInt(e,10):e;return new Date(1e3*a)[t(241)](void 0,{year:t(512),month:t(169),day:"2-digit",hour:t(169),minute:t(169),second:t(169),hour12:!1})}static[n(317)](e){const t=n;return(e||"")[t(259)](/[&<>"']/g,n=>({"&":t(158),"<":t(147),">":t(192),'"':t(320),"'":t(334)}[n]))}static[n(610)](){const e=n;if(!GamblioChatWidget[e(297)]||GamblioChatWidget.socket.readyState!==WebSocket.OPEN)return void console[e(364)]("[Gamblio][Chat] Cannot send message while socket is closed");if(!GamblioChatWidget[e(411)])return void console.warn(e(543));const t=(GamblioChatWidget[e(371)][e(645)]?.[e(362)]||"").trim();if(!t&&!GamblioChatWidget[e(468)])return;if(GamblioChatWidget[e(514)])return;GamblioChatWidget[e(514)]=!0,GamblioChatWidget.setChatInputEnabled(!1);const a=()=>{const n=e;GamblioChatWidget[n(403)](),GamblioChatWidget[n(662)]()};if(GamblioChatWidget[e(468)]){const n=new FileReader;n.onload=()=>{const o=e;GamblioChatWidget.sendSocketMessage({tag:"playerSendMessage",chatId:GamblioChatWidget[o(411)],message:t||o(412),attachment:n[o(495)]}),GamblioChatWidget[o(371)][o(645)]&&(GamblioChatWidget[o(371)][o(645)][o(362)]=""),GamblioChatWidget.removeSelectedFile(),a()},n[e(444)]=()=>{const n=e;console.warn(n(438)),GamblioChatWidget[n(599)](),a()},n[e(405)](GamblioChatWidget[e(468)])}else GamblioChatWidget[e(176)]({tag:e(266),chatId:GamblioChatWidget[e(411)],message:t,attachment:null}),GamblioChatWidget[e(371)][e(645)]&&(GamblioChatWidget[e(371)][e(645)].value=""),a()}static[n(403)](){const e=n;GamblioChatWidget[e(514)]=!1,GamblioChatWidget[e(411)]&&(GamblioChatWidget.setChatInputEnabled(!0,"Type your message..."),GamblioChatWidget[e(371)][e(645)]?.focus())}static[n(594)](e){const t=n,a=e[t(479)][t(292)]&&e[t(479)].files[0];if(a)return a[t(437)][t(537)](t(242))?a[t(420)]>5242880?(window[t(623)](t(422)),void(e[t(479)][t(362)]="")):(GamblioChatWidget.selectedFile=a,void GamblioChatWidget[t(276)](a)):(window[t(623)](t(602)),void(e[t(479)][t(362)]=""))}static[n(276)](e){const t=n,a=GamblioChatWidget[t(371)];if(!a.filePreview)return;if(GamblioChatWidget.previewObjectUrl&&(URL[t(551)](GamblioChatWidget.previewObjectUrl),GamblioChatWidget[t(545)]=null),!e)return a[t(333)][t(201)][t(580)]=t(360),void(a.previewImage&&(a[t(285)].src=""));const o=URL[t(430)](e);GamblioChatWidget[t(545)]=o,a[t(333)][t(201)].display="flex",a[t(285)]&&(a[t(285)][t(608)]=o)}static[n(599)](){const e=n;GamblioChatWidget[e(468)]=null,GamblioChatWidget[e(371)][e(330)]&&(GamblioChatWidget[e(371)][e(330)][e(362)]=""),GamblioChatWidget.updateFilePreview(null)}static[n(662)](){const e=n;GamblioChatWidget.clearTypingIndicator(),GamblioChatWidget[e(220)]=window[e(652)](()=>{GamblioChatWidget[e(319)](!0)},4e3+Math.floor(3e3*Math[e(465)]()))}static[n(349)](){const e=n;GamblioChatWidget[e(220)]&&(window[e(164)](GamblioChatWidget[e(220)]),GamblioChatWidget[e(220)]=null),GamblioChatWidget[e(319)](!1)}static[n(319)](e){const t=n,a=GamblioChatWidget[t(371)][t(215)];a&&(a[t(201)][t(580)]=t(e?357:360))}static[n(347)](e,t){const a=n,o=GamblioChatWidget[a(371)];o.chatInput&&(o[a(645)].disabled=!e,void 0!==t&&(o[a(645)][a(236)]=t)),o.sendButton&&(o[a(359)].disabled=!e)}static sendCloseMessage(){const e=n;if(!GamblioChatWidget.chatId)return;const t={tag:e(340),playerToken:GamblioChatWidget.token||null,chatId:GamblioChatWidget[e(411)],clientId:GamblioChatWidget.clientId??null,playerName:GamblioChatWidget[e(576)]||""};GamblioChatWidget[e(427)]&&(t[e(454)]=GamblioChatWidget.playerId),GamblioChatWidget.sendSocketMessage(t),GamblioChatWidget[e(411)]=null}static[n(144)](){const e=n;GamblioChatWidget.sendCloseMessage(),GamblioChatWidget[e(473)]()}static[n(197)](){GamblioChatWidget[n(350)](),GamblioChatWidget.destroySocket()}static[n(152)](){const e=n;if(GamblioChatWidget[e(297)]){try{GamblioChatWidget[e(297)][e(165)]()}catch(n){console[e(364)]("[Gamblio][Chat] Failed to close socket",n)}GamblioChatWidget[e(297)]=null}}static generateGuestName(){const e=n,t=e(621);let a="";for(let n=0;n<4;n++)a+=t.charAt(Math[e(221)](Math.random()*t[e(288)]));return"GUEST_"+a}static[n(666)](e){const t=n,a=new Date(1e3*e);return a[t(257)]()+"-"+(a[t(613)]()+1)+"-"+a[t(656)]()}static[n(268)](){const e=n,t=GamblioChatWidget.elements.emojiPicker;t&&(GamblioChatWidget[e(493)](),t[e(201)][e(580)]="none"===t[e(201)][e(580)]?"block":"none")}static[n(361)](e){const t=n;GamblioChatWidget.elements[t(348)]&&!GamblioChatWidget[t(239)]&&(GamblioChatWidget.selectedRatingValue=e,GamblioChatWidget[t(453)](),GamblioChatWidget[t(371)].ratingSubmitButton&&(GamblioChatWidget.elements[t(256)][t(428)]=0===GamblioChatWidget[t(394)]))}static[n(453)](e=null){const t=n,a=GamblioChatWidget[t(371)][t(348)];if(!a)return;const o=Array[t(516)](a[t(216)](t(218))),i=null!==e?e:GamblioChatWidget.selectedRatingValue;o[t(552)](n=>{const e=t,a=Number(n[e(423)].rating)<=i;n[e(646)][e(335)]("is-active",a),n[e(578)](e(279),String(a))})}static focusAdjacentRatingButton(e,t){const a=n,o=GamblioChatWidget[a(371)][a(348)];if(!o)return;const i=Array[a(516)](o[a(216)](a(218))),s=i[a(381)](e);i[(s+t+i[a(288)])%i[a(288)]][a(448)]()}static[n(620)](){const e=n;if(!GamblioChatWidget.socket||GamblioChatWidget[e(297)][e(457)]!==WebSocket[e(426)]||!GamblioChatWidget[e(411)])return void console[e(364)]("[Gamblio][Chat] Unable to submit rating; socket not open or chat missing.");if(0===GamblioChatWidget.selectedRatingValue)return;const t={tag:e(628),chatId:GamblioChatWidget[e(411)],clientId:GamblioChatWidget[e(497)]??null,rating:GamblioChatWidget[e(394)]};GamblioChatWidget.token&&(t.playerToken=GamblioChatWidget.token),GamblioChatWidget[e(427)]&&(t[e(454)]=GamblioChatWidget[e(427)]);try{GamblioChatWidget[e(176)](t),GamblioChatWidget[e(239)]=!0,GamblioChatWidget[e(371)][e(256)]&&(GamblioChatWidget[e(371)][e(256)][e(428)]=!0);const n=GamblioChatWidget[e(371)][e(348)];if(n){Array[e(516)](n[e(216)](e(218)))[e(552)](n=>n[e(428)]=!0)}GamblioChatWidget[e(371)][e(539)]&&GamblioChatWidget.elements[e(539)][e(646)][e(498)]("hidden"),GamblioChatWidget.elements.ratingThanksMessage&&GamblioChatWidget[e(371)][e(469)][e(646)][e(377)](e(589)),setTimeout(()=>{const t=e;n&&n[t(646)][t(498)](t(589))},5e3)}catch(n){console.error(e(331),n)}}static[n(511)](){const e=n;GamblioChatWidget[e(239)]=!1,GamblioChatWidget[e(269)]()}static[n(267)](){const e=n,t=GamblioChatWidget.elements[e(348)];if(!t)return;t[e(646)][e(377)](e(589)),GamblioChatWidget[e(371)][e(469)]&&GamblioChatWidget.elements[e(469)][e(646)].add("hidden"),GamblioChatWidget.elements[e(539)]&&GamblioChatWidget[e(371)].ratingSkipButton[e(646)][e(377)](e(589));Array[e(516)](t[e(216)](e(218)))[e(552)](n=>n[e(428)]=!1)}static[n(269)](){const e=n,t=GamblioChatWidget[e(371)][e(348)];t&&t[e(646)].add(e(589))}static[n(647)](){const e=n;GamblioChatWidget.selectedRatingValue=0,GamblioChatWidget[e(239)]=!1,GamblioChatWidget[e(269)](),GamblioChatWidget[e(453)](),GamblioChatWidget[e(371)].ratingSubmitButton&&(GamblioChatWidget.elements[e(256)][e(428)]=!0),GamblioChatWidget.elements[e(469)]&&GamblioChatWidget[e(371)].ratingThanksMessage[e(646)][e(498)](e(589)),GamblioChatWidget[e(371)][e(539)]&&GamblioChatWidget.elements[e(539)][e(646)][e(377)](e(589));const t=GamblioChatWidget.elements[e(348)];if(t){Array[e(516)](t[e(216)](e(218)))[e(552)](n=>{const t=e;n.disabled=!1,n[t(578)](t(279),t(560))})}}static[n(592)](e){const t=n;if(GamblioChatWidget[t(590)].has(e))return!0;const a=GamblioChatWidget[t(637)][t(229)](n=>n.id===e);if(a&&a[t(293)]&&Array.isArray(a[t(293)])&&a[t(293)][t(288)]>0){if(a.seen_by[t(534)](n=>"player"===n.seen_by_type||null===n[t(191)]))return!0}return!1}static[n(312)](e){const t=n;if(!GamblioChatWidget[t(411)])return void console.warn(t(370));if(!GamblioChatWidget[t(297)])return void console[t(364)]("[Visibility] ✗ SEND FAILED - No socket");if(GamblioChatWidget[t(297)].readyState!==WebSocket.OPEN)return void console[t(364)](t(376),GamblioChatWidget.socket[t(457)]);if(0===e.length)return void console[t(364)]("[Visibility] ✗ SEND FAILED - Empty messageIds array");const a={tag:t(434),chatId:GamblioChatWidget[t(411)],messageIds:e};try{GamblioChatWidget[t(176)](a)}catch(n){console[t(585)]("[Visibility] ✗ SEND FAILED - Exception:",n)}}static[n(224)](){const t=n;if(!GamblioChatWidget.chatId||!GamblioChatWidget.elements[t(577)]?.classList[t(178)](t(596)))return;const a=document[t(522)](".nx-chat-body");if(!a)return;GamblioChatWidget[t(205)]&&GamblioChatWidget[t(205)][t(345)](),GamblioChatWidget[t(633)]&&clearTimeout(GamblioChatWidget[t(633)]),GamblioChatWidget.visibilityObserver=new IntersectionObserver(n=>{const a=t;n.forEach(n=>{const t=e,a=Number(n[t(479)].getAttribute(t(570)));a&&(n[t(651)]&&n.intersectionRatio>.01?GamblioChatWidget.visibleIdsSet[t(498)](a):GamblioChatWidget[t(555)][t(398)](a))}),GamblioChatWidget[a(633)]&&clearTimeout(GamblioChatWidget[a(633)]),GamblioChatWidget[a(633)]=setTimeout(()=>{const n=a;if(GamblioChatWidget[n(555)].size>0){const e=Array[n(516)](GamblioChatWidget.visibleIdsSet).filter(e=>!GamblioChatWidget[n(592)](e));e[n(288)]>0&&(GamblioChatWidget[n(312)](e),e.forEach(e=>GamblioChatWidget[n(590)][n(498)](e))),GamblioChatWidget[n(555)][n(413)]()}},300)},{root:a,rootMargin:"-50px",threshold:[0,.01,.5,1]});const o=document[t(216)](t(496));o[t(552)](n=>{const e=t;GamblioChatWidget[e(205)][e(271)](n)}),setTimeout(()=>{const n=t,i=Array.from(o).filter(n=>{const t=e,o=n[t(642)](),i=a[t(642)]();return o[t(396)]<i.bottom&&o[t(668)]>i[t(396)]&&o[t(616)]<i.right&&o[t(520)]>i[t(616)]});i[n(288)]>0&&(i.forEach(e=>{const t=n,a=Number(e.getAttribute(t(570)));a&&!GamblioChatWidget[t(592)](a)&&GamblioChatWidget[t(555)][t(498)](a)}),GamblioChatWidget.visibilityTimeout&&clearTimeout(GamblioChatWidget.visibilityTimeout),GamblioChatWidget[n(633)]=setTimeout(()=>{const e=n;if(GamblioChatWidget.visibleIdsSet.size>0){const n=Array[e(516)](GamblioChatWidget[e(555)])[e(436)](n=>!GamblioChatWidget[e(592)](n));n.length>0&&(GamblioChatWidget.sendMessagesAsRead(n),n[e(552)](n=>GamblioChatWidget[e(590)][e(498)](n))),GamblioChatWidget[e(555)].clear()}},300))},100)}}class Gamblio{static token=void 0;static[n(588)]="en";static[n(474)]=!1;static chatConfig={};static[n(449)]={};static async[n(619)](e){const t=n,o=e.tokenName,i=e[t(588)],s=e[t(449)]||{},r=e.chatConfig||{},c=e[t(358)],l=!0===e.debug;l&&(a.apiUrl=t(213),a[t(286)]="wss://dev-core.gamblio.ai",console[t(238)](t(658))),console[t(238)](t(168)+a[t(521)]),Gamblio[t(449)]={backgroundType:s[t(421)]||"transparent",gradientDirection:s[t(387)]||t(310),gradientColors:s[t(591)]||[t(446),t(526)],videoIndex:s[t(363)]||1,imageIndex:s[t(400)]||1,imageExtension:s[t(445)]||t(435),shadowColor:s[t(485)]||"rgba(213, 208, 208)",navButtonColor:s[t(397)]||"#f5f5f5",navButtonHoverColor:s[t(531)]||t(451),displayMode:s.displayMode||t(368)},Gamblio.chatConfig={backgroundPrimary:r[t(303)]||t(605),hoverColor:r[t(439)]||t(605),logoUrl:r[t(247)]||t(459)},Gamblio[t(421)]=Gamblio[t(449)][t(421)],Gamblio[t(485)]=Gamblio.recommendationConfig[t(485)],Gamblio[t(591)]=Gamblio[t(449)][t(591)],Gamblio[t(387)]=Gamblio[t(449)][t(387)],Gamblio.videoIndex=Gamblio[t(449)].videoIndex,Gamblio[t(400)]=Gamblio.recommendationConfig[t(400)],Gamblio[t(445)]=Gamblio[t(449)][t(445)],Gamblio[t(397)]=Gamblio.recommendationConfig[t(397)],Gamblio[t(531)]=Gamblio[t(449)][t(531)],Gamblio[t(134)]=Gamblio[t(449)].displayMode,Gamblio[t(303)]=Gamblio.chatConfig[t(303)],Gamblio[t(247)]=Gamblio[t(554)][t(247)],Gamblio[t(439)]=Gamblio[t(554)][t(439)],Gamblio.clientId=e.clientId,Gamblio.gamePlayUrl=c||"#",Gamblio[t(322)]=e[t(322)],Gamblio[t(474)],t(455),i&&(Gamblio[t(588)]=i);const d=Gamblio[t(630)](o);if(d)return Gamblio[t(167)]=d,Gamblio.isVip=await Gamblio[t(210)](d),Gamblio[t(517)](),void Gamblio[t(654)]();Gamblio[t(517)]()}static[n(484)](e){const t=n,a=("; "+document.cookie)[t(557)]("; "+e+"=");if(2===a[t(288)])return a.pop().split(";")[t(252)]()}static[n(290)](e){const t=n;if(e&&"undefined"!=typeof window)try{return window[t(667)]?.[t(181)](e)||void 0}catch(n){return void console[t(364)](t(648)+e+t(228),n)}}static resolveToken(e){const t=n;if(!e)return;const a=typeof e===t(583)?e[t(659)]():void 0;let o;if(a){if(o=Gamblio[t(290)](a),o)return o;if(o=Gamblio[t(484)](a),o)return o}}static async[n(210)](e){const t=n;if(!e)return!1;try{const n=await fetch(a.apiUrl+t(246)+e);if(!n.ok)return console.warn("[Gamblio] Failed to check VIP status. Falling back to non-VIP."),!1;const o=await n[t(354)]();if("boolean"==typeof o)return o;if(typeof o?.[t(474)]===t(528))return o[t(474)];if(typeof o?.[t(510)]===t(528))return o[t(510)]}catch(n){console[t(364)]("[Gamblio] Error while checking VIP status.",n)}return!1}static[n(517)](){GamblioChatWidget[n(619)]()}static[n(654)](){GamblioRecommendationWidget[n(619)]()}}

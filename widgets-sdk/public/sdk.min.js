const n=i;function e(){const n=["mouseleave","pushMessage","https://dev-core.gamblio.ai","getVideoHTML","clientHeight","logo","preChatInput","ArrowRight","string","loop","385GMHUJz","isSending","timestamp","createObjectURL","map","cookie","loadTemplate","origin",'" from localStorage.',"2230jcFTlH","auto","&gt;","preChatContainer","getBackgroundStyle","applyDefaultHeight","updateFilePreview","chatId","{{GRADIENT_DIRECTION}}","charAt","ensureMarkdownConverter","message","en-GB","resolveWebSocketUrl","toggleEmojiPicker","find","isMessageSeen","playerLeaveChatAndClose","handleActiveStackSlide","#ffffff","startChatButton","img[data-game-id]","socket","setupMessageVisibilityObserver","#games-swiper","appendChild",'style="mix-blend-mode: screen;"',"determineVipStatus","[Gamblio][Chat] Missing CONFIG.wsUrl for chat","Failed to load games","documentClickHandler","&lt;","[Gamblio][Chat] Failed to close socket","stringify","displayName","isIntersecting","playerSendMessage","cacheElements","/recommendation/click/","module","is-active",'<video autoplay loop muted playsinline>\n      <source src="./videos/',"some","video","sendMessagesAsRead","boolean","delivered_at","length","shouldAutoScroll","buildDateSeparator","[Gamblio][Recommendation] Sending impression","2-digit","[Gamblio][Chat] Failed to parse message","createWebSocket","emoji-click","abs","clearTypingIndicator","updateRatingStars","playerNewChatRating","setAttribute","IS VIP IP IPIPIP"," stack-mode","ratingSubmitButton","ws:","revokeObjectURL","Seen","status","contains","chatInput","delivered","ensureEmojiPicker","[Gamblio][Chat] Unable to submit rating; socket not open or chat missing.",'<div id="game-container" class="{{STACK_MODE_CLASS}}">\n  {{VIDEO_HTML}} {{IMAGE_HTML}}\n  <button id="prev-btn" class="nav-btn swiper-button-prev"></button>\n  <div class="swiper{{SWIPER_STACK_MODE}}" id="games-swiper">\n    <div class="swiper-wrapper" id="slider"></div>\n  </div>\n  <button id="next-btn" class="nav-btn swiper-button-next"></button>\n</div>\n',"handleFileSelect","[Gamblio][Chat] Unable to open WebSocket","chatClose","max-width: 200px; max-height: 200px; width: 100%; height: auto; border-radius: 8px; margin-top: 8px; cursor: pointer; object-fit: cover;","{{GRADIENT_COLOR_2}}","Message attachment","hideRatingPrompt","navButtonColor","flex","classList","153qpeOPj","getImageHTML","gameImage","title","aria-hidden","seen_at","transparent","Enter","ratingThanks","coverflow","/api/accounts/is_vip_player?token=","push","aria-pressed","/recommendation/","formatSeenTime","getTime","escapeHtml","{{NAV_BUTTON_COLOR}}","{{NAV_BUTTON_HOVER_COLOR}}","querySelectorAll","get","visibilityState","Enter your name to start","breakpoints","Today","openChat","log","messagesMarkedAsRead","toggleChat","scheduleTypingIndicator","closest","markdownConverter","player","navButtonHoverColor","game-container","disabled","makeHtml","is_sent_safely","{{SHADOW_COLOR}}","handleBeforeUnload","gamblio-emoji-picker-module","script","toggle","playerId","system_human","slider","54210YoMyql",'\n        <div class="game">\n          <img src="',"sendSocketMessage","random","backgroundType","name","destroySocket","previewObjectUrl","target","system_ai_wasco","messagesContainer","previewImage","https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js","handleExistingMessages","visibilityTimeout","wsUrl","wss:","renderMessages","Connection lost","[Visibility] ✗ SEND FAILED - No chatId","getDate","chatToggle","gameName","background: transparent;","isUsingDefaults","seenIdsSet","active","messageForm","json","File size must be less than 5MB","bot",':root {\n  --chat-toggle-bg: {{BACKGROUND_PRIMARY}};\n  --chat-toggle-hover: {{HOVER_COLOR}};\n}\n\n.chat-toggle,\n.nx-chat-container {\n  font-family: "Geist", sans-serif;\n}\n\n.chat-toggle {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  background: var(--chat-toggle-bg);\n  border-radius: 50%;\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(0, 33, 87, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1001;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.chat-toggle:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 26px rgba(0, 33, 87, 0.4);\n}\n\n.chat-toggle svg {\n  width: 28px;\n  height: 28px;\n  fill: currentColor;\n  transition: transform 0.3s ease;\n}\n\n.chat-toggle.active svg {\n  transform: rotate(45deg);\n}\n\n.nx-chat-container {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 380px;\n  height: 500px;\n  background: #ffffff;\n  border: 1px solid #e6e6e6;\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);\n  display: flex;\n  flex-direction: column;\n  transform: translateY(20px) scale(0.95);\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;\n  z-index: 1000;\n  overflow: hidden;\n}\n\n.nx-chat-container.open {\n  transform: translateY(0) scale(1);\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.nx-chat-container,\n.nx-chat-container * {\n  box-sizing: border-box;\n  font-family: "Geist", sans-serif;\n}\n\n.nx-chat-header {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  padding: 16px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px 12px 0 0;\n}\n\n.nx-chat-header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-header img {\n  width: 110px;\n  height: auto;\n}\n\n.chat-navigation {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nx-chat-close,\n.end-chat {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 12px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.end-chat {\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  font-size: 0.8rem;\n}\n\n.nx-chat-close:hover,\n.end-chat:hover {\n  background-color: rgba(255, 255, 255, 0.12);\n}\n\n.nx-chat-close svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.nx-chat-body {\n  flex: 1;\n  background: #fafafa;\n  padding: 16px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n}\n\n.nx-chat-body::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n\n.pre-chat-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #e6e6e6;\n  padding: 20px;\n  box-shadow: 0 12px 28px rgba(0, 33, 87, 0.12);\n  text-align: center;\n}\n\n.pre-chat-container label {\n  font-size: 0.9rem;\n  color: #2b2b2b;\n}\n\n.pre-chat-input {\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.pre-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.15);\n}\n\n.pre-chat-button {\n  border: none;\n  border-radius: 20px;\n  padding: 12px 20px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.pre-chat-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.03);\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  flex: 1;\n  min-height: 0;\n}\n\n.message-wrapper {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 8px;\n}\n\n.message-wrapper.bot {\n  justify-content: flex-end;\n}\n\n.message-with-indicator {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.delivery-indicator {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 2px;\n  padding-right: 4px;\n  height: 14px;\n}\n\n.checkmark-icon {\n  font-size: 0.75rem;\n  line-height: 1;\n  color: #888;\n  user-select: none;\n  cursor: default;\n  transition: color 0.2s ease;\n  font-weight: 500;\n  letter-spacing: -0.5px;\n}\n\n.checkmark-icon.sent {\n  color: #888;\n}\n\n.checkmark-icon.delivered {\n  color: var(--chat-toggle-bg);\n}\n\n.checkmark-icon:hover {\n  opacity: 0.8;\n}\n\n.message {\n  padding: 10px 14px;\n  border-radius: 14px;\n  line-height: 1.45;\n  font-size: 0.95rem;\n  background: #ffffff;\n  color: #2c2c2c;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n.message.user {\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  border-bottom-right-radius: 4px;\n}\n\n.message.bot {\n  border-bottom-left-radius: 4px;\n}\n\n.message img {\n  margin-top: 8px;\n  border-radius: 8px;\n  max-width: 220px;\n  width: 100%;\n  height: auto;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #888;\n  white-space: nowrap;\n}\n\n.nx-chat-footer {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px 6px;\n  border-top: 1px solid #e6e6e6;\n  background: #ffffff;\n  border-radius: 0 0 12px 12px;\n}\n\n.chat-closed-message {\n  text-align: center;\n}\n\n.chat-closed-message button {\n  margin-top: 8px;\n  border: none;\n  border-radius: 20px;\n  padding: 8px 16px;\n  background: var(--chat-toggle-bg);\n  color: #ffffff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n\n.file-preview {\n  display: none;\n  border: 1px solid #e6e6e6;\n  border-radius: 8px;\n  background: #f5f5f5;\n  padding: 10px 14px;\n}\n\n.file-preview-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.file-preview img {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  object-fit: cover;\n  border: 1px solid #dcdcdc;\n}\n\n.remove-file-btn {\n  background: #c0392b;\n  color: #ffffff;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.remove-file-btn:hover {\n  background: #962d22;\n}\n\n.message-form {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  position: relative;\n}\n\n.nx-chat-input {\n  flex: 1;\n  border: 1px solid #dcdcdc;\n  border-radius: 20px;\n  padding: 12px 16px;\n  font-size: 0.95rem;\n}\n\n.nx-chat-input:focus {\n  outline: none;\n  border-color: var(--chat-toggle-bg);\n  box-shadow: 0 0 0 1px rgba(0, 33, 87, 0.2);\n}\n\n.emoji-button,\n.file-upload-icon,\n.send-button {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: var(--chat-toggle-bg);\n  border: none;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s ease, transform 0.2s ease;\n}\n\n.emoji-button:hover,\n.file-upload-icon:hover,\n.send-button:hover {\n  background: var(--chat-toggle-hover);\n  transform: scale(1.05);\n}\n\n.emoji-button svg,\n.file-upload-icon svg,\n.send-button svg {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.file-upload-btn input {\n  display: none;\n}\n\n.typing-bubble {\n  display: none;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.typing-dots {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-dots span {\n  width: 6px;\n  height: 6px;\n  background: #fecc00;\n  border-radius: 50%;\n  animation: typing-dot 1.2s infinite ease-in-out;\n}\n\n.typing-dots span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.typing-dots span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes typing-dot {\n  0%, 80%, 100% {\n    transform: scale(0.7);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.nx-date-separator {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n}\n\n.nx-separator-line {\n  height: 1px;\n  background: #e6e6e6;\n  flex: 1;\n}\n\n.nx-date-separator-label {\n  font-size: 12px;\n  color: #666;\n  white-space: nowrap;\n}\n\nemoji-picker {\n  position: absolute;\n  bottom: 48px;\n  right: 0;\n  z-index: 2000;\n  max-height: 260px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);\n}\n\n@media (max-width: 768px) {\n  .nx-chat-container {\n    width: calc(100% - 24px);\n    bottom: 80px;\n    right: 12px;\n    left: 12px;\n    height: 70vh;\n  }\n\n  .chat-toggle {\n    bottom: 16px;\n    right: 16px;\n  }\n\n  .message-wrapper {\n    max-width: 90%;\n  }\n\n  .message img {\n    max-width: 160px;\n  }\n}\n\n@media (max-width: 480px) {\n  .nx-chat-container {\n    width: calc(100% - 16px);\n    right: 8px;\n    left: 8px;\n    bottom: 70px;\n    height: 65vh;\n  }\n\n  .message img {\n    max-width: 120px;\n  }\n}\n\n.hidden {\n  display: none !important;\n}\n\n.chat-rating {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(15, 23, 42, 0.08);\n  border-radius: 12px;\n  color: #0f172a;\n  animation: fadeIn 0.25s ease-out;\n}\n\n.chat-rating p {\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.star-rating {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  margin: 12px 0;\n}\n\n.star-rating .star {\n  border: none;\n  background: none;\n  font-size: 28px;\n  color: #d1d5db;\n  cursor: pointer;\n  transition: transform 0.15s ease, color 0.15s ease;\n}\n\n.star-rating .star:hover,\n.star-rating .star:focus-visible {\n  transform: scale(1.15);\n  color: #facc15;\n  outline: none;\n}\n\n.star-rating .star.is-active {\n  color: #facc15;\n}\n\n.rating-actions {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 12px;\n  flex-wrap: wrap;\n}\n\n.submit-rating,\n.skip-rating {\n  padding: 8px 16px;\n  border-radius: 9999px;\n  border: none;\n  cursor: pointer;\n  font-weight: 600;\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n\n.submit-rating {\n  background: linear-gradient(135deg, #facc15, #f59e0b);\n  color: #1f2937;\n  box-shadow: 0 8px 20px rgba(250, 204, 21, 0.35);\n}\n\n.submit-rating:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.skip-rating {\n  background: transparent;\n  color: #1f2937;\n  border: 1px solid rgba(15, 23, 42, 0.25);\n}\n\n.submit-rating:hover:enabled,\n.skip-rating:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.15);\n}\n\n.rating-thanks {\n  margin-top: 16px;\n  font-weight: 600;\n  color: #16a34a;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.powered-by {\n  background: var(--chat-toggle-bg);\n  color: rgba(255, 255, 255, 0.75);\n  letter-spacing: 0.8px;\n  text-align: center;\n  font-size: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 16px;\n  text-transform: uppercase;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(8px);\n}\n\n.powered-by a {\n  color: rgba(255, 255, 255, 0.95);\n  font-weight: 600;\n  text-decoration: none;\n  transition: color 0.2s ease;\n}\n\n.powered-by a:hover {\n  color: #ffffff;\n}\n\n.powered-by img {\n  opacity: 0.9;\n  transition: opacity 0.2s ease;\n}\n\n.powered-by:hover img {\n  opacity: 1;\n}\n\n',"<br>","_blank","image","link","token","logoUrl","clientId","location","chat_id","readAsDataURL","/recommendation/impression/","localStorage","open","slides","now","hasSubmittedRating","timeHHmmss","messageSeen",".swiper-slide","781135CctUGh","https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js","separatorLabel","from","pop","readyState","handleRatingSkip","{{HOVER_COLOR}}","display","GUEST_","OPEN","forEach","disconnect","left","imageExtension","setupEventListeners","add","className","10765667aufREa","Active stack slide; scheduling impression","detail","Seen at ","right",".nx-chat-body","message ",'[Gamblio] Unable to read token "',"[Gamblio][Recommendation] ","getComputedStyle","gradientColors","ratingSkipButton","append","includes","[Gamblio][Recommendation] Click recorded","CSS","selectedRatingValue","set","getTokenFromLocalStorage","#f5f5f5","{gameId}","filter","mousewheel","Type your message...","Impression triggered","ABCDEFGHIJKLMNOPQRSTUVWXYZ",'<button\n  class="chat-toggle"\n  id="chatToggle"\n  aria-label="Open chat with Admiral Bot"\n  aria-expanded="false"\n  aria-controls="chatContainer"\n>\n  <svg\n    viewBox="0 0 24 24"\n    xmlns="http://www.w3.org/2000/svg"\n    role="img"\n    aria-hidden="true"\n  >\n    <path\n      d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z"\n    ></path>\n    <circle cx="7" cy="10" r="1"></circle>\n    <circle cx="12" cy="10" r="1"></circle>\n    <circle cx="17" cy="10" r="1"></circle>\n  </svg>\n</button>\n<div\n  class="nx-chat-container"\n  id="chatContainer"\n  role="dialog"\n  aria-label="Admiral Bot Chat"\n  aria-hidden="true"\n>\n  <div class="nx-chat-header">\n    <div class="nx-chat-header-content">\n      <img src="{{LOGO_URL}}" alt="Logo" {{LOGO_STYLE}} />\n      <div id="typingBubble" class="typing-bubble" aria-hidden="true">\n        <div class="typing-dots">\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    </div>\n    <div class="chat-navigation">\n      <button id="endChat" type="button" class="end-chat" style="display: none">\n        End chat\n      </button>\n      <button\n        class="nx-chat-close"\n        id="chatClose"\n        type="button"\n        aria-label="Close chat"\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"\n          ></path>\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="nx-chat-body" role="log" aria-live="polite">\n    <div id="preChatContainer" class="pre-chat-container">\n      <label for="preChatInput">Enter your name, ID or email (optional)</label>\n      <input\n        id="preChatInput"\n        type="text"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter your name or email..."\n        oninput="this.value = this.value.replace(/[^a-zA-Z0-9@.\\s_-]/g, \'\')"\n      />\n      <input\n        id="preChatPlayerId"\n        type="number"\n        class="pre-chat-input"\n        autocomplete="off"\n        placeholder="Enter player ID..."\n        oninput="this.value = this.value.replace(/[^0-9]/g, \'\')"\n        style="display: none"\n      />\n      <button id="startChatButton" type="submit" class="pre-chat-button">\n        Start Chat\n      </button>\n    </div>\n    <div class="messages" id="messagesContainer"></div>\n  </div>\n  <div id="nxChatFooter" class="nx-chat-footer">\n    <div\n      id="chatClosedMessage"\n      class="chat-closed-message"\n      style="text-align: center; display: none; width: 100%"\n    >\n      <p>This chat is closed</p>\n      <button\n        id="reopenChatButton"\n        style="\n          margin-top: 0px;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        "\n      >\n        Reopen chat\n      </button>\n      <div\n        id="chatRatingContainer"\n        class="chat-rating hidden"\n        role="group"\n        aria-labelledby="chatRatingTitle"\n      >\n        <p id="chatRatingTitle">Rate your chat experience</p>\n        <div\n          class="star-rating"\n          role="radiogroup"\n          aria-labelledby="chatRatingTitle"\n        >\n          <button\n            type="button"\n            class="star"\n            data-rating="1"\n            aria-label="1 star"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="2"\n            aria-label="2 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="3"\n            aria-label="3 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="4"\n            aria-label="4 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n          <button\n            type="button"\n            class="star"\n            data-rating="5"\n            aria-label="5 stars"\n            aria-pressed="false"\n          >\n            ★\n          </button>\n        </div>\n        <div class="rating-actions">\n          <button\n            id="submitRatingButton"\n            class="submit-rating"\n            type="button"\n            disabled\n          >\n            Submit review\n          </button>\n          <button id="skipRatingButton" class="skip-rating" type="button">\n            Skip\n          </button>\n        </div>\n        <div id="ratingThanks" class="rating-thanks hidden">\n          Thanks for your feedback!\n        </div>\n      </div>\n    </div>\n    <div\n      id="filePreview"\n      class="file-preview"\n      style="\n        display: none;\n        padding: 8px;\n        background: #f5f5f5;\n        border-radius: 8px;\n        margin-bottom: 8px;\n      "\n    >\n      <div\n        class="file-preview-content"\n        style="display: flex; align-items: center; gap: 8px"\n      >\n        <img\n          id="previewImage"\n          src="/placeholder.svg"\n          alt="Preview"\n          style="\n            max-width: 60px;\n            max-height: 60px;\n            border-radius: 4px;\n            object-fit: cover;\n          "\n        />\n        <span style="flex: 1; font-size: 14px; color: #666"\n          >Image selected</span\n        >\n        <button\n          id="removeFile"\n          class="remove-file-btn"\n          style="\n            padding: 4px 8px;\n            background: #ff4444;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 12px;\n          "\n        >\n          Remove\n        </button>\n      </div>\n    </div>\n    <div\n      id="messageForm"\n      style="display: flex; width: 100%; align-items: center; gap: 4px"\n    >\n      <input\n        type="text"\n        autocomplete="off"\n        class="nx-chat-input"\n        placeholder="Connecting..."\n        id="chatInput"\n        aria-label="Message input"\n      />\n      <button id="emojiButton" class="emoji-button" title="Add emoji">\n        <svg\n          viewBox="0 0 24 24"\n          width="20"\n          height="20"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n          fill="white"\n        >\n          <path\n            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"\n          />\n          <circle cx="8.5" cy="10.5" r="1.5" />\n          <circle cx="15.5" cy="10.5" r="1.5" />\n          <path\n            d="M12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"\n          />\n        </svg>\n      </button>\n      <emoji-picker\n        id="emojiPicker"\n        style="\n          display: none;\n          position: absolute;\n          bottom: 100%;\n          right: 0;\n          z-index: 1000;\n          margin-bottom: 8px;\n        "\n      ></emoji-picker>\n      <label class="file-upload-btn" style="display: flex; align-items: center">\n        <input\n          type="file"\n          accept="image/*"\n          style="display: none"\n          id="fileInput"\n        />\n        <div class="file-upload-icon">\n          <svg\n            viewBox="0 0 24 24"\n            width="20"\n            height="20"\n            xmlns="http://www.w3.org/2000/svg"\n            role="img"\n            aria-hidden="true"\n            fill="currentColor"\n          >\n            <path\n              d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"\n            />\n          </svg>\n        </div>\n      </label>\n      <button\n        class="send-button"\n        id="sendButton"\n        aria-label="Send message"\n        disabled\n      >\n        <svg\n          viewBox="0 0 24 24"\n          xmlns="http://www.w3.org/2000/svg"\n          role="img"\n          aria-hidden="true"\n        >\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M3.3938 2.20468C3.70395 1.96828 4.12324 1.93374 4.4679 2.1162L21.4679 11.1162C21.7953 11.2895 22 11.6296 22 12C22 12.3704 21.7953 12.7105 21.4679 12.8838L4.4679 21.8838C4.12324 22.0662 3.70395 22.0317 3.3938 21.7953C3.08365 21.5589 2.93922 21.1637 3.02382 20.7831L4.97561 12L3.02382 3.21692C2.93922 2.83623 3.08365 2.44109 3.3938 2.20468ZM6.80218 13L5.44596 19.103L16.9739 13H6.80218ZM16.9739 11H6.80218L5.44596 4.89699L16.9739 11Z"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n  <div class="powered-by">\n    <span>Powered by</span>\n    <img\n      src="https://app.gamblio.ai/logo-dark.svg"\n      alt="Gamblio logo"\n      style="width: 15px; height: 15px"\n    />\n    <a href="https://gamblio.ai" target="_blank">Gamblio</a>\n  </div>\n</div>\n',"tokenName","attachment_url","300px","ratingThanksMessage","[Gamblio][Chat] Unknown bump type","handleChatClosed","HTTP ","{{STACK_MODE_CLASS}}","1497lzSeNS","chat","Connecting...","stack-mode","message-wrapper ","backgroundPrimary","seen_by","error","addRecommendationWidget","value","triggerImpression","startsWith","system_chat_rating","https:","language","[Gamblio] Error while checking VIP status.","chatClosedMessage","keydown","[Gamblio][Chat] WebSocket error","init","initSwiper","endChatButton","{{LOGO_STYLE}}","startChat","querySelector","files","tag","closeChat","click","[Gamblio][Chat] Unhandled message","warn","selectedFile","swiper-slide-active","400px","onerror","short","addEventListener","block","isVip",".mp4","sendCloseMessage","emoji-picker","playerName","hoverColor","attachment","https://nbg1.your-objectstorage.com/gamblio-widget/public/","endChat",'" alt="Recommendation background image">',"filePreview","messageRead","chatFooter","fileInput","showRatingPrompt","true","span","is_vip","body","buildGameUrl","data","emojiButton","[Gamblio][Recommendation] Click failed","observer","href","wss://dev-core.gamblio.ai","swiperInstance","ratingContainer","parse","image/","nx-separator-line","Image attachment","chatRatingContainer","https://app.gamblio.ai/logo-dark.svg","isArray","setChatAriaState","keypress","none","checkmark-icon","chatConfig","aria-expanded","stack","hidden","gradient","messageIds","input","setTimeout","currentIndex","typingTimeoutId","jpg","trim","preChatPlayerId","customPlayerId","preventDefault","div","imageIndex","getBoundingClientRect","handleBumpMessage","addChatWidget","focusAdjacentRatingButton","hasToken","https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js","visibilityObserver","handleChatReady","slideChange","remove","getRecommendedGames","resetUi","apiUrl","label","style","existingMessages","displayMode","[Visibility] ✗ SEND FAILED - No socket","{{IMAGE_HTML}}","newMessage","isMessageDelivered","HTML","textContent","firstChild","delivery-indicator","dataset","emojiPicker","resolveToken","gamePlayUrl","[Gamblio] Failed to check VIP status. Falling back to non-VIP.","close","#prev-btn","slidesPerView","Sent","setTypingIndicator","isTodayUnix","floor","rgba(3, 132, 145,1)","alt","hasInitialized","key","src",'">\n          <div class="game-hover-buttons">\n            <button class="game-hover-btn demo-btn" data-action="demo">Demo</button>\n            <button class="game-hover-btn play-btn" data-action="play">Play</button>\n          </div>\n        </div>\n      ',"normalizedId","typingBubble","background: linear-gradient(var(--gradient-direction), var(--gradient-color-1), var(--gradient-color-2));","Fully visible in viewport; scheduling impression","removeSelectedFile","insertAdjacentHTML","unix","diffDaysFromToday","head","intersectionRatio","rating","ArrowLeft","944ZWlnyq","bump_data","messageDelivered","sendMessage","numeric","resetRatingState","clearTimeout","setChatInputEnabled","[Visibility] ✗ SEND FAILED - Exception:","getMonth","generateGuestName","recommendationWidgetTargetContainerId","#0292a0","observe","POST","toLocaleTimeString","info","has",'<img class="background-image" src="',"gamblio-chat-widget-style","removeFile","nxChatFooter","undefined","getElementById","-50px","unicode","replace","rgba(0, 0, 0, 1)","scrollHeight","videoIndex","rel","scrollTop","placeholder","skipRatingButton","text","split","formatMessageTimestampTitle","chatContainer","lastActiveGameId","to right","height","nx-date-separator-label","activeIndex","swiper-slide","renderCarousel","system_event","[data-rating]","elements","toLocaleString","Error fetching games:","{{BACKGROUND_STYLE}}","handleRatingSelection","messages","visibleIdsSet","&#39;","content","nx-date-separator","[Gamblio][Chat] Cannot send message without chatId","message-with-indicator","system_ai_vector","setProperty","Click to start conversation","addImpression","switchedStatusToClosed","4110720MNQmIZ","send","recommendationConfig","data-game-id","mouseenter",".png","getAttribute","seen_by_type","formatMessageTimestamp","protocol","toLocaleDateString","alert","indexOf","user","data-message-id"," days ago","[Gamblio][Chat] Failed to send rating:","createElement","gradientDirection","onload","Enter your name, ID or email (optional)","focus","4azAAZL","stopPropagation","false","type","#next-btn","playerToken","finishSending","Converter","carousel","change","gameId","shadowColor","sendButton","role","innerHTML","application/json","sent","ArrowUp",':root {\n  --card-shadow-color: {{SHADOW_COLOR}};\n  --gradient-color-1: {{GRADIENT_COLOR_1}};\n  --gradient-color-2: {{GRADIENT_COLOR_2}};\n  --gradient-direction: {{GRADIENT_DIRECTION}};\n  --nav-button-color: {{NAV_BUTTON_COLOR}};\n  --nav-button-hover-color: {{NAV_BUTTON_HOVER_COLOR}};\n}\n\n#game-container {\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  width: 100%;\n  height: 100%;\n  padding-inline: 1rem;\n  position: relative;\n  {{BACKGROUND_STYLE}}\n}\n\n#game-container.stack-mode {\n  perspective: 1200px;\n}\n\n#game-container video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n}\n\n#game-container .background-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n  pointer-events: none;\n}\n\n/* Swiper Container */\n.swiper {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper.stack-mode {\n  width: 100%;\n  height: 100%;\n}\n\n.swiper-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.swiper-slide {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto !important;\n  height: calc(100% - 2rem);\n}\n\n/* Game Cards */\n.game {\n  width: auto;\n  height: 100%;\n  max-height: 100%;\n  aspect-ratio: 1;\n  position: relative;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  box-shadow: 0 4px 16px var(--card-shadow-color);\n  transition: all 0.3s ease;\n}\n\n.game:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 24px var(--card-shadow-color);\n}\n\n.game img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.game::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 1;\n  border-radius: 12px;\n}\n\n.game:hover::before {\n  opacity: 1;\n}\n\n.game-hover-buttons {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 2;\n  pointer-events: none;\n  width: calc(100% - 16px);\n  height: 50%;\n  padding: 0 8px;\n}\n\n.game:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.game-hover-btn {\n  width: 100%;\n  flex: 1;\n  border: none;\n  border-radius: 6px;\n  font-size: clamp(16px, 2.5vw, 20px);\n  font-weight: 700;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 1px;\n  white-space: nowrap;\n}\n\n.game-hover-btn.demo-btn {\n  background: #808080 !important;\n  color: white !important;\n}\n\n.game-hover-btn.demo-btn:hover {\n  background: #6b6b6b !important;\n}\n\n.game-hover-btn.play-btn {\n  background: #e6c328 !important;\n  color: #002157 !important;\n}\n\n.game-hover-btn.play-btn:hover {\n  background: #f2c944 !important;\n}\n\n/* Navigation Buttons */\n.nav-btn {\n  position: relative;\n  z-index: 10;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n.swiper-button-prev::after,\n.swiper-button-next::after {\n  color: var(--nav-button-color);\n  font-size: 16px;\n  font-weight: bold;\n  transition: color 0.3s ease;\n}\n\n.swiper-button-prev:hover::after,\n.swiper-button-next:hover::after {\n  color: var(--nav-button-hover-color);\n}\n\n.nav-btn.swiper-button-disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n}\n\n.nav-btn.swiper-button-disabled:hover::after {\n  color: var(--nav-button-color);\n}\n\n/* Mobile Responsiveness */\n@media (max-width: 768px) {\n  #prev-btn,\n  #next-btn {\n    display: none !important;\n  }\n}\n\n/* Stack Mode - Half-Full-Half 3D Card Effect */\n.swiper.stack-mode .swiper-slide {\n  width: 100% !important;\n  max-width: 350px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: transform 0.4s ease, opacity 0.4s ease;\n}\n\n.swiper.stack-mode .swiper-slide .game {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\n}\n\n#game-container.stack-mode .game {\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n#game-container.stack-mode .game:hover {\n  transform: none;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);\n}\n\n.swiper.stack-mode .swiper-slide-prev,\n.swiper.stack-mode .swiper-slide-next {\n  z-index: 1;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game,\n.swiper.stack-mode .swiper-slide-next .game {\n  transform: translateZ(-60px) scale(0.9);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n.swiper.stack-mode .swiper-slide-prev .game::after,\n.swiper.stack-mode .swiper-slide-next .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.60),\n    rgba(0, 0, 0, 0.7)\n  );\n  opacity: 0.85;\n  z-index: 3;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n}\n\n.swiper.stack-mode .swiper-slide:not(.swiper-slide-prev):not(.swiper-slide-active):not(.swiper-slide-next) {\n  opacity: 0;\n}\n\n.swiper.stack-mode .swiper-slide-active {\n  width: 100% !important;\n  max-width: 380px;\n  transform: translateZ(80px) scale(1.08);\n  z-index: 5;\n}\n\n.swiper.stack-mode .swiper-slide-active .game {\n  box-shadow: 0 20px 48px rgba(0, 0, 0, 0.55);\n}\n\n.swiper.stack-mode .swiper-slide-active .game::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.50);\n  z-index: 3;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-prev .game-hover-buttons,\n.swiper.stack-mode .swiper-slide-next .game-hover-buttons {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game-hover-buttons {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.swiper.stack-mode .swiper-slide-active:hover .game::before {\n  opacity: 0.35;\n}\n\n',"effect","demo","getFullYear","clear","allGames","grabCursor","handleRatingSubmit","messageId","0px","buildMessageElement","top","1965390VdOVUt","bottom","handleSocketMessage","getCookie","gamblio-showdown-script","rgba(213, 208, 208)",".play-btn","size","[data-message-id]","spaceBetween","cash","startChatSuccess","formatDeliveredTime","isMessageAlreadySeen","injectAssets","chatBody","/ws/chat","games-swiper"];return(e=function(){return n})()}!function(){const n=i,t=e();for(;;)try{if(552218===parseInt(n(650))/1+-parseInt(n(470))/2*(-parseInt(n(703))/3)+-parseInt(n(403))/4*(parseInt(n(433))/5)+parseInt(n(381))/6+parseInt(n(461))/7*(-parseInt(n(317))/8)+parseInt(n(553))/9*(-parseInt(n(599))/10)+-parseInt(n(668))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const t={apiUrl:n(453),wsUrl:n(766)},a=n(542),o=n(421);class GamblioRecommendationWidget{static[n(283)]="";static[n(683)]="";static[n(426)]=[];static[n(788)]=0;static[n(767)]=null;static[n(574)]=new Map;static[n(355)]=null;static[n(764)]=new IntersectionObserver(e=>{const t=n;e[t(661)](n=>{const e=t,a=n[e(607)],o=a[e(583)](e(649)),i=Gamblio[e(278)]===e(782),s=o?.[e(552)][e(537)](e(735))??!1,r=a[e(387)]("data-game-id"),c=GamblioRecommendationWidget[e(426)].find(n=>String(n[e(305)])===r),d=String(r),l=!0===GamblioRecommendationWidget[e(574)][e(573)](d),p=n[e(314)]>=1,g=!n[e(505)];!i||s?c?p&&!l?GamblioRecommendationWidget[e(713)](c,{reason:e(308)}):g&&l&&GamblioRecommendationWidget.visibilityState[e(685)](d,!1):l&&g&&GamblioRecommendationWidget[e(574)].set(d,!1):l&&GamblioRecommendationWidget[e(574)][e(685)](d,!1)})},{threshold:[0,1]});static[n(713)](e,{reason:t=n(692),force:a=!1}={}){const o=n;if(!e)return;const i=String(e[o(305)]),s=!0===GamblioRecommendationWidget[o(574)][o(573)](i);!a&&s||(GamblioRecommendationWidget[o(574)][o(685)](i,!0),console[o(579)](o(676)+t,{gameId:String(e.normalizedId),name:e[o(504)]}),GamblioRecommendationWidget.addImpression(e.normalizedId))}static[n(488)](e){const t=n,a=e[t(644)]?.[e[t(359)]];if(!a)return;const o=a[t(727)](t(491));if(!o)return;const i=o.getAttribute(t(384)),s=GamblioRecommendationWidget[t(426)][t(485)](n=>String(n[t(305)])===i);GamblioRecommendationWidget[t(355)]&&GamblioRecommendationWidget[t(355)]!==i&&GamblioRecommendationWidget[t(574)][t(685)](GamblioRecommendationWidget[t(355)],!1),GamblioRecommendationWidget[t(713)](s,{reason:t(669)}),GamblioRecommendationWidget[t(355)]=i}static[n(474)](){const e=n,t=Gamblio[e(603)];return t===e(784)?e(307):t===e(513)||t===e(633)?e(622):"background: transparent;"}static[n(454)](){const e=n;if("video"!==Gamblio[e(603)])return"";const t=Gamblio[e(346)]||1,a=[e(513)+t+e(742)],o=a[t-1]||a[0];return e(511)+o+'" type="video/mp4">\n    </video>'}static[n(554)](){const e=n;if("image"!==Gamblio.backgroundType)return"";const t=Gamblio.imageIndex||1,a=e(633)+t+e(386),o=""+e(748)+a;return e(335)+o+e(750)}static[n(475)](){const e=n,t=Gamblio[e(328)];if(!t)return;const a=document.getElementById(t);if(!a)return;const o=a[e(276)][e(357)];if(o&&""!==o[e(791)]()&&o!==e(471))return;const i=window[e(677)](a)[e(357)];if(i&&"auto"!==i&&i!==e(430)&&"0"!==i)return;const s=(Gamblio[e(278)]||e(411))===e(782)?e(736):e(697);a[e(276)][e(357)]=s}static[n(467)](){const e=n,t="stack"===Gamblio.displayMode,i=a,s=o,r=GamblioRecommendationWidget.getVideoHTML(),c=GamblioRecommendationWidget[e(554)](),d=t?e(706):"",l=t?e(531):"";GamblioRecommendationWidget[e(283)]=i.replace(e(702),d)[e(343)]("{{VIDEO_HTML}}",r).replace(e(280),c).replace("{{SWIPER_STACK_MODE}}",l);const p=GamblioRecommendationWidget[e(474)]();return GamblioRecommendationWidget.CSS=s.replace(e(591),Gamblio.shadowColor).replace("{{GRADIENT_COLOR_1}}",Gamblio[e(678)][0])[e(343)](e(547),Gamblio.gradientColors[1]).replace(e(478),Gamblio.gradientDirection)[e(343)](e(570),Gamblio.navButtonColor)[e(343)](e(571),Gamblio[e(586)])[e(343)](e(367),p),!0}static async init(){const e=n;GamblioRecommendationWidget[e(475)]();if(!GamblioRecommendationWidget.loadTemplate())return;const t=await GamblioRecommendationWidget.getRecommendedGames();if(!t)return;const a=document.createElement(e(634));a[e(347)]="stylesheet",a[e(765)]="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css",document[e(313)][e(495)](a);const o=document[e(398)](e(594));o[e(303)]=e(651),o.onload=()=>{const n=e;document[n(313)][n(310)]("beforeend","<style>"+GamblioRecommendationWidget[n(683)]+"</style>"),document[n(340)](Gamblio.recommendationWidgetTargetContainerId)[n(417)]=GamblioRecommendationWidget[n(283)],setTimeout(()=>{const e=n;GamblioRecommendationWidget[e(426)]=t.map(n=>{const t=e,a=n.id??n[t(413)],o=n[t(621)]||n[t(604)]||"Game "+a;return{...n,normalizedId:a,displayName:o}}),GamblioRecommendationWidget[e(574)][e(425)](),GamblioRecommendationWidget[e(426)][e(661)](n=>{const t=e;GamblioRecommendationWidget[t(574)][t(685)](String(n.normalizedId),!1)}),GamblioRecommendationWidget[e(355)]=null,GamblioRecommendationWidget.renderCarousel(),GamblioRecommendationWidget[e(723)]()},300)},document[e(313)][e(495)](o)}static[n(760)](e,t){const a=n;return Gamblio[a(290)][a(343)]("{mode}",e)[a(343)](a(688),t)}static async[n(272)](){const e=n;try{const n=await fetch(t[e(274)]+e(566),{method:e(331),headers:{Accept:"application/json","Content-Type":e(418)},body:JSON.stringify({clientId:btoa(String(Gamblio.clientId)),playerToken:Gamblio[e(635)]})});if(!n.ok)throw new Error(e(499));const a=await n.json();return a.data||a}catch(n){return console[e(710)](e(366),n),[]}}static[n(361)](){const e=n,t=document[e(340)](e(598));t[e(417)]="",GamblioRecommendationWidget[e(426)].forEach(n=>{const a=e,o=n[a(305)],i=n[a(504)],s=n[a(555)]||n[a(456)];GamblioRecommendationWidget[a(574)][a(685)](String(o),!0===GamblioRecommendationWidget.visibilityState[a(573)](String(o)));const r=document[a(398)](a(260));r[a(552)][a(666)](a(360)),r[a(417)]=a(600)+s+'" alt="'+i+'" data-game-id="'+o+a(304);const c=r[a(727)](".demo-btn"),d=r[a(727)](a(439));c[a(739)](a(731),n=>{const e=a;n[e(404)](),console[e(579)]("[Gamblio][Recommendation] Demo button clicked",{gameId:o,name:i});const t=GamblioRecommendationWidget[e(760)](e(423),o);window[e(638)][e(765)]=t}),d[a(739)]("click",e=>{const t=a;e.stopPropagation(),console[t(579)]("[Gamblio][Recommendation] Play button clicked",{gameId:n[t(305)],name:i}),GamblioRecommendationWidget.addClick(n.normalizedId);const s=GamblioRecommendationWidget[t(760)](t(443),o);window[t(638)][t(765)]=s}),t[a(495)](r),GamblioRecommendationWidget[a(764)][a(330)](r[a(727)]("img"))})}static[n(723)](){const e=n,t=document[e(340)](e(450)),a=document[e(340)](e(587)),o=Gamblio[e(278)]||e(411),i=GamblioRecommendationWidget.allGames[e(517)],s="stack"===o&&i>=3?e(782):"carousel";s===e(782)&&(t[e(552)][e(666)]("stack-mode"),a?.classList[e(666)](e(706))),"stack"!==s&&(t.classList[e(271)](e(706)),a?.[e(552)][e(271)](e(706)));const r={slidesPerView:e(471),spaceBetween:16,navigation:{nextEl:e(407),prevEl:e(293)},keyboard:{enabled:!0},mousewheel:{forceToAxis:!0}};s===e(411)&&(r[e(576)]={320:{spaceBetween:12},768:{spaceBetween:16},1024:{spaceBetween:20}}),"stack"===s&&(r[e(294)]=e(471),r[e(460)]=i>3,r[e(422)]=e(562),r[e(427)]=!0,r.centeredSlides=!0,r[e(442)]=0,r[e(690)]=!1,r.coverflowEffect={rotate:0,stretch:0,depth:360,modifier:1.15,slideShadows:!1});const c=new Swiper(e(494),r);GamblioRecommendationWidget[e(767)]=c,s===e(782)?(GamblioRecommendationWidget[e(488)](c),c.on(e(270),()=>{GamblioRecommendationWidget[e(488)](c)})):GamblioRecommendationWidget[e(767)]=null}static async[n(379)](e){const a=n;console[a(579)](a(520),{gameId:e});try{const n=await fetch(t[a(274)]+a(641),{method:"POST",headers:{Accept:a(418),"Content-Type":"application/json"},body:JSON[a(503)]({clientId:btoa(String(Gamblio[a(637)])),playerToken:Gamblio.token,gameId:e})});if(!n.ok)throw new Error(a(701)+n[a(536)]);console[a(579)]("[Gamblio][Recommendation] Impression recorded",{gameId:e})}catch(n){console.warn("[Gamblio][Recommendation] Impression failed",{gameId:e,error:n[a(481)]})}}static async addClick(e){const a=n;try{const n=await fetch(t.apiUrl+a(508),{method:a(331),headers:{Accept:"application/json","Content-Type":a(418)},body:JSON[a(503)]({clientId:btoa(String(Gamblio[a(637)])),playerToken:Gamblio[a(635)],gameId:e})});if(!n.ok)throw new Error(a(701)+n[a(536)]);console[a(579)](a(682),{gameId:e})}catch(n){throw console[a(733)](a(763),{gameId:e,error:n.message}),n}}}function i(n,t){const a=e();return(i=function(n,e){return a[n-=258]})(n,t)}const s=n(694),r=n(630);class GamblioChatWidget{static[n(623)](){const e=n,t=e(329),a=e(774);return Gamblio.backgroundPrimary===t&&Gamblio[e(636)]===a}static get HTML(){const e=n,t=GamblioChatWidget.isUsingDefaults()?e(496):"";return s[e(343)]("{{LOGO_URL}}",Gamblio[e(636)])[e(343)](e(725),t)}static get[n(683)](){const e=n;return r[e(343)]("{{BACKGROUND_PRIMARY}}",Gamblio.backgroundPrimary||e(329))[e(343)](e(657),Gamblio[e(746)]||e(329))}static[n(301)]=!1;static[n(635)]="";static clientId=null;static[n(745)]="";static[n(596)]=null;static[n(369)]=[];static isSending=!1;static[n(518)]=!0;static[n(734)]=null;static[n(606)]=null;static[n(789)]=null;static[n(364)]={};static[n(500)]=null;static[n(268)]=null;static[n(370)]=new Set;static[n(624)]=new Set;static visibilityTimeout=null;static selectedRatingValue=0;static[n(646)]=!1;static[n(584)]=null;static[n(722)](){const e=n;GamblioChatWidget[e(301)]||(GamblioChatWidget[e(301)]=!0,GamblioChatWidget[e(635)]=Gamblio[e(635)]||"",GamblioChatWidget[e(637)]=Gamblio.clientId??null,GamblioChatWidget.playerName=GamblioChatWidget[e(327)](),GamblioChatWidget[e(447)](),GamblioChatWidget.cacheElements(),GamblioChatWidget[e(273)](),GamblioChatWidget[e(665)](),GamblioChatWidget[e(540)](),GamblioChatWidget.ensureMarkdownConverter(),window.addEventListener("beforeunload",GamblioChatWidget[e(592)]))}static injectAssets(){const e=n;if(!document[e(340)](e(336))){const n=document[e(398)](e(276));n.id="gamblio-chat-widget-style",n.textContent=GamblioChatWidget[e(683)],document.head[e(495)](n)}if(!document[e(340)](e(354))){const n=document.createElement(e(260));for(n.innerHTML=GamblioChatWidget[e(283)][e(791)]();n.firstChild;)document[e(759)][e(495)](n[e(285)])}}static[n(507)](){const e=n;GamblioChatWidget.elements={chatToggle:document.getElementById(e(620)),chatContainer:document[e(340)](e(354)),chatClose:document[e(340)]("chatClose"),chatInput:document[e(340)]("chatInput"),sendButton:document[e(340)]("sendButton"),chatFooter:document[e(340)](e(338)),preChatContainer:document[e(340)](e(473)),preChatInput:document[e(340)](e(457)),preChatPlayerId:document.getElementById(e(792)),startChatButton:document[e(340)](e(490)),endChatButton:document[e(340)](e(749)),reopenChatButton:document[e(340)]("reopenChatButton"),chatClosedMessage:document[e(340)]("chatClosedMessage"),messagesContainer:document[e(340)](e(609)),typingBubble:document[e(340)]("typingBubble"),emojiButton:document[e(340)](e(762)),emojiPicker:document[e(340)](e(288)),fileInput:document.getElementById("fileInput"),filePreview:document[e(340)](e(751)),previewImage:document[e(340)]("previewImage"),removeFile:document[e(340)](e(337)),messageForm:document[e(340)](e(626)),chatBody:document[e(727)](e(673)),ratingContainer:document[e(340)](e(773)),ratingSubmitButton:document[e(340)]("submitRatingButton"),ratingSkipButton:document[e(340)](e(350)),ratingThanksMessage:document[e(340)](e(561))}}static[n(273)](){const e=n;GamblioChatWidget[e(605)](),GamblioChatWidget[e(369)]=[],GamblioChatWidget[e(477)]=null,GamblioChatWidget[e(518)]=!0,GamblioChatWidget[e(462)]=!1,GamblioChatWidget[e(734)]=null,GamblioChatWidget[e(526)]();const t=GamblioChatWidget.elements;if(t[e(609)]&&(t[e(609)][e(417)]=""),t[e(719)]&&(t.chatClosedMessage[e(276)][e(658)]=e(778)),t[e(626)]&&(t[e(626)][e(276)].display=e(551)),t.endChatButton&&(t[e(724)][e(276)][e(658)]=e(778)),t[e(490)]&&(t[e(490)][e(588)]=!1),t[e(753)]&&(t[e(753)][e(276)][e(658)]=e(778)),t.chatInput&&(t[e(538)][e(712)]="",t[e(538)][e(588)]=!0,t[e(538)][e(349)]=GamblioChatWidget[e(266)]()?e(378):e(575)),t[e(415)]&&(t[e(415)].disabled=!0),GamblioChatWidget[e(476)](null),t[e(473)]){t[e(473)].style[e(658)]="flex";const n=t[e(473)][e(727)](e(275));GamblioChatWidget.hasToken()?(n&&(n.textContent=e(378)),t.preChatInput&&(t[e(457)][e(712)]="",t[e(457)][e(276)][e(658)]=e(778)),t[e(792)]&&(t[e(792)][e(712)]="",t.preChatPlayerId[e(276)][e(658)]=e(778))):(n&&(n[e(284)]=e(401)),t.preChatInput&&(t[e(457)][e(712)]="",t.preChatInput[e(276)][e(658)]=""),t[e(792)]&&(t.preChatPlayerId[e(712)]="",t[e(792)][e(276)][e(658)]=""))}GamblioChatWidget[e(364)][e(288)]&&(GamblioChatWidget[e(364)][e(288)][e(276)][e(658)]=e(778)),GamblioChatWidget[e(596)]=null,GamblioChatWidget[e(322)](),GamblioChatWidget[e(268)]&&(GamblioChatWidget[e(268)][e(662)](),GamblioChatWidget[e(268)]=null),GamblioChatWidget[e(613)]&&(clearTimeout(GamblioChatWidget[e(613)]),GamblioChatWidget.visibilityTimeout=null),GamblioChatWidget.visibleIdsSet.clear(),GamblioChatWidget.seenIdsSet[e(425)](),GamblioChatWidget.setChatAriaState(!1),t[e(620)]?.[e(552)][e(271)](e(625)),t[e(354)]?.[e(552)][e(271)](e(643))}static setupEventListeners(){const e=n,t=GamblioChatWidget.elements;t.chatToggle?.[e(739)]("click",()=>GamblioChatWidget.toggleChat()),t[e(545)]?.[e(739)](e(731),()=>GamblioChatWidget[e(730)]()),t[e(354)]?.[e(739)]("click",n=>n.stopPropagation()),t[e(490)]?.[e(739)](e(731),()=>GamblioChatWidget[e(726)]()),t[e(457)]?.addEventListener("keypress",n=>{const t=e;"Enter"===n[t(302)]&&(n[t(259)](),GamblioChatWidget[t(726)]())}),t[e(792)]?.[e(739)](e(777),n=>{const t=e;n[t(302)]===t(560)&&(n.preventDefault(),GamblioChatWidget[t(726)]())}),t[e(724)]?.[e(739)](e(731),()=>GamblioChatWidget.handleEndChat()),t.reopenChatButton?.[e(739)]("click",()=>GamblioChatWidget[e(273)]()),t[e(415)]?.[e(739)](e(731),()=>GamblioChatWidget[e(320)]()),t[e(538)]?.addEventListener("keydown",n=>{const t=e;n[t(302)]===t(560)&&(n[t(259)](),GamblioChatWidget.sendMessage())}),t.chatInput?.addEventListener(e(786),()=>GamblioChatWidget[e(526)]()),t[e(754)]?.addEventListener(e(412),n=>GamblioChatWidget[e(543)](n)),t[e(337)]?.[e(739)](e(731),()=>GamblioChatWidget[e(309)]()),t[e(762)]?.[e(739)](e(731),n=>{const t=e;n.stopPropagation(),GamblioChatWidget[t(484)]()}),t[e(288)]&&t.emojiPicker[e(739)](e(524),n=>{const t=e;GamblioChatWidget[t(364)][t(538)]&&(GamblioChatWidget[t(364)][t(538)][t(712)]+=n[t(670)][t(342)],GamblioChatWidget[t(364)][t(538)][t(402)](),GamblioChatWidget[t(364)][t(288)].style[t(658)]="none")}),!GamblioChatWidget[e(500)]&&(GamblioChatWidget[e(500)]=n=>{const t=e,a=GamblioChatWidget[t(364)][t(288)],o=GamblioChatWidget[t(364)][t(762)];a&&a[t(276)][t(658)]!==t(778)&&(o&&o[t(537)](n[t(607)])||a[t(537)](n[t(607)])||(a.style[t(658)]=t(778)))},document[e(739)](e(731),GamblioChatWidget.documentClickHandler));const a=t.ratingContainer;if(a){Array[e(653)](a.querySelectorAll(e(363)))[e(661)](n=>{const t=e;n.addEventListener(t(731),()=>GamblioChatWidget[t(368)](Number(n.dataset[t(315)]))),n[t(739)](t(385),()=>{const e=t;!GamblioChatWidget.hasSubmittedRating&&GamblioChatWidget.updateRatingStars(Number(n[e(287)][e(315)]))}),n.addEventListener(t(451),()=>{!GamblioChatWidget[t(646)]&&GamblioChatWidget.updateRatingStars()}),n[t(739)](t(720),e=>{const a=t;("Enter"===e[a(302)]||" "===e.key)&&(e[a(259)](),GamblioChatWidget[a(368)](Number(n.dataset[a(315)]))),(e[a(302)]===a(458)||e[a(302)]===a(420))&&(e[a(259)](),GamblioChatWidget[a(265)](n,1)),(e[a(302)]===a(316)||"ArrowDown"===e.key)&&(e.preventDefault(),GamblioChatWidget[a(265)](n,-1))})}),a.addEventListener(e(451),()=>{const n=e;!GamblioChatWidget[n(646)]&&GamblioChatWidget[n(527)]()})}t[e(532)]?.[e(739)]("click",()=>GamblioChatWidget[e(428)]()),t[e(679)]?.[e(739)](e(731),()=>GamblioChatWidget[e(656)]())}static[n(540)](){const e=n;if("undefined"==typeof customElements)return;if(customElements[e(573)](e(744)))return;if(document[e(340)](e(593)))return;const t=document.createElement("script");t.id="gamblio-emoji-picker-module",t[e(406)]=e(509),t[e(303)]=e(611),document[e(313)].appendChild(t)}static[n(480)](){const e=n;if(!GamblioChatWidget.markdownConverter)if(typeof showdown===e(339)){if(document[e(340)](e(437)))return;const n=document[e(398)](e(594));n.id="gamblio-showdown-script",n[e(303)]=e(267),n[e(400)]=()=>{const n=e;GamblioChatWidget.markdownConverter=new(showdown[n(410)])({openLinksInNewWindow:!0})},document.head[e(495)](n)}else GamblioChatWidget[e(584)]=new(showdown[e(410)])({openLinksInNewWindow:!0})}static[n(266)](){return Boolean(GamblioChatWidget.token)}static[n(581)](){const e=n,t=GamblioChatWidget[e(364)];t[e(354)]?.[e(552)].contains(e(643))?GamblioChatWidget.closeChat():GamblioChatWidget[e(578)]()}static[n(578)](){const e=n,t=GamblioChatWidget[e(364)];t.chatContainer&&(t[e(354)][e(552)][e(666)](e(643)),t.chatToggle?.[e(552)][e(666)](e(625)),GamblioChatWidget.setChatAriaState(!0),GamblioChatWidget[e(540)](),GamblioChatWidget.hasToken()&&!GamblioChatWidget[e(492)]&&GamblioChatWidget.startChat(!0),setTimeout(()=>{const n=e;GamblioChatWidget[n(518)]=!0,GamblioChatWidget[n(616)](),GamblioChatWidget[n(493)](),GamblioChatWidget.shouldAutoScroll=!1,t[n(538)]?.focus()},250))}static[n(730)](){const e=n,t=GamblioChatWidget[e(364)];t.chatContainer&&(t.chatContainer[e(552)][e(271)](e(643)),t[e(620)]?.classList[e(271)](e(625)),GamblioChatWidget[e(776)](!1),GamblioChatWidget[e(268)]&&(GamblioChatWidget[e(268)][e(662)](),GamblioChatWidget.visibilityObserver=null))}static[n(776)](e){const t=n,a=GamblioChatWidget.elements;a.chatToggle?.setAttribute(t(781),t(e?756:405)),a.chatContainer?.[t(529)](t(557),t(e?405:756))}static startChat(e=!1){const t=n;if(!GamblioChatWidget[t(492)]||GamblioChatWidget[t(492)][t(655)]!==WebSocket[t(660)]){if(!GamblioChatWidget[t(266)]()){const n=(GamblioChatWidget[t(364)].preChatInput?.[t(712)]||"").trim();if(!n&&e)return;GamblioChatWidget[t(745)]=n||GamblioChatWidget[t(327)]();const a=(GamblioChatWidget[t(364)][t(792)]?.[t(712)]||"")[t(791)]();GamblioChatWidget[t(596)]=a?parseInt(a,10):null}GamblioChatWidget.elements.startChatButton&&(GamblioChatWidget[t(364)][t(490)][t(588)]=!0),GamblioChatWidget[t(364)].preChatContainer&&(GamblioChatWidget[t(364)].preChatContainer.style[t(658)]=t(778)),GamblioChatWidget[t(364)].chatFooter&&(GamblioChatWidget[t(364)][t(753)][t(276)].display=t(551)),GamblioChatWidget.messages=[],GamblioChatWidget[t(616)](),GamblioChatWidget.setChatInputEnabled(!1,t(705)),GamblioChatWidget[t(523)]()}}static[n(523)](){const e=n,t=GamblioChatWidget.resolveWebSocketUrl();if(!t)return console[e(733)](e(498)),void GamblioChatWidget.setChatInputEnabled(!1,"Connection unavailable");GamblioChatWidget[e(605)]();try{const n=new WebSocket(t);GamblioChatWidget[e(492)]=n,n[e(739)](e(643),()=>{const n=e,t={tag:"playerStartChatAndJoin",playerToken:GamblioChatWidget[n(635)]||null,clientId:GamblioChatWidget[n(637)]??null,playerName:GamblioChatWidget.playerName||""};GamblioChatWidget[n(596)]&&(t[n(258)]=GamblioChatWidget[n(596)]),GamblioChatWidget[n(601)](t)}),n.addEventListener("message",n=>GamblioChatWidget[e(435)](n)),n[e(739)](e(710),n=>{const t=e;console[t(733)](t(721),n)}),n[e(739)](e(292),()=>{const n=e;GamblioChatWidget.socket=null,GamblioChatWidget[n(324)](!1,n(617))})}catch(n){console[e(710)](e(544),n),GamblioChatWidget[e(324)](!1,"Connection error")}}static[n(483)](){const e=n;if(t[e(614)]){const n=t[e(614)].replace(/\/$/,"");return n.endsWith(e(449))?n:n+e(449)}if(t[e(274)])try{const n=new URL(t[e(274)]);return n[e(390)]=n.protocol===e(716)?e(615):e(533),n[e(468)]+e(449)}catch(n){console[e(733)]("[Gamblio][Chat] Invalid CONFIG.apiUrl",n)}return null}static[n(601)](e){const t=n;GamblioChatWidget[t(492)]&&GamblioChatWidget[t(492)].readyState===WebSocket[t(660)]?GamblioChatWidget[t(492)][t(382)](JSON.stringify(e)):console[t(733)]("[Gamblio][Chat] Tried to send message while socket not open")}static handleSocketMessage(e){const t=n;let a;try{a=JSON[t(769)](e[t(761)])}catch(n){return void console[t(733)](t(522),n)}"bump"!==a[t(729)]?a[t(729)]!==t(277)?console.info(t(732),a):GamblioChatWidget[t(612)](a):GamblioChatWidget[t(263)](a)}static[n(263)](e){const t=n,a=e[t(318)]||{};switch(e.bump_type){case t(444):GamblioChatWidget.chatId=a[t(704)]??a[t(477)]??null,GamblioChatWidget[t(269)]();break;case t(319):GamblioChatWidget[t(369)][t(661)](n=>{const e=t;n.id===a.messageId&&(n[e(516)]=a[e(516)])}),GamblioChatWidget.renderMessages();break;case t(648):case t(752):const n=a[t(429)];GamblioChatWidget[t(369)][t(661)](e=>{const o=t;e.id===n&&(e[o(709)]=a[o(709)]||e[o(709)]||[])}),GamblioChatWidget[t(616)]();break;case t(580):const o=(a[t(785)]||[])[t(465)](n=>Number(n));GamblioChatWidget.messages[t(661)](n=>{const e=t,a=Number(n.id);if(o[e(681)](a)){const t=Math[e(298)](Date[e(645)]()/1e3);if(n.seen_by&&Array[e(775)](n.seen_by)&&0!==n[e(709)][e(517)]){!n[e(709)][e(512)](n=>n.seen_at===t)&&n.seen_by.push({seen_at:t})}else n[e(709)]=[{seen_at:t}]}}),GamblioChatWidget.renderMessages();break;case t(281):if(GamblioChatWidget.clearTypingIndicator(),!0===a[t(590)])break;GamblioChatWidget[t(452)]({id:a.id||a[t(429)],role:a[t(416)],content:a[t(351)],attachment:a[t(696)],unix:Number(a[t(463)])||Math[t(298)](Date[t(645)]()/1e3),delivered_at:void 0!==a[t(516)]?a[t(516)]:null,seen_by:a.seen_by||null}),GamblioChatWidget[t(616)](),GamblioChatWidget[t(493)]();break;case t(380):GamblioChatWidget[t(700)]();break;default:console[t(333)](t(699),e)}}static[n(612)](e){const t=n,a=Array.isArray(e.messages)?e[t(369)]:[];GamblioChatWidget[t(369)]=a[t(689)](n=>n&&n[t(416)]!==t(362)&&n.role!==t(715)&&!0!==n[t(590)])[t(465)](n=>({id:n.id||n[t(429)],role:n[t(416)],content:n.content,attachment:n.attachment_url,unix:Number(n[t(463)])||Math[t(298)](Date[t(645)]()/1e3),delivered_at:void 0!==n[t(516)]?n[t(516)]:null,seen_by:n[t(709)]||null})),e[t(639)]&&(GamblioChatWidget[t(477)]=e.chat_id,GamblioChatWidget.handleChatReady()),GamblioChatWidget[t(616)](),GamblioChatWidget.setupMessageVisibilityObserver()}static[n(269)](){const e=n;GamblioChatWidget[e(324)](!0,e(691)),GamblioChatWidget[e(364)][e(724)]?.[e(276)].setProperty("display",e(740)),GamblioChatWidget[e(364)].startChatButton&&(GamblioChatWidget[e(364)][e(490)].disabled=!1),GamblioChatWidget[e(364)][e(538)]?.[e(402)]()}static[n(700)](){const e=n;GamblioChatWidget[e(526)](),GamblioChatWidget[e(324)](!1,"Chat closed"),GamblioChatWidget.elements.messageForm?.style[e(377)](e(658),"none"),GamblioChatWidget.elements[e(719)]?.style.setProperty(e(658),e(740)),GamblioChatWidget[e(364)][e(724)]?.[e(276)][e(377)]("display",e(778)),GamblioChatWidget[e(364)][e(490)]&&(GamblioChatWidget[e(364)][e(490)].disabled=!1),GamblioChatWidget[e(309)](),GamblioChatWidget.chatId=null,GamblioChatWidget.destroySocket(),!GamblioChatWidget[e(646)]&&GamblioChatWidget[e(755)]()}static[n(452)](e){const t=n;e&&(GamblioChatWidget.messages[t(564)]({id:e.id||null,role:e[t(416)]||"bot",content:e[t(372)]||"",attachment:e[t(747)]||null,unix:e[t(311)]||Math[t(298)](Date[t(645)]()/1e3),delivered_at:void 0!==e[t(516)]?e.delivered_at:null,seen_by:e[t(709)]||null}),GamblioChatWidget.renderMessages())}static[n(616)](){const e=n,t=GamblioChatWidget[e(364)];if(!t.messagesContainer)return;const a=t[e(448)]||t[e(609)],o=Math[e(525)](a[e(345)]-a[e(348)]-a[e(455)])<=5;t[e(609)].innerHTML="";let i=null;GamblioChatWidget[e(369)][e(661)](n=>{const a=e;!n[a(311)]&&(n[a(463)]?n[a(311)]=Number(n[a(463)]):n[a(311)]=Math[a(298)](Date.now()/1e3));const o=new Date(1e3*n[a(311)]),s=o.getFullYear()+"-"+(o[a(326)]()+1)+"-"+o[a(619)]();i!==s&&(i=s,t.messagesContainer.appendChild(GamblioChatWidget[a(519)](n[a(311)]))),t[a(609)][a(495)](GamblioChatWidget[a(431)](n))}),(GamblioChatWidget[e(518)]||o)&&(a[e(348)]=a[e(345)])}static[n(519)](e){const t=n,a=document.createElement(t(260));a[t(667)]=t(373);const o=document[t(398)]("div");o[t(667)]="nx-separator-line";const i=document[t(398)](t(757));i[t(667)]=t(358),i[t(284)]=GamblioChatWidget.separatorLabel(e);const s=document[t(398)](t(260));return s[t(667)]=t(771),a[t(680)](o,i,s),a}static[n(431)](e){const t=n,a=document[t(398)](t(260));a[t(667)]=t(707)+(e[t(416)]===t(585)?"user":"bot"),GamblioChatWidget.isBotMessage(e[t(416)])&&e.id&&a.setAttribute(t(395),e.id);const o=document.createElement(t(260));o[t(667)]=t(674)+(e[t(416)]===t(585)?t(394):t(629));let i=e[t(372)]||"",s="";if("player"===e.role)s=GamblioChatWidget[t(569)](i)[t(343)](/\n/g,t(631));else{GamblioChatWidget[t(480)]();try{s=GamblioChatWidget.markdownConverter?GamblioChatWidget[t(584)][t(589)](i):GamblioChatWidget.escapeHtml(i)[t(343)](/\n/g,"<br>")}catch(n){s=GamblioChatWidget[t(569)](i)[t(343)](/\n/g,t(631))}}if(o.innerHTML=s,e.attachment){const n=document[t(398)]("img");n[t(303)]=e[t(747)],n[t(300)]=t(548),n.style.cssText=t(546),n.addEventListener(t(731),()=>window[t(643)](e[t(747)],t(632))),o[t(495)](n)}const r=document.createElement("span");r[t(667)]=t(463);const c=GamblioChatWidget.isTodayUnix(e.unix);if(r[t(284)]=GamblioChatWidget[t(389)](e[t(311)]),r[t(556)]=GamblioChatWidget[t(353)](e[t(311)],c),e[t(416)]===t(585)){const n=document[t(398)](t(260));n[t(552)][t(666)](t(375));const i=document.createElement("div");i[t(552)][t(666)](t(286));const s=document[t(398)](t(757));s.classList[t(666)](t(779));const c=GamblioChatWidget[t(486)](e);if(GamblioChatWidget[t(282)](e))if(s[t(417)]="✓✓",c){s.classList[t(666)](t(539)),s[t(552)][t(271)]("sent");const n=e.seen_by[0];n&&n[t(558)]?s.title=t(671)+GamblioChatWidget[t(567)](n[t(558)]):s[t(556)]=t(535)}else s.classList[t(666)](t(419)),s.classList[t(271)](t(539)),s[t(556)]="Delivered at "+GamblioChatWidget[t(445)](e.delivered_at);else s[t(417)]="✓",s[t(552)].add(t(419)),s[t(552)][t(271)](t(539)),s.title=t(295);i[t(495)](s),n[t(495)](o),n.appendChild(i),a[t(495)](n),a[t(495)](r)}else a[t(495)](r),a[t(495)](o);return a}static[n(389)](e){const t=n;new Date,new Date(1e3*e);if(GamblioChatWidget[t(297)](e))return GamblioChatWidget[t(647)](e);{const n=GamblioChatWidget[t(312)](e);return 1===n?"1 day ago":n+t(396)}}static[n(353)](e,t){const a=n,o=new Date(1e3*e);return t?o.toLocaleString(void 0,{year:a(321),month:a(521),day:a(521),hour:a(521),minute:a(521),second:"2-digit",hour12:!1}):GamblioChatWidget[a(647)](e)}static[n(647)](e){const t=n;return new Date(1e3*e)[t(332)](t(482),{hour12:!1,hour:t(521),minute:t(521),second:t(521)})}static[n(297)](e){const t=n;if(!e)return!1;const a=new Date(1e3*e),o=new Date;return a[t(424)]()===o.getFullYear()&&a.getMonth()===o.getMonth()&&a[t(619)]()===o[t(619)]()}static diffDaysFromToday(e){const t=n,a=new Date(1e3*e),o=new Date,i=new Date(o[t(424)](),o.getMonth(),o[t(619)]())[t(568)](),s=new Date(a[t(424)](),a.getMonth(),a[t(619)]())[t(568)]();return Math[t(298)]((i-s)/864e5)}static[n(652)](e){const t=n,a=GamblioChatWidget[t(312)](e);if(0===a)return t(577);if(1===a)return"Yesterday";return new Date(1e3*e)[t(391)](void 0,{month:t(738),day:t(521),year:t(321)})}static isBotMessage(e){const t=n;return e===t(597)||e===t(608)||e===t(376)}static[n(282)](e){const t=n;return null!==e[t(516)]&&void 0!==e[t(516)]}static[n(486)](e){const t=n;return e[t(709)]&&Array[t(775)](e[t(709)])&&e[t(709)].length>0}static[n(567)](e){const t=n,a=typeof e===t(459)?parseInt(e,10):e;return new Date(1e3*a).toLocaleString(void 0,{year:t(321),month:t(521),day:t(521),hour:"2-digit",minute:t(521),second:t(521),hour12:!1})}static[n(445)](e){const t=n,a=typeof e===t(459)?parseInt(e,10):e;return new Date(1e3*a)[t(365)](void 0,{year:t(321),month:"2-digit",day:t(521),hour:t(521),minute:t(521),second:t(521),hour12:!1})}static escapeHtml(e){const t=n;return(e||"")[t(343)](/[&<>"']/g,n=>({"&":"&amp;","<":t(501),">":t(472),'"':"&quot;","'":t(371)}[n]))}static[n(320)](){const e=n;if(!GamblioChatWidget[e(492)]||GamblioChatWidget[e(492)].readyState!==WebSocket[e(660)])return void console[e(733)]("[Gamblio][Chat] Cannot send message while socket is closed");if(!GamblioChatWidget.chatId)return void console[e(733)](e(374));const t=(GamblioChatWidget[e(364)][e(538)]?.[e(712)]||"")[e(791)]();if(!t&&!GamblioChatWidget[e(734)])return;if(GamblioChatWidget[e(462)])return;GamblioChatWidget.isSending=!0,GamblioChatWidget[e(324)](!1);const a=()=>{const n=e;GamblioChatWidget[n(409)](),GamblioChatWidget[n(582)]()};if(GamblioChatWidget[e(734)]){const n=new FileReader;n[e(400)]=()=>{const o=e;GamblioChatWidget.sendSocketMessage({tag:o(506),chatId:GamblioChatWidget[o(477)],message:t||o(772),attachment:n.result}),GamblioChatWidget.elements[o(538)]&&(GamblioChatWidget[o(364)][o(538)][o(712)]=""),GamblioChatWidget[o(309)](),a()},n[e(737)]=()=>{const n=e;console[n(733)]("[Gamblio][Chat] Failed to read attachment"),GamblioChatWidget[n(309)](),a()},n[e(640)](GamblioChatWidget[e(734)])}else GamblioChatWidget[e(601)]({tag:"playerSendMessage",chatId:GamblioChatWidget.chatId,message:t,attachment:null}),GamblioChatWidget.elements.chatInput&&(GamblioChatWidget[e(364)][e(538)][e(712)]=""),a()}static[n(409)](){const e=n;GamblioChatWidget[e(462)]=!1,GamblioChatWidget[e(477)]&&(GamblioChatWidget[e(324)](!0,"Type your message..."),GamblioChatWidget[e(364)].chatInput?.[e(402)]())}static[n(543)](e){const t=n,a=e[t(607)][t(728)]&&e[t(607)][t(728)][0];if(a)return a[t(406)][t(714)](t(770))?a[t(440)]>5242880?(window[t(392)](t(628)),void(e[t(607)][t(712)]="")):(GamblioChatWidget[t(734)]=a,void GamblioChatWidget[t(476)](a)):(window[t(392)]("Please select an image file"),void(e[t(607)].value=""))}static updateFilePreview(e){const t=n,a=GamblioChatWidget[t(364)];if(!a.filePreview)return;if(GamblioChatWidget.previewObjectUrl&&(URL[t(534)](GamblioChatWidget[t(606)]),GamblioChatWidget[t(606)]=null),!e)return a[t(751)][t(276)][t(658)]="none",void(a[t(610)]&&(a[t(610)][t(303)]=""));const o=URL[t(464)](e);GamblioChatWidget.previewObjectUrl=o,a.filePreview[t(276)][t(658)]=t(551),a[t(610)]&&(a[t(610)][t(303)]=o)}static[n(309)](){const e=n;GamblioChatWidget[e(734)]=null,GamblioChatWidget[e(364)][e(754)]&&(GamblioChatWidget[e(364)][e(754)].value=""),GamblioChatWidget[e(476)](null)}static scheduleTypingIndicator(){const e=n;GamblioChatWidget[e(526)](),GamblioChatWidget[e(789)]=window[e(787)](()=>{GamblioChatWidget[e(296)](!0)},4e3+Math[e(298)](3e3*Math[e(602)]()))}static[n(526)](){const e=n;GamblioChatWidget[e(789)]&&(window[e(323)](GamblioChatWidget[e(789)]),GamblioChatWidget[e(789)]=null),GamblioChatWidget.setTypingIndicator(!1)}static[n(296)](e){const t=n,a=GamblioChatWidget[t(364)][t(306)];a&&(a[t(276)][t(658)]=t(e?551:778))}static[n(324)](e,t){const a=n,o=GamblioChatWidget[a(364)];o[a(538)]&&(o[a(538)][a(588)]=!e,void 0!==t&&(o[a(538)][a(349)]=t)),o.sendButton&&(o[a(415)][a(588)]=!e)}static sendCloseMessage(){const e=n;if(!GamblioChatWidget[e(477)])return;const t={tag:e(487),playerToken:GamblioChatWidget[e(635)]||null,chatId:GamblioChatWidget.chatId,clientId:GamblioChatWidget[e(637)]??null,playerName:GamblioChatWidget.playerName||""};GamblioChatWidget[e(596)]&&(t.customPlayerId=GamblioChatWidget[e(596)]),GamblioChatWidget.sendSocketMessage(t),GamblioChatWidget[e(477)]=null}static handleEndChat(){const e=n;GamblioChatWidget[e(743)](),GamblioChatWidget[e(700)]()}static[n(592)](){const e=n;GamblioChatWidget.sendCloseMessage(),GamblioChatWidget[e(605)]()}static[n(605)](){const e=n;if(GamblioChatWidget[e(492)]){try{GamblioChatWidget[e(492)][e(292)]()}catch(n){console[e(733)](e(502),n)}GamblioChatWidget[e(492)]=null}}static[n(327)](){const e=n,t=e(693);let a="";for(let n=0;n<4;n++)a+=t[e(479)](Math[e(298)](Math[e(602)]()*t.length));return e(659)+a}static dayKey(e){const t=n,a=new Date(1e3*e);return a[t(424)]()+"-"+(a[t(326)]()+1)+"-"+a[t(619)]()}static[n(484)](){const e=n,t=GamblioChatWidget[e(364)][e(288)];t&&(GamblioChatWidget[e(540)](),t[e(276)][e(658)]=t[e(276)][e(658)]===e(778)?e(740):"none")}static[n(368)](e){const t=n;GamblioChatWidget[t(364)][t(768)]&&!GamblioChatWidget[t(646)]&&(GamblioChatWidget[t(684)]=e,GamblioChatWidget[t(527)](),GamblioChatWidget[t(364)].ratingSubmitButton&&(GamblioChatWidget[t(364)][t(532)][t(588)]=0===GamblioChatWidget[t(684)]))}static updateRatingStars(e=null){const t=n,a=GamblioChatWidget.elements[t(768)];if(!a)return;const o=Array.from(a.querySelectorAll(t(363))),i=null!==e?e:GamblioChatWidget[t(684)];o[t(661)](n=>{const e=t,a=Number(n[e(287)][e(315)])<=i;n[e(552)][e(595)](e(510),a),n[e(529)]("aria-pressed",String(a))})}static[n(265)](e,t){const a=n,o=GamblioChatWidget[a(364)][a(768)];if(!o)return;const i=Array.from(o[a(572)](a(363))),s=i[a(393)](e);i[(s+t+i.length)%i.length][a(402)]()}static[n(428)](){const e=n;if(!GamblioChatWidget[e(492)]||GamblioChatWidget[e(492)][e(655)]!==WebSocket[e(660)]||!GamblioChatWidget[e(477)])return void console[e(733)](e(541));if(0===GamblioChatWidget.selectedRatingValue)return;const t={tag:e(528),chatId:GamblioChatWidget[e(477)],clientId:GamblioChatWidget[e(637)]??null,rating:GamblioChatWidget[e(684)]};GamblioChatWidget.token&&(t[e(408)]=GamblioChatWidget[e(635)]),GamblioChatWidget[e(596)]&&(t[e(258)]=GamblioChatWidget[e(596)]);try{GamblioChatWidget[e(601)](t),GamblioChatWidget[e(646)]=!0,GamblioChatWidget[e(364)].ratingSubmitButton&&(GamblioChatWidget[e(364)][e(532)][e(588)]=!0);const n=GamblioChatWidget[e(364)][e(768)];if(n){Array[e(653)](n[e(572)](e(363)))[e(661)](n=>n.disabled=!0)}GamblioChatWidget[e(364)][e(679)]&&GamblioChatWidget[e(364)][e(679)].classList[e(666)]("hidden"),GamblioChatWidget[e(364)][e(698)]&&GamblioChatWidget.elements[e(698)][e(552)][e(271)](e(783)),setTimeout(()=>{const t=e;n&&n[t(552)][t(666)](t(783))},5e3)}catch(n){console[e(710)](e(397),n)}}static handleRatingSkip(){GamblioChatWidget.hasSubmittedRating=!1,GamblioChatWidget.hideRatingPrompt()}static[n(755)](){const e=n,t=GamblioChatWidget[e(364)][e(768)];if(!t)return;t.classList[e(271)](e(783)),GamblioChatWidget[e(364)][e(698)]&&GamblioChatWidget[e(364)].ratingThanksMessage.classList[e(666)](e(783)),GamblioChatWidget.elements.ratingSkipButton&&GamblioChatWidget[e(364)].ratingSkipButton[e(552)][e(271)](e(783));Array[e(653)](t[e(572)](e(363))).forEach(n=>n[e(588)]=!1)}static[n(549)](){const e=n,t=GamblioChatWidget.elements[e(768)];t&&t[e(552)].add("hidden")}static resetRatingState(){const e=n;GamblioChatWidget.selectedRatingValue=0,GamblioChatWidget.hasSubmittedRating=!1,GamblioChatWidget[e(549)](),GamblioChatWidget.updateRatingStars(),GamblioChatWidget[e(364)][e(532)]&&(GamblioChatWidget[e(364)][e(532)][e(588)]=!0),GamblioChatWidget.elements.ratingThanksMessage&&GamblioChatWidget[e(364)][e(698)][e(552)][e(666)]("hidden"),GamblioChatWidget[e(364)].ratingSkipButton&&GamblioChatWidget[e(364)].ratingSkipButton[e(552)][e(271)](e(783));const t=GamblioChatWidget[e(364)].ratingContainer;if(t){Array[e(653)](t[e(572)]("[data-rating]"))[e(661)](n=>{const t=e;n[t(588)]=!1,n[t(529)](t(565),"false")})}}static[n(446)](e){const t=n;if(GamblioChatWidget[t(624)][t(334)](e))return!0;const a=GamblioChatWidget[t(369)][t(485)](n=>n.id===e);if(a&&a.seen_by&&Array.isArray(a[t(709)])&&a.seen_by[t(517)]>0){if(a[t(709)][t(512)](n=>n[t(388)]===t(585)||null===n.user_id))return!0}return!1}static sendMessagesAsRead(e){const t=n;if(!GamblioChatWidget[t(477)])return void console[t(733)](t(618));if(!GamblioChatWidget[t(492)])return void console[t(733)](t(279));if(GamblioChatWidget[t(492)].readyState!==WebSocket[t(660)])return void console[t(733)]("[Visibility] ✗ SEND FAILED - Socket not OPEN, state:",GamblioChatWidget[t(492)][t(655)]);if(0===e[t(517)])return void console[t(733)]("[Visibility] ✗ SEND FAILED - Empty messageIds array");const a={tag:"playerMarkMessagesAsRead",chatId:GamblioChatWidget.chatId,messageIds:e};try{GamblioChatWidget.sendSocketMessage(a)}catch(n){console[t(710)](t(325),n)}}static setupMessageVisibilityObserver(){const e=n;if(!GamblioChatWidget[e(477)]||!GamblioChatWidget[e(364)][e(354)]?.classList[e(537)](e(643)))return;const t=document[e(727)](e(673));if(!t)return;GamblioChatWidget[e(268)]&&GamblioChatWidget[e(268)][e(662)](),GamblioChatWidget[e(613)]&&clearTimeout(GamblioChatWidget[e(613)]),GamblioChatWidget[e(268)]=new IntersectionObserver(n=>{const t=e;n[t(661)](n=>{const e=t,a=Number(n[e(607)][e(387)](e(395)));a&&(n.isIntersecting&&n[e(314)]>.01?GamblioChatWidget[e(370)][e(666)](a):GamblioChatWidget[e(370)].delete(a))}),GamblioChatWidget[t(613)]&&clearTimeout(GamblioChatWidget[t(613)]),GamblioChatWidget[t(613)]=setTimeout(()=>{const n=t;if(GamblioChatWidget[n(370)][n(440)]>0){const e=Array[n(653)](GamblioChatWidget.visibleIdsSet)[n(689)](e=>!GamblioChatWidget[n(446)](e));e[n(517)]>0&&(GamblioChatWidget.sendMessagesAsRead(e),e[n(661)](e=>GamblioChatWidget[n(624)][n(666)](e))),GamblioChatWidget[n(370)].clear()}},300)},{root:t,rootMargin:e(341),threshold:[0,.01,.5,1]});const a=document[e(572)](e(441));a[e(661)](n=>{const t=e;GamblioChatWidget[t(268)][t(330)](n)}),setTimeout(()=>{const n=e,o=Array.from(a).filter(n=>{const e=i,a=n.getBoundingClientRect(),o=t[e(262)]();return a[e(432)]<o.bottom&&a[e(434)]>o[e(432)]&&a[e(663)]<o[e(672)]&&a[e(672)]>o[e(663)]});o[n(517)]>0&&(o[n(661)](e=>{const t=n,a=Number(e[t(387)](t(395)));a&&!GamblioChatWidget[t(446)](a)&&GamblioChatWidget.visibleIdsSet[t(666)](a)}),GamblioChatWidget[n(613)]&&clearTimeout(GamblioChatWidget.visibilityTimeout),GamblioChatWidget[n(613)]=setTimeout(()=>{const e=n;if(GamblioChatWidget[e(370)][e(440)]>0){const n=Array[e(653)](GamblioChatWidget.visibleIdsSet)[e(689)](n=>!GamblioChatWidget.isMessageAlreadySeen(n));n.length>0&&(GamblioChatWidget[e(514)](n),n.forEach(n=>GamblioChatWidget.seenIdsSet[e(666)](n))),GamblioChatWidget[e(370)].clear()}},300))},100)}}class Gamblio{static[n(635)]=void 0;static[n(717)]="en";static[n(741)]=!1;static chatConfig={};static recommendationConfig={};static async[n(722)](e){const t=n,a=e[t(695)],o=e[t(717)],i=e[t(383)]||{},s=e[t(780)]||{},r=e.gamePlayUrl;Gamblio[t(383)]={backgroundType:i[t(603)]||t(559),gradientDirection:i.gradientDirection||t(356),gradientColors:i[t(678)]||[t(299),t(344)],videoIndex:i[t(346)]||1,imageIndex:i.imageIndex||1,imageExtension:i[t(664)]||t(790),shadowColor:i[t(414)]||t(438),navButtonColor:i[t(550)]||t(687),navButtonHoverColor:i[t(586)]||t(489),displayMode:i[t(278)]||t(411)},Gamblio[t(780)]={backgroundPrimary:s[t(708)]||t(329),hoverColor:s[t(746)]||t(329),logoUrl:s[t(636)]||t(774)},Gamblio.backgroundType=Gamblio[t(383)].backgroundType,Gamblio[t(414)]=Gamblio[t(383)].shadowColor,Gamblio[t(678)]=Gamblio.recommendationConfig.gradientColors,Gamblio.gradientDirection=Gamblio[t(383)][t(399)],Gamblio[t(346)]=Gamblio[t(383)][t(346)],Gamblio[t(261)]=Gamblio[t(383)][t(261)],Gamblio[t(664)]=Gamblio.recommendationConfig[t(664)],Gamblio[t(550)]=Gamblio[t(383)][t(550)],Gamblio[t(586)]=Gamblio.recommendationConfig.navButtonHoverColor,Gamblio.displayMode=Gamblio[t(383)][t(278)],Gamblio[t(708)]=Gamblio.chatConfig[t(708)],Gamblio[t(636)]=Gamblio[t(780)][t(636)],Gamblio[t(746)]=Gamblio.chatConfig[t(746)],Gamblio.clientId=e[t(637)],Gamblio.gamePlayUrl=r||"#",Gamblio.recommendationWidgetTargetContainerId=e[t(328)],console[t(579)](Gamblio.isVip,t(530)),o&&(Gamblio[t(717)]=o);const c=Gamblio[t(289)](a);if(c)return Gamblio[t(635)]=c,Gamblio.isVip=await Gamblio.determineVipStatus(c),Gamblio[t(264)](),void Gamblio[t(711)]();Gamblio[t(264)]()}static[n(436)](e){const t=n,a=("; "+document[t(466)])[t(352)]("; "+e+"=");if(2===a[t(517)])return a[t(654)]()[t(352)](";").shift()}static[n(686)](e){const t=n;if(e&&"undefined"!=typeof window)try{return window[t(642)]?.getItem(e)||void 0}catch(n){return void console[t(733)](t(675)+e+t(469),n)}}static resolveToken(e){const t=n;if(!e)return;const a=typeof e===t(459)?e[t(791)]():void 0;let o;if(a){if(o=Gamblio.getTokenFromLocalStorage(a),o)return o;if(o=Gamblio.getCookie(a),o)return o}}static async[n(497)](e){const a=n;if(!e)return!1;try{const n=await fetch(t[a(274)]+a(563)+e);if(!n.ok)return console[a(733)](a(291)),!1;const o=await n[a(627)]();if(typeof o===a(515))return o;if(typeof o?.[a(741)]===a(515))return o[a(741)];if("boolean"==typeof o?.[a(758)])return o[a(758)]}catch(n){console[a(733)](a(718),n)}return!1}static[n(264)](){GamblioChatWidget[n(722)]()}static addRecommendationWidget(){GamblioRecommendationWidget[n(722)]()}}
